"use strict";var t=require("readline"),e=require("events"),r=require("os"),i=require("fs"),s=require("path"),n=require("util"),o=require("assert"),a=require("child_process");function h(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=h(t),c=h(e),u=h(r),d=h(i),p=h(s),f=h(n),m=h(o),g=h(a),v=function(){return(v=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var s in e=arguments[r])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};function y(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{h(i.next(t))}catch(t){n(t)}}function a(t){try{h(i.throw(t))}catch(t){n(t)}}function h(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}h((i=i.apply(t,e||[])).next())}))}function b(t,e){var r,i,s,n,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,i=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==n[0]&&2!==n[0])){o=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){o.label=n[1];break}if(6===n[0]&&o.label<s[1]){o.label=s[1],s=n;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(n);break}s[2]&&o.ops.pop(),o.trys.pop();continue}n=e.call(t,o)}catch(t){n=[6,t],i=0}finally{r=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}}var w={};const{FORCE_COLOR:S,NODE_DISABLE_COLORS:x,TERM:O}=process.env,k={enabled:!x&&"dumb"!==O&&"0"!==S,reset:_(0,0),bold:_(1,22),dim:_(2,22),italic:_(3,23),underline:_(4,24),inverse:_(7,27),hidden:_(8,28),strikethrough:_(9,29),black:_(30,39),red:_(31,39),green:_(32,39),yellow:_(33,39),blue:_(34,39),magenta:_(35,39),cyan:_(36,39),white:_(37,39),gray:_(90,39),grey:_(90,39),bgBlack:_(40,49),bgRed:_(41,49),bgGreen:_(42,49),bgYellow:_(43,49),bgBlue:_(44,49),bgMagenta:_(45,49),bgCyan:_(46,49),bgWhite:_(47,49)};function E(t,e){let r,i=0,s="",n="";for(;i<t.length;i++)r=t[i],s+=r.open,n+=r.close,e.includes(r.close)&&(e=e.replace(r.rgx,r.close+r.open));return s+e+n}function _(t,e){let r={open:`[${t}m`,close:`[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(e){return void 0!==this&&void 0!==this.has?(this.has.includes(t)||(this.has.push(t),this.keys.push(r)),void 0===e?this:k.enabled?E(this.keys,e+""):e+""):void 0===e?function(t,e){let r={has:t,keys:e};return r.reset=k.reset.bind(r),r.bold=k.bold.bind(r),r.dim=k.dim.bind(r),r.italic=k.italic.bind(r),r.underline=k.underline.bind(r),r.inverse=k.inverse.bind(r),r.hidden=k.hidden.bind(r),r.strikethrough=k.strikethrough.bind(r),r.black=k.black.bind(r),r.red=k.red.bind(r),r.green=k.green.bind(r),r.yellow=k.yellow.bind(r),r.blue=k.blue.bind(r),r.magenta=k.magenta.bind(r),r.cyan=k.cyan.bind(r),r.white=k.white.bind(r),r.gray=k.gray.bind(r),r.grey=k.grey.bind(r),r.bgBlack=k.bgBlack.bind(r),r.bgRed=k.bgRed.bind(r),r.bgGreen=k.bgGreen.bind(r),r.bgYellow=k.bgYellow.bind(r),r.bgBlue=k.bgBlue.bind(r),r.bgMagenta=k.bgMagenta.bind(r),r.bgCyan=k.bgCyan.bind(r),r.bgWhite=k.bgWhite.bind(r),r}([t],[r]):k.enabled?E([r],e+""):e+""}}var T=k,M=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(e,"g");return"string"==typeof t?t.replace(r,""):t};const j={to:(t,e)=>e?`[${e+1};${t+1}H`:`[${t+1}G`,move(t,e){let r="";return t<0?r+=`[${-t}D`:t>0&&(r+=`[${t}C`),e<0?r+=`[${-e}A`:e>0&&(r+=`[${e}B`),r},up:(t=1)=>`[${t}A`,down:(t=1)=>`[${t}B`,forward:(t=1)=>`[${t}C`,backward:(t=1)=>`[${t}D`,nextLine:(t=1)=>"[E".repeat(t),prevLine:(t=1)=>"[F".repeat(t),left:"[G",hide:"[?25l",show:"[?25h",save:"7",restore:"8"},A={screen:"[2J",up:(t=1)=>"[1J".repeat(t),down:(t=1)=>"[J".repeat(t),line:"[2K",lineEnd:"[K",lineStart:"[1K",lines(t){let e="";for(let r=0;r<t;r++)e+=this.line+(r<t-1?j.up():"");return t&&(e+=j.left),e}};var D={cursor:j,scroll:{up:(t=1)=>"[S".repeat(t),down:(t=1)=>"[T".repeat(t)},erase:A,beep:""};function P(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,s=function(){};return{s:s,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,n=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw n}}}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}const I=M,R=D.erase,F=D.cursor;const L={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},$={arrowUp:L.arrowUp,arrowDown:L.arrowDown,arrowLeft:L.arrowLeft,arrowRight:L.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"};var N="win32"===process.platform?$:L;const Y=T,V=N,G=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),H=Object.freeze({aborted:Y.red(V.cross),done:Y.green(V.tick),exited:Y.yellow(V.cross),default:Y.cyan("?")});const U=M;var q={action:(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}},clear:function(t,e){if(!e)return R.line+F.to(0);let r=0;var i,s=P(t.split(/\r?\n/));try{for(s.s();!(i=s.n()).done;){let t=i.value;r+=1+Math.floor(Math.max([...I(t)].length-1,0)/e)}}catch(t){s.e(t)}finally{s.f()}return R.lines(r)},style:{styles:G,render:t=>G[t]||G.default,symbols:H,symbol:(t,e,r)=>e?H.aborted:r?H.exited:t?H.done:H.default,delimiter:t=>Y.gray(t?V.ellipsis:V.pointerSmall),item:(t,e)=>Y.gray(t?e?V.pointerSmall:"+":V.line)},strip:M,figures:N,lines:function(t,e){let r=String(U(t)||"").split(/\r?\n/);return e?r.map((t=>Math.ceil(t.length/e))).reduce(((t,e)=>t+e)):r.length},wrap:(t,e={})=>{const r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+r.length>=i||t[t.length-1].length+e.length+1<i?t[t.length-1]+=` ${e}`:t.push(`${r}${e}`),t)),[r]).join("\n"))).join("\n")},entriesToDisplay:(t,e,r)=>{r=r||e;let i=Math.min(e-r,t-Math.floor(r/2));return i<0&&(i=0),{startIndex:i,endIndex:Math.min(i+r,e)}}};const B=l.default,W=q.action,z=c.default,J=D.beep,X=D.cursor,K=T;var Q=class extends z{constructor(t={}){super(),this.firstRender=!0,this.in=t.stdin||process.stdin,this.out=t.stdout||process.stdout,this.onRender=(t.onRender||(()=>{})).bind(this);const e=B.createInterface({input:this.in,escapeCodeTimeout:50});B.emitKeypressEvents(this.in,e),this.in.isTTY&&this.in.setRawMode(!0);const r=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,i=(t,e)=>{let i=W(e,r);!1===i?this._&&this._(t,e):"function"==typeof this[i]?this[i](e):this.bell()};this.close=()=>{this.out.write(X.show),this.in.removeListener("keypress",i),this.in.isTTY&&this.in.setRawMode(!1),e.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",i)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(J)}render(){this.onRender(K),this.firstRender&&(this.firstRender=!1)}};function Z(t,e,r,i,s,n,o){try{var a=t[n](o),h=a.value}catch(t){return void r(t)}a.done?e(h):Promise.resolve(h).then(i,s)}function tt(t){return function(){var e=this,r=arguments;return new Promise((function(i,s){var n=t.apply(e,r);function o(t){Z(n,i,s,o,a,"next",t)}function a(t){Z(n,i,s,o,a,"throw",t)}o(void 0)}))}}const et=T,rt=Q,it=D.erase,st=D.cursor,nt=q.style,ot=q.clear,at=q.lines,ht=q.figures;var lt=class extends rt{constructor(t={}){super(t),this.transform=nt.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=ot("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=et.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return tt((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return tt((function*(){if(t.value=t.value||t.initial,t.cursorOffset=0,t.cursor=t.rendered.length,yield t.validate(),t.error)return t.red=!0,t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let r=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.value=`${r}${t}${i}`,this.red=!1,this.cursor=this.placeholder?0:r.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(st.down(at(this.outputError,this.out.columns)-1)+ot(this.outputError,this.out.columns)),this.out.write(ot(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[nt.symbol(this.done,this.aborted),et.bold(this.msg),nt.delimiter(this.done),this.red?et.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,r)=>t+`\n${r?" ":ht.pointerSmall} ${et.red().italic(e)}`),"")),this.out.write(it.line+st.to(0)+this.outputText+st.save+this.outputError+st.restore+st.move(this.cursorOffset,0)))}};const ct=T,ut=Q,dt=q.style,pt=q.clear,ft=q.figures,mt=q.wrap,gt=q.entriesToDisplay,vt=D.cursor;var yt=class extends ut{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=pt("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(vt.hide):this.out.write(pt(this.outputText,this.out.columns)),super.render();let t=gt(this.cursor,this.choices.length,this.optionsPerPage),e=t.startIndex,r=t.endIndex;if(this.outputText=[dt.symbol(this.done,this.aborted),ct.bold(this.msg),dt.delimiter(!1),this.done?this.selection.title:this.selection.disabled?ct.yellow(this.warn):ct.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let t=e;t<r;t++){let i,s,n="",o=this.choices[t];s=t===e&&e>0?ft.arrowUp:t===r-1&&r<this.choices.length?ft.arrowDown:" ",o.disabled?(i=this.cursor===t?ct.gray().underline(o.title):ct.strikethrough().gray(o.title),s=(this.cursor===t?ct.bold().gray(ft.pointer)+" ":"  ")+s):(i=this.cursor===t?ct.cyan().underline(o.title):o.title,s=(this.cursor===t?ct.cyan(ft.pointer)+" ":"  ")+s,o.description&&this.cursor===t&&(n=` - ${o.description}`,(s.length+i.length+n.length>=this.out.columns||o.description.split(/\r?\n/).length>1)&&(n="\n"+mt(o.description,{margin:3,width:this.out.columns})))),this.outputText+=`${s} ${i}${ct.gray(n)}\n`}}this.out.write(this.outputText)}};const bt=T,wt=Q,St=q.style,xt=q.clear,Ot=D.cursor,kt=D.erase;var Et=class extends wt{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(Ot.hide):this.out.write(xt(this.outputText,this.out.columns)),super.render(),this.outputText=[St.symbol(this.done,this.aborted),bt.bold(this.msg),St.delimiter(this.done),this.value?this.inactive:bt.cyan().underline(this.inactive),bt.gray("/"),this.value?bt.cyan().underline(this.active):this.active].join(" "),this.out.write(kt.line+Ot.to(0)+this.outputText))}};class _t{constructor({token:t,date:e,parts:r,locales:i}){this.token=t,this.date=e||new Date,this.parts=r||[this],this.locales=i||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find(((e,r)=>r>t&&e instanceof _t))}setTo(t){}prev(){let t=[].concat(this.parts).reverse();const e=t.indexOf(this);return t.find(((t,r)=>r>e&&t instanceof _t))}toString(){return String(this.date)}}var Tt=_t;const Mt=Tt;var jt=class extends Mt{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}};const At=Tt;var Dt=class extends At{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(r=t,1==(r%=10)?"st":2===r?"nd":3===r?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var r}};const Pt=Tt;var Ct=class extends Pt{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}};const It=Tt;var Rt=class extends It{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};const Ft=Tt;var Lt=class extends Ft{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}};const $t=Tt;var Nt=class extends $t{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}};const Yt=Tt;var Vt=class extends Yt{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}};const Gt=Tt;var Ht={DatePart:Tt,Meridiem:jt,Day:Dt,Hours:Ct,Milliseconds:Rt,Minutes:Lt,Month:Nt,Seconds:Vt,Year:class extends Gt{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}}};function Ut(t,e,r,i,s,n,o){try{var a=t[n](o),h=a.value}catch(t){return void r(t)}a.done?e(h):Promise.resolve(h).then(i,s)}function qt(t){return function(){var e=this,r=arguments;return new Promise((function(i,s){var n=t.apply(e,r);function o(t){Ut(n,i,s,o,a,"next",t)}function a(t){Ut(n,i,s,o,a,"throw",t)}o(void 0)}))}}const Bt=T,Wt=Q,zt=q.style,Jt=q.clear,Xt=q.figures,Kt=D.erase,Qt=D.cursor,Zt=Ht.DatePart,te=Ht.Meridiem,ee=Ht.Day,re=Ht.Hours,ie=Ht.Milliseconds,se=Ht.Minutes,ne=Ht.Month,oe=Ht.Seconds,ae=Ht.Year,he=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,le={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new ee(t),3:t=>new ne(t),4:t=>new ae(t),5:t=>new te(t),6:t=>new re(t),7:t=>new se(t),8:t=>new oe(t),9:t=>new ie(t)},ce={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};var ue=class extends Wt{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(ce,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=Jt("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=he.exec(t);){let t=e.shift(),r=e.findIndex((t=>null!=t));this.parts.push(r in le?le[r]({token:e[r]||t,date:this.date,parts:this.parts,locales:this.locales}):e[r]||t)}let r=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...r),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof Zt))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return qt((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return qt((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof Zt))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(Qt.hide):this.out.write(Jt(this.outputText,this.out.columns)),super.render(),this.outputText=[zt.symbol(this.done,this.aborted),Bt.bold(this.msg),zt.delimiter(!1),this.parts.reduce(((t,e,r)=>t.concat(r!==this.cursor||this.done?e:Bt.cyan().underline(e.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((t,e,r)=>t+`\n${r?" ":Xt.pointerSmall} ${Bt.red().italic(e)}`),"")),this.out.write(Kt.line+Qt.to(0)+this.outputText))}};function de(t,e,r,i,s,n,o){try{var a=t[n](o),h=a.value}catch(t){return void r(t)}a.done?e(h):Promise.resolve(h).then(i,s)}function pe(t){return function(){var e=this,r=arguments;return new Promise((function(i,s){var n=t.apply(e,r);function o(t){de(n,i,s,o,a,"next",t)}function a(t){de(n,i,s,o,a,"throw",t)}o(void 0)}))}}const fe=T,me=Q,ge=D.cursor,ve=D.erase,ye=q.style,be=q.figures,we=q.clear,Se=q.lines,xe=/[0-9]/,Oe=t=>void 0!==t,ke=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r};var Ee=class extends me{constructor(t={}){super(t),this.transform=ye.render(t.style),this.msg=t.message,this.initial=Oe(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=Oe(t.min)?t.min:-1/0,this.max=Oe(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){t||0===t?(this.placeholder=!1,this.rendered=this.transform.render(`${ke(t,this.round)}`),this._value=ke(t,this.round)):(this.placeholder=!0,this.rendered=fe.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||xe.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return pe((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return pe((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();let e=t.value;t.value=""!==e?e:t.initial,t.done=!0,t.aborted=!1,t.error=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const r=Date.now();if(r-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=r,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(ge.down(Se(this.outputError,this.out.columns)-1)+we(this.outputError,this.out.columns)),this.out.write(we(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[ye.symbol(this.done,this.aborted),fe.bold(this.msg),ye.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:fe[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,r)=>t+`\n${r?" ":be.pointerSmall} ${fe.red().italic(e)}`),"")),this.out.write(ve.line+ge.to(0)+this.outputText+ge.save+this.outputError+ge.restore))}};const _e=T,Te=D.cursor,Me=Q,je=q.clear,Ae=q.figures,De=q.style,Pe=q.wrap,Ce=q.entriesToDisplay;var Ie=class extends Me{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=je("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${Ae.arrowUp}/${Ae.arrowDown}: Highlight option\n    ${Ae.arrowLeft}/${Ae.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(t,e,r,i){const s=(e.selected?_e.green(Ae.radioOn):Ae.radioOff)+" "+i+" ";let n,o;return e.disabled?n=t===r?_e.gray().underline(e.title):_e.strikethrough().gray(e.title):(n=t===r?_e.cyan().underline(e.title):e.title,t===r&&e.description&&(o=` - ${e.description}`,(s.length+n.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o="\n"+Pe(e.description,{margin:s.length,width:this.out.columns})))),s+n+_e.gray(o||"")}paginateOptions(t){if(0===t.length)return _e.red("No matches for this query.");let e,r=Ce(this.cursor,t.length,this.optionsPerPage),i=r.startIndex,s=r.endIndex,n=[];for(let r=i;r<s;r++)e=r===i&&i>0?Ae.arrowUp:r===s-1&&s<t.length?Ae.arrowDown:" ",n.push(this.renderOption(this.cursor,t[r],r,e));return"\n"+n.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const t=[_e.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&t.push(_e.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Te.hide),super.render();let t=[De.symbol(this.done,this.aborted),_e.bold(this.msg),De.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=_e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.value),this.out.write(this.clear+t),this.clear=je(t,this.out.columns)}};function Re(t,e,r,i,s,n,o){try{var a=t[n](o),h=a.value}catch(t){return void r(t)}a.done?e(h):Promise.resolve(h).then(i,s)}const Fe=T,Le=Q,$e=D.erase,Ne=D.cursor,Ye=q.style,Ve=q.clear,Ge=q.figures,He=q.wrap,Ue=q.entriesToDisplay,qe=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),Be=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);var We=class extends Le{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const r=t.findIndex((t=>t.value===e||t.title===e));return r>-1?r:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=Ye.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=Ve("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=qe(this.suggestions,t):this.value=this.fallback.value,this.fire()}complete(t){var e,r=this;return(e=function*(){const e=r.completing=r.suggest(r.input,r.choices),i=yield e;if(r.completing!==e)return;r.suggestions=i.map(((t,e,r)=>({title:Be(r,e),value:qe(r,e),description:t.description}))),r.completing=!1;const s=Math.max(i.length-1,0);r.moveSelect(Math.min(s,r.select)),t&&t()},function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function o(t){Re(n,i,s,o,a,"next",t)}function a(t){Re(n,i,s,o,a,"throw",t)}o(void 0)}))})()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let r=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor);this.input=`${r}${t}${i}`,this.cursor=r.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,e,r,i){let s,n=r?Ge.arrowUp:i?Ge.arrowDown:" ",o=e?Fe.cyan().underline(t.title):t.title;return n=(e?Fe.cyan(Ge.pointer)+" ":"  ")+n,t.description&&(s=` - ${t.description}`,(n.length+o.length+s.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(s="\n"+He(t.description,{margin:3,width:this.out.columns}))),n+" "+o+Fe.gray(s||"")}render(){if(this.closed)return;this.firstRender?this.out.write(Ne.hide):this.out.write(Ve(this.outputText,this.out.columns)),super.render();let t=Ue(this.select,this.choices.length,this.limit),e=t.startIndex,r=t.endIndex;if(this.outputText=[Ye.symbol(this.done,this.aborted,this.exited),Fe.bold(this.msg),Ye.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const t=this.suggestions.slice(e,r).map(((t,i)=>this.renderOption(t,this.select===i+e,0===i&&e>0,i+e===r-1&&r<this.choices.length))).join("\n");this.outputText+="\n"+(t||Fe.gray(this.fallback.title))}this.out.write($e.line+Ne.to(0)+this.outputText)}};const ze=T,Je=D.cursor,Xe=Ie,Ke=q.clear,Qe=q.style,Ze=q.figures;var tr=class extends Xe{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=Ke("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||(!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase())))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${Ze.arrowUp}/${Ze.arrowDown}: Highlight option\n    ${Ze.arrowLeft}/${Ze.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:ze.gray("Enter something to filter")}\n`}renderOption(t,e,r){let i;return i=e.disabled?t===r?ze.gray().underline(e.title):ze.strikethrough().gray(e.title):t===r?ze.cyan().underline(e.title):e.title,(e.selected?ze.green(Ze.radioOn):Ze.radioOff)+"  "+i}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const t=[ze.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&t.push(ze.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Je.hide),super.render();let t=[Qe.symbol(this.done,this.aborted),ze.bold(this.msg),Qe.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=ze.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+t),this.clear=Ke(t,this.out.columns)}};const er=T,rr=Q,ir=q.style,sr=q.clear,nr=D.erase,or=D.cursor;var ar={TextPrompt:lt,SelectPrompt:yt,TogglePrompt:Et,DatePrompt:ue,NumberPrompt:Ee,MultiselectPrompt:Ie,AutocompletePrompt:We,AutocompleteMultiselectPrompt:tr,ConfirmPrompt:class extends rr{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(or.hide):this.out.write(sr(this.outputText,this.out.columns)),super.render(),this.outputText=[ir.symbol(this.done,this.aborted),er.bold(this.msg),ir.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:er.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(nr.line+or.to(0)+this.outputText))}}};function hr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function lr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?hr(Object(r),!0).forEach((function(e){cr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function cr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ur(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return dr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dr(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,s=function(){};return{s:s,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,n=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw n}}}}function dr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function pr(t,e,r,i,s,n,o){try{var a=t[n](o),h=a.value}catch(t){return void r(t)}a.done?e(h):Promise.resolve(h).then(i,s)}function fr(t){return function(){var e=this,r=arguments;return new Promise((function(i,s){var n=t.apply(e,r);function o(t){pr(n,i,s,o,a,"next",t)}function a(t){pr(n,i,s,o,a,"throw",t)}o(void 0)}))}}!function(t){const e=w,r=ar,i=t=>t;function s(t,e,s={}){return new Promise(((n,o)=>{const a=new r[t](e),h=s.onAbort||i,l=s.onSubmit||i,c=s.onExit||i;a.on("state",e.onState||i),a.on("submit",(t=>n(l(t)))),a.on("exit",(t=>n(c(t)))),a.on("abort",(t=>o(h(t))))}))}e.text=t=>s("TextPrompt",t),e.password=t=>(t.style="password",e.text(t)),e.invisible=t=>(t.style="invisible",e.text(t)),e.number=t=>s("NumberPrompt",t),e.date=t=>s("DatePrompt",t),e.confirm=t=>s("ConfirmPrompt",t),e.list=t=>{const e=t.separator||",";return s("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},e.toggle=t=>s("TogglePrompt",t),e.select=t=>s("SelectPrompt",t),e.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return s("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},e.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return s("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const n=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));e.autocomplete=t=>(t.suggest=t.suggest||n,t.choices=[].concat(t.choices||[]),s("AutocompletePrompt",t))}();const mr=w,gr=["suggest","format","onState","validate","onRender","type"],vr=()=>{};function yr(){return br.apply(this,arguments)}function br(){return(br=fr((function*(t=[],{onSubmit:e=vr,onCancel:r=vr}={}){const i={},s=yr._override||{};let n,o,a,h,l,c;t=[].concat(t);const u=function(){var t=fr((function*(t,e,r=!1){if(r||!t.validate||!0===t.validate(e))return t.format?yield t.format(e,i):e}));return function(e,r){return t.apply(this,arguments)}}();var d,p=ur(t);try{for(p.s();!(d=p.n()).done;){o=d.value;var f=o;if(h=f.name,l=f.type,"function"==typeof l&&(l=yield l(n,lr({},i),o),o.type=l),l){for(let t in o){if(gr.includes(t))continue;let e=o[t];o[t]="function"==typeof e?yield e(n,lr({},i),c):e}if(c=o,"string"!=typeof o.message)throw new Error("prompt message is required");var m=o;if(h=m.name,l=m.type,void 0===mr[l])throw new Error(`prompt type (${l}) is not defined`);if(void 0===s[o.name]||(n=yield u(o,s[o.name]),void 0===n)){try{n=yr._injected?wr(yr._injected,o.initial):yield mr[l](o),i[h]=n=yield u(o,n,!0),a=yield e(o,n,i)}catch(t){a=!(yield r(o,i))}if(a)return i}else i[h]=n}}}catch(t){p.e(t)}finally{p.f()}return i}))).apply(this,arguments)}function wr(t,e){const r=t.shift();if(r instanceof Error)throw r;return void 0===r?e:r}var Sr=Object.assign(yr,{prompt:yr,prompts:mr,inject:function(t){yr._injected=(yr._injected||[]).concat(t)},override:function(t){yr._override=Object.assign({},t)}}),xr={},Or=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(e,"g");return"string"==typeof t?t.replace(r,""):t};const kr=Or,{erase:Er,cursor:_r}=D;const Tr={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},Mr={arrowUp:Tr.arrowUp,arrowDown:Tr.arrowDown,arrowLeft:Tr.arrowLeft,arrowRight:Tr.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"};var jr="win32"===process.platform?Mr:Tr;const Ar=T,Dr=jr,Pr=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),Cr=Object.freeze({aborted:Ar.red(Dr.cross),done:Ar.green(Dr.tick),exited:Ar.yellow(Dr.cross),default:Ar.cyan("?")});const Ir=Or;var Rr={action:(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}},clear:function(t,e){if(!e)return Er.line+_r.to(0);let r=0;const i=t.split(/\r?\n/);for(let t of i)r+=1+Math.floor(Math.max([...kr(t)].length-1,0)/e);return Er.lines(r)},style:{styles:Pr,render:t=>Pr[t]||Pr.default,symbols:Cr,symbol:(t,e,r)=>e?Cr.aborted:r?Cr.exited:t?Cr.done:Cr.default,delimiter:t=>Ar.gray(t?Dr.ellipsis:Dr.pointerSmall),item:(t,e)=>Ar.gray(t?e?Dr.pointerSmall:"+":Dr.line)},strip:Or,figures:jr,lines:function(t,e){let r=String(Ir(t)||"").split(/\r?\n/);return e?r.map((t=>Math.ceil(t.length/e))).reduce(((t,e)=>t+e)):r.length},wrap:(t,e={})=>{const r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+r.length>=i||t[t.length-1].length+e.length+1<i?t[t.length-1]+=` ${e}`:t.push(`${r}${e}`),t)),[r]).join("\n"))).join("\n")},entriesToDisplay:(t,e,r)=>{r=r||e;let i=Math.min(e-r,t-Math.floor(r/2));return i<0&&(i=0),{startIndex:i,endIndex:Math.min(i+r,e)}}};const Fr=l.default,{action:Lr}=Rr,$r=c.default,{beep:Nr,cursor:Yr}=D,Vr=T;var Gr=class extends $r{constructor(t={}){super(),this.firstRender=!0,this.in=t.stdin||process.stdin,this.out=t.stdout||process.stdout,this.onRender=(t.onRender||(()=>{})).bind(this);const e=Fr.createInterface({input:this.in,escapeCodeTimeout:50});Fr.emitKeypressEvents(this.in,e),this.in.isTTY&&this.in.setRawMode(!0);const r=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,i=(t,e)=>{let i=Lr(e,r);!1===i?this._&&this._(t,e):"function"==typeof this[i]?this[i](e):this.bell()};this.close=()=>{this.out.write(Yr.show),this.in.removeListener("keypress",i),this.in.isTTY&&this.in.setRawMode(!1),e.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",i)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(Nr)}render(){this.onRender(Vr),this.firstRender&&(this.firstRender=!1)}};const Hr=T,Ur=Gr,{erase:qr,cursor:Br}=D,{style:Wr,clear:zr,lines:Jr,figures:Xr}=Rr;var Kr=class extends Ur{constructor(t={}){super(t),this.transform=Wr.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=zr("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=Hr.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error)return this.red=!0,this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let r=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.value=`${r}${t}${i}`,this.red=!1,this.cursor=this.placeholder?0:r.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Br.down(Jr(this.outputError,this.out.columns)-1)+zr(this.outputError,this.out.columns)),this.out.write(zr(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Wr.symbol(this.done,this.aborted),Hr.bold(this.msg),Wr.delimiter(this.done),this.red?Hr.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,r)=>t+`\n${r?" ":Xr.pointerSmall} ${Hr.red().italic(e)}`),"")),this.out.write(qr.line+Br.to(0)+this.outputText+Br.save+this.outputError+Br.restore+Br.move(this.cursorOffset,0)))}};const Qr=T,Zr=Gr,{style:ti,clear:ei,figures:ri,wrap:ii,entriesToDisplay:si}=Rr,{cursor:ni}=D;var oi=class extends Zr{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=ei("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(ni.hide):this.out.write(ei(this.outputText,this.out.columns)),super.render();let{startIndex:t,endIndex:e}=si(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[ti.symbol(this.done,this.aborted),Qr.bold(this.msg),ti.delimiter(!1),this.done?this.selection.title:this.selection.disabled?Qr.yellow(this.warn):Qr.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let r=t;r<e;r++){let i,s,n="",o=this.choices[r];s=r===t&&t>0?ri.arrowUp:r===e-1&&e<this.choices.length?ri.arrowDown:" ",o.disabled?(i=this.cursor===r?Qr.gray().underline(o.title):Qr.strikethrough().gray(o.title),s=(this.cursor===r?Qr.bold().gray(ri.pointer)+" ":"  ")+s):(i=this.cursor===r?Qr.cyan().underline(o.title):o.title,s=(this.cursor===r?Qr.cyan(ri.pointer)+" ":"  ")+s,o.description&&this.cursor===r&&(n=` - ${o.description}`,(s.length+i.length+n.length>=this.out.columns||o.description.split(/\r?\n/).length>1)&&(n="\n"+ii(o.description,{margin:3,width:this.out.columns})))),this.outputText+=`${s} ${i}${Qr.gray(n)}\n`}}this.out.write(this.outputText)}};const ai=T,hi=Gr,{style:li,clear:ci}=Rr,{cursor:ui,erase:di}=D;var pi=class extends hi{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(ui.hide):this.out.write(ci(this.outputText,this.out.columns)),super.render(),this.outputText=[li.symbol(this.done,this.aborted),ai.bold(this.msg),li.delimiter(this.done),this.value?this.inactive:ai.cyan().underline(this.inactive),ai.gray("/"),this.value?ai.cyan().underline(this.active):this.active].join(" "),this.out.write(di.line+ui.to(0)+this.outputText))}};class fi{constructor({token:t,date:e,parts:r,locales:i}){this.token=t,this.date=e||new Date,this.parts=r||[this],this.locales=i||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find(((e,r)=>r>t&&e instanceof fi))}setTo(t){}prev(){let t=[].concat(this.parts).reverse();const e=t.indexOf(this);return t.find(((t,r)=>r>e&&t instanceof fi))}toString(){return String(this.date)}}var mi=fi;const gi=mi;var vi=class extends gi{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}};const yi=mi;var bi=class extends yi{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(r=t,1==(r%=10)?"st":2===r?"nd":3===r?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var r}};const wi=mi;var Si=class extends wi{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}};const xi=mi;var Oi=class extends xi{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};const ki=mi;var Ei=class extends ki{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}};const _i=mi;var Ti=class extends _i{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}};const Mi=mi;var ji=class extends Mi{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}};const Ai=mi;var Di={DatePart:mi,Meridiem:vi,Day:bi,Hours:Si,Milliseconds:Oi,Minutes:Ei,Month:Ti,Seconds:ji,Year:class extends Ai{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}}};const Pi=T,Ci=Gr,{style:Ii,clear:Ri,figures:Fi}=Rr,{erase:Li,cursor:$i}=D,{DatePart:Ni,Meridiem:Yi,Day:Vi,Hours:Gi,Milliseconds:Hi,Minutes:Ui,Month:qi,Seconds:Bi,Year:Wi}=Di,zi=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Ji={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new Vi(t),3:t=>new qi(t),4:t=>new Wi(t),5:t=>new Yi(t),6:t=>new Gi(t),7:t=>new Ui(t),8:t=>new Bi(t),9:t=>new Hi(t)},Xi={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};var Ki=class extends Ci{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(Xi,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=Ri("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=zi.exec(t);){let t=e.shift(),r=e.findIndex((t=>null!=t));this.parts.push(r in Ji?Ji[r]({token:e[r]||t,date:this.date,parts:this.parts,locales:this.locales}):e[r]||t)}let r=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...r),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof Ni))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof Ni))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write($i.hide):this.out.write(Ri(this.outputText,this.out.columns)),super.render(),this.outputText=[Ii.symbol(this.done,this.aborted),Pi.bold(this.msg),Ii.delimiter(!1),this.parts.reduce(((t,e,r)=>t.concat(r!==this.cursor||this.done?e:Pi.cyan().underline(e.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((t,e,r)=>t+`\n${r?" ":Fi.pointerSmall} ${Pi.red().italic(e)}`),"")),this.out.write(Li.line+$i.to(0)+this.outputText))}};const Qi=T,Zi=Gr,{cursor:ts,erase:es}=D,{style:rs,figures:is,clear:ss,lines:ns}=Rr,os=/[0-9]/,as=t=>void 0!==t,hs=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r};var ls=class extends Zi{constructor(t={}){super(t),this.transform=rs.render(t.style),this.msg=t.message,this.initial=as(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=as(t.min)?t.min:-1/0,this.max=as(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){t||0===t?(this.placeholder=!1,this.rendered=this.transform.render(`${hs(t,this.round)}`),this._value=hs(t,this.round)):(this.placeholder=!0,this.rendered=Qi.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||os.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();let t=this.value;this.value=""!==t?t:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const r=Date.now();if(r-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=r,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(ts.down(ns(this.outputError,this.out.columns)-1)+ss(this.outputError,this.out.columns)),this.out.write(ss(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[rs.symbol(this.done,this.aborted),Qi.bold(this.msg),rs.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:Qi[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,r)=>t+`\n${r?" ":is.pointerSmall} ${Qi.red().italic(e)}`),"")),this.out.write(es.line+ts.to(0)+this.outputText+ts.save+this.outputError+ts.restore))}};const cs=T,{cursor:us}=D,ds=Gr,{clear:ps,figures:fs,style:ms,wrap:gs,entriesToDisplay:vs}=Rr;var ys=class extends ds{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=ps("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${fs.arrowUp}/${fs.arrowDown}: Highlight option\n    ${fs.arrowLeft}/${fs.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(t,e,r,i){const s=(e.selected?cs.green(fs.radioOn):fs.radioOff)+" "+i+" ";let n,o;return e.disabled?n=t===r?cs.gray().underline(e.title):cs.strikethrough().gray(e.title):(n=t===r?cs.cyan().underline(e.title):e.title,t===r&&e.description&&(o=` - ${e.description}`,(s.length+n.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o="\n"+gs(e.description,{margin:s.length,width:this.out.columns})))),s+n+cs.gray(o||"")}paginateOptions(t){if(0===t.length)return cs.red("No matches for this query.");let e,{startIndex:r,endIndex:i}=vs(this.cursor,t.length,this.optionsPerPage),s=[];for(let n=r;n<i;n++)e=n===r&&r>0?fs.arrowUp:n===i-1&&i<t.length?fs.arrowDown:" ",s.push(this.renderOption(this.cursor,t[n],n,e));return"\n"+s.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const t=[cs.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&t.push(cs.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(us.hide),super.render();let t=[ms.symbol(this.done,this.aborted),cs.bold(this.msg),ms.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=cs.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.value),this.out.write(this.clear+t),this.clear=ps(t,this.out.columns)}};const bs=T,ws=Gr,{erase:Ss,cursor:xs}=D,{style:Os,clear:ks,figures:Es,wrap:_s,entriesToDisplay:Ts}=Rr,Ms=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),js=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);var As=class extends ws{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const r=t.findIndex((t=>t.value===e||t.title===e));return r>-1?r:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=Os.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=ks("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=Ms(this.suggestions,t):this.value=this.fallback.value,this.fire()}async complete(t){const e=this.completing=this.suggest(this.input,this.choices),r=await e;if(this.completing!==e)return;this.suggestions=r.map(((t,e,r)=>({title:js(r,e),value:Ms(r,e),description:t.description}))),this.completing=!1;const i=Math.max(r.length-1,0);this.moveSelect(Math.min(i,this.select)),t&&t()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let r=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor);this.input=`${r}${t}${i}`,this.cursor=r.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,e,r,i){let s,n=r?Es.arrowUp:i?Es.arrowDown:" ",o=e?bs.cyan().underline(t.title):t.title;return n=(e?bs.cyan(Es.pointer)+" ":"  ")+n,t.description&&(s=` - ${t.description}`,(n.length+o.length+s.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(s="\n"+_s(t.description,{margin:3,width:this.out.columns}))),n+" "+o+bs.gray(s||"")}render(){if(this.closed)return;this.firstRender?this.out.write(xs.hide):this.out.write(ks(this.outputText,this.out.columns)),super.render();let{startIndex:t,endIndex:e}=Ts(this.select,this.choices.length,this.limit);if(this.outputText=[Os.symbol(this.done,this.aborted,this.exited),bs.bold(this.msg),Os.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const r=this.suggestions.slice(t,e).map(((r,i)=>this.renderOption(r,this.select===i+t,0===i&&t>0,i+t===e-1&&e<this.choices.length))).join("\n");this.outputText+="\n"+(r||bs.gray(this.fallback.title))}this.out.write(Ss.line+xs.to(0)+this.outputText)}};const Ds=T,{cursor:Ps}=D,Cs=ys,{clear:Is,style:Rs,figures:Fs}=Rr;var Ls=class extends Cs{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=Is("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||(!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase())))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${Fs.arrowUp}/${Fs.arrowDown}: Highlight option\n    ${Fs.arrowLeft}/${Fs.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:Ds.gray("Enter something to filter")}\n`}renderOption(t,e,r){let i;return i=e.disabled?t===r?Ds.gray().underline(e.title):Ds.strikethrough().gray(e.title):t===r?Ds.cyan().underline(e.title):e.title,(e.selected?Ds.green(Fs.radioOn):Fs.radioOff)+"  "+i}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const t=[Ds.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&t.push(Ds.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Ps.hide),super.render();let t=[Rs.symbol(this.done,this.aborted),Ds.bold(this.msg),Rs.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=Ds.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+t),this.clear=Is(t,this.out.columns)}};const $s=T,Ns=Gr,{style:Ys,clear:Vs}=Rr,{erase:Gs,cursor:Hs}=D;var Us={TextPrompt:Kr,SelectPrompt:oi,TogglePrompt:pi,DatePrompt:Ki,NumberPrompt:ls,MultiselectPrompt:ys,AutocompletePrompt:As,AutocompleteMultiselectPrompt:Ls,ConfirmPrompt:class extends Ns{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(Hs.hide):this.out.write(Vs(this.outputText,this.out.columns)),super.render(),this.outputText=[Ys.symbol(this.done,this.aborted),$s.bold(this.msg),Ys.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:$s.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(Gs.line+Hs.to(0)+this.outputText))}}};!function(t){const e=xr,r=Us,i=t=>t;function s(t,e,s={}){return new Promise(((n,o)=>{const a=new r[t](e),h=s.onAbort||i,l=s.onSubmit||i,c=s.onExit||i;a.on("state",e.onState||i),a.on("submit",(t=>n(l(t)))),a.on("exit",(t=>n(c(t)))),a.on("abort",(t=>o(h(t))))}))}e.text=t=>s("TextPrompt",t),e.password=t=>(t.style="password",e.text(t)),e.invisible=t=>(t.style="invisible",e.text(t)),e.number=t=>s("NumberPrompt",t),e.date=t=>s("DatePrompt",t),e.confirm=t=>s("ConfirmPrompt",t),e.list=t=>{const e=t.separator||",";return s("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},e.toggle=t=>s("TogglePrompt",t),e.select=t=>s("SelectPrompt",t),e.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return s("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},e.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return s("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const n=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));e.autocomplete=t=>(t.suggest=t.suggest||n,t.choices=[].concat(t.choices||[]),s("AutocompletePrompt",t))}();const qs=xr,Bs=["suggest","format","onState","validate","onRender","type"],Ws=()=>{};async function zs(t=[],{onSubmit:e=Ws,onCancel:r=Ws}={}){const i={},s=zs._override||{};let n,o,a,h,l,c;t=[].concat(t);const u=async(t,e,r=!1)=>{if(r||!t.validate||!0===t.validate(e))return t.format?await t.format(e,i):e};for(o of t)if(({name:h,type:l}=o),"function"==typeof l&&(l=await l(n,{...i},o),o.type=l),l){for(let t in o){if(Bs.includes(t))continue;let e=o[t];o[t]="function"==typeof e?await e(n,{...i},c):e}if(c=o,"string"!=typeof o.message)throw new Error("prompt message is required");if(({name:h,type:l}=o),void 0===qs[l])throw new Error(`prompt type (${l}) is not defined`);if(void 0===s[o.name]||(n=await u(o,s[o.name]),void 0===n)){try{n=zs._injected?Js(zs._injected,o.initial):await qs[l](o),i[h]=n=await u(o,n,!0),a=await e(o,n,i)}catch(t){a=!await r(o,i)}if(a)return i}else i[h]=n}return i}function Js(t,e){const r=t.shift();if(r instanceof Error)throw r;return void 0===r?e:r}var Xs=Object.assign(zs,{prompt:zs,prompts:qs,inject:function(t){zs._injected=(zs._injected||[]).concat(t)},override:function(t){zs._override=Object.assign({},t)}});var Ks=function(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,r=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(r[e]>t[e])return!1;if(t[e]>r[e])return!0}return!1}("8.6.0")?Sr:Xs,Qs={},Zs={},tn={},en=p.default,rn="win32"===process.platform,sn=d.default,nn=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function on(t){return"function"==typeof t?t:function(){var t;if(nn){var e=new Error;t=function(t){t&&(e.message=t.message,r(t=e))}}else t=r;return t;function r(t){if(t){if(process.throwDeprecation)throw t;if(!process.noDeprecation){var e="fs: missing callback "+(t.stack||t.message);process.traceDeprecation?console.trace(e):console.error(e)}}}}()}if(en.normalize,rn)var an=/(.*?)(?:[\/\\]+|$)/g;else an=/(.*?)(?:[\/]+|$)/g;if(rn)var hn=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else hn=/^[\/]*/;tn.realpathSync=function(t,e){if(t=en.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return e[t];var r,i,s,n,o=t,a={},h={};function l(){var e=hn.exec(t);r=e[0].length,i=e[0],s=e[0],n="",rn&&!h[s]&&(sn.lstatSync(s),h[s]=!0)}for(l();r<t.length;){an.lastIndex=r;var c=an.exec(t);if(n=i,i+=c[0],s=n+c[1],r=an.lastIndex,!(h[s]||e&&e[s]===s)){var u;if(e&&Object.prototype.hasOwnProperty.call(e,s))u=e[s];else{var d=sn.lstatSync(s);if(!d.isSymbolicLink()){h[s]=!0,e&&(e[s]=s);continue}var p=null;if(!rn){var f=d.dev.toString(32)+":"+d.ino.toString(32);a.hasOwnProperty(f)&&(p=a[f])}null===p&&(sn.statSync(s),p=sn.readlinkSync(s)),u=en.resolve(n,p),e&&(e[s]=u),rn||(a[f]=p)}t=en.resolve(u,t.slice(r)),l()}}return e&&(e[o]=t),t},tn.realpath=function(t,e,r){if("function"!=typeof r&&(r=on(e),e=null),t=en.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return process.nextTick(r.bind(null,null,e[t]));var i,s,n,o,a=t,h={},l={};function c(){var e=hn.exec(t);i=e[0].length,s=e[0],n=e[0],o="",rn&&!l[n]?sn.lstat(n,(function(t){if(t)return r(t);l[n]=!0,u()})):process.nextTick(u)}function u(){if(i>=t.length)return e&&(e[a]=t),r(null,t);an.lastIndex=i;var h=an.exec(t);return o=s,s+=h[0],n=o+h[1],i=an.lastIndex,l[n]||e&&e[n]===n?process.nextTick(u):e&&Object.prototype.hasOwnProperty.call(e,n)?f(e[n]):sn.lstat(n,d)}function d(t,i){if(t)return r(t);if(!i.isSymbolicLink())return l[n]=!0,e&&(e[n]=n),process.nextTick(u);if(!rn){var s=i.dev.toString(32)+":"+i.ino.toString(32);if(h.hasOwnProperty(s))return p(null,h[s],n)}sn.stat(n,(function(t){if(t)return r(t);sn.readlink(n,(function(t,e){rn||(h[s]=e),p(t,e)}))}))}function p(t,i,s){if(t)return r(t);var n=en.resolve(o,i);e&&(e[s]=n),f(n)}function f(e){t=en.resolve(e,t.slice(i)),c()}c()};var ln=vn;vn.realpath=vn,vn.sync=yn,vn.realpathSync=yn,vn.monkeypatch=function(){cn.realpath=vn,cn.realpathSync=yn},vn.unmonkeypatch=function(){cn.realpath=un,cn.realpathSync=dn};var cn=d.default,un=cn.realpath,dn=cn.realpathSync,pn=process.version,fn=/^v[0-5]\./.test(pn),mn=tn;function gn(t){return t&&"realpath"===t.syscall&&("ELOOP"===t.code||"ENOMEM"===t.code||"ENAMETOOLONG"===t.code)}function vn(t,e,r){if(fn)return un(t,e,r);"function"==typeof e&&(r=e,e=null),un(t,e,(function(i,s){gn(i)?mn.realpath(t,e,r):r(i,s)}))}function yn(t,e){if(fn)return dn(t,e);try{return dn(t,e)}catch(r){if(gn(r))return mn.realpathSync(t,e);throw r}}var bn=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},wn=Sn;function Sn(t,e,r){t instanceof RegExp&&(t=xn(t,r)),e instanceof RegExp&&(e=xn(e,r));var i=On(t,e,r);return i&&{start:i[0],end:i[1],pre:r.slice(0,i[0]),body:r.slice(i[0]+t.length,i[1]),post:r.slice(i[1]+e.length)}}function xn(t,e){var r=e.match(t);return r?r[0]:null}function On(t,e,r){var i,s,n,o,a,h=r.indexOf(t),l=r.indexOf(e,h+1),c=h;if(h>=0&&l>0){for(i=[],n=r.length;c>=0&&!a;)c==h?(i.push(c),h=r.indexOf(t,c+1)):1==i.length?a=[i.pop(),l]:((s=i.pop())<n&&(n=s,o=l),l=r.indexOf(e,c+1)),c=h<l&&h>=0?h:l;i.length&&(a=[n,o])}return a}Sn.range=On;var kn=function(t,e){for(var r=[],i=0;i<t.length;i++){var s=e(t[i],i);bn(s)?r.push.apply(r,s):r.push(s)}return r},En=wn,_n=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return Nn(function(t){return t.split("\\\\").join(Tn).split("\\{").join(Mn).split("\\}").join(jn).split("\\,").join(An).split("\\.").join(Dn)}(t),!0).map(Cn)},Tn="\0SLASH"+Math.random()+"\0",Mn="\0OPEN"+Math.random()+"\0",jn="\0CLOSE"+Math.random()+"\0",An="\0COMMA"+Math.random()+"\0",Dn="\0PERIOD"+Math.random()+"\0";function Pn(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Cn(t){return t.split(Tn).join("\\").split(Mn).join("{").split(jn).join("}").split(An).join(",").split(Dn).join(".")}function In(t){if(!t)return[""];var e=[],r=En("{","}",t);if(!r)return t.split(",");var i=r.pre,s=r.body,n=r.post,o=i.split(",");o[o.length-1]+="{"+s+"}";var a=In(n);return n.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Rn(t){return"{"+t+"}"}function Fn(t){return/^-?0\d/.test(t)}function Ln(t,e){return t<=e}function $n(t,e){return t>=e}function Nn(t,e){var r=[],i=En("{","}",t);if(!i||/\$$/.test(i.pre))return[t];var s,n=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),a=n||o,h=i.body.indexOf(",")>=0;if(!a&&!h)return i.post.match(/,.*\}/)?Nn(t=i.pre+"{"+i.body+jn+i.post):[t];if(a)s=i.body.split(/\.\./);else if(1===(s=In(i.body)).length&&1===(s=Nn(s[0],!1).map(Rn)).length)return(u=i.post.length?Nn(i.post,!1):[""]).map((function(t){return i.pre+s[0]+t}));var l,c=i.pre,u=i.post.length?Nn(i.post,!1):[""];if(a){var d=Pn(s[0]),p=Pn(s[1]),f=Math.max(s[0].length,s[1].length),m=3==s.length?Math.abs(Pn(s[2])):1,g=Ln;p<d&&(m*=-1,g=$n);var v=s.some(Fn);l=[];for(var y=d;g(y,p);y+=m){var b;if(o)"\\"===(b=String.fromCharCode(y))&&(b="");else if(b=String(y),v){var w=f-b.length;if(w>0){var S=new Array(w+1).join("0");b=y<0?"-"+S+b.slice(1):S+b}}l.push(b)}}else l=kn(s,(function(t){return Nn(t,!1)}));for(var x=0;x<l.length;x++)for(var O=0;O<u.length;O++){var k=c+l[x]+u[O];(!e||a||k)&&r.push(k)}return r}var Yn=zn;zn.Minimatch=Jn;var Vn={sep:"/"};try{Vn=p.default}catch(t){}var Gn=zn.GLOBSTAR=Jn.GLOBSTAR={},Hn=_n,Un={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},qn="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{});var Bn=/\/+/;function Wn(t,e){t=t||{},e=e||{};var r={};return Object.keys(e).forEach((function(t){r[t]=e[t]})),Object.keys(t).forEach((function(e){r[e]=t[e]})),r}function zn(t,e,r){if("string"!=typeof e)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new Jn(e,r).match(t))}function Jn(t,e){if(!(this instanceof Jn))return new Jn(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==Vn.sep&&(t=t.split(Vn.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function Xn(t,e){if(e||(e=this instanceof Jn?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:Hn(t)}zn.filter=function(t,e){return e=e||{},function(r,i,s){return zn(r,t,e)}},zn.defaults=function(t){if(!t||!Object.keys(t).length)return zn;var e=zn,r=function(r,i,s){return e.minimatch(r,i,Wn(t,s))};return r.Minimatch=function(r,i){return new e.Minimatch(r,Wn(t,i))},r},Jn.defaults=function(t){return t&&Object.keys(t).length?zn.defaults(t).Minimatch:Jn},Jn.prototype.debug=function(){},Jn.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,r),r=this.globParts=r.map((function(t){return t.split(Bn)})),this.debug(this.pattern,r),r=r.map((function(t,e,r){return t.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,r),this.set=r},Jn.prototype.parseNegate=function(){var t=this.pattern,e=!1,r=this.options,i=0;if(r.nonegate)return;for(var s=0,n=t.length;s<n&&"!"===t.charAt(s);s++)e=!e,i++;i&&(this.pattern=t.substr(i));this.negate=e},zn.braceExpand=function(t,e){return Xn(t,e)},Jn.prototype.braceExpand=Xn,Jn.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===t)return Gn;if(""===t)return"";var i,s="",n=!!r.nocase,o=!1,a=[],h=[],l=!1,c=-1,u=-1,d="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=this;function f(){if(i){switch(i){case"*":s+="[^/]*?",n=!0;break;case"?":s+="[^/]",n=!0;break;default:s+="\\"+i}p.debug("clearStateChar %j %j",i,s),i=!1}}for(var m,g=0,v=t.length;g<v&&(m=t.charAt(g));g++)if(this.debug("%s\t%s %s %j",t,g,s,m),o&&qn[m])s+="\\"+m,o=!1;else switch(m){case"/":return!1;case"\\":f(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,g,s,m),l){this.debug("  in class"),"!"===m&&g===u+1&&(m="^"),s+=m;continue}p.debug("call clearStateChar %j",i),f(),i=m,r.noext&&f();continue;case"(":if(l){s+="(";continue}if(!i){s+="\\(";continue}a.push({type:i,start:g-1,reStart:s.length,open:Un[i].open,close:Un[i].close}),s+="!"===i?"(?:(?!(?:":"(?:",this.debug("plType %j %j",i,s),i=!1;continue;case")":if(l||!a.length){s+="\\)";continue}f(),n=!0;var y=a.pop();s+=y.close,"!"===y.type&&h.push(y),y.reEnd=s.length;continue;case"|":if(l||!a.length||o){s+="\\|",o=!1;continue}f(),s+="|";continue;case"[":if(f(),l){s+="\\"+m;continue}l=!0,u=g,c=s.length,s+=m;continue;case"]":if(g===u+1||!l){s+="\\"+m,o=!1;continue}if(l){var b=t.substring(u+1,g);try{RegExp("["+b+"]")}catch(t){var w=this.parse(b,Kn);s=s.substr(0,c)+"\\["+w[0]+"\\]",n=n||w[1],l=!1;continue}}n=!0,l=!1,s+=m;continue;default:f(),o?o=!1:!qn[m]||"^"===m&&l||(s+="\\"),s+=m}l&&(b=t.substr(u+1),w=this.parse(b,Kn),s=s.substr(0,c)+"\\["+w[0],n=n||w[1]);for(y=a.pop();y;y=a.pop()){var S=s.slice(y.reStart+y.open.length);this.debug("setting tail",s,y),S=S.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,r){return r||(r="\\"),e+e+r+"|"})),this.debug("tail=%j\n   %s",S,S,y,s);var x="*"===y.type?"[^/]*?":"?"===y.type?"[^/]":"\\"+y.type;n=!0,s=s.slice(0,y.reStart)+x+"\\("+S}f(),o&&(s+="\\\\");var O=!1;switch(s.charAt(0)){case".":case"[":case"(":O=!0}for(var k=h.length-1;k>-1;k--){var E=h[k],_=s.slice(0,E.reStart),T=s.slice(E.reStart,E.reEnd-8),M=s.slice(E.reEnd-8,E.reEnd),j=s.slice(E.reEnd);M+=j;var A=_.split("(").length-1,D=j;for(g=0;g<A;g++)D=D.replace(/\)[+*?]?/,"");var P="";""===(j=D)&&e!==Kn&&(P="$"),s=_+T+j+P+M}""!==s&&n&&(s="(?=.)"+s);O&&(s=d+s);if(e===Kn)return[s,n];if(!n)return function(t){return t.replace(/\\(.)/g,"$1")}(t);var C=r.nocase?"i":"";try{var I=new RegExp("^"+s+"$",C)}catch(t){return new RegExp("$.")}return I._glob=t,I._src=s,I};var Kn={};zn.makeRe=function(t,e){return new Jn(t,e||{}).makeRe()},Jn.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=e.nocase?"i":"",s=t.map((function(t){return t.map((function(t){return t===Gn?r:"string"==typeof t?function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t):t._src})).join("\\/")})).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch(t){this.regexp=!1}return this.regexp},zn.match=function(t,e,r){var i=new Jn(e,r=r||{});return t=t.filter((function(t){return i.match(t)})),i.options.nonull&&!t.length&&t.push(e),t},Jn.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var r=this.options;"/"!==Vn.sep&&(t=t.split(Vn.sep).join("/"));t=t.split(Bn),this.debug(this.pattern,"split",t);var i,s,n=this.set;for(this.debug(this.pattern,"set",n),s=t.length-1;s>=0&&!(i=t[s]);s--);for(s=0;s<n.length;s++){var o=n[s],a=t;if(r.matchBase&&1===o.length&&(a=[i]),this.matchOne(a,o,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},Jn.prototype.matchOne=function(t,e,r){var i=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var s=0,n=0,o=t.length,a=e.length;s<o&&n<a;s++,n++){this.debug("matchOne loop");var h,l=e[n],c=t[s];if(this.debug(e,l,c),!1===l)return!1;if(l===Gn){this.debug("GLOBSTAR",[e,l,c]);var u=s,d=n+1;if(d===a){for(this.debug("** at the end");s<o;s++)if("."===t[s]||".."===t[s]||!i.dot&&"."===t[s].charAt(0))return!1;return!0}for(;u<o;){var p=t[u];if(this.debug("\nglobstar while",t,u,e,d,p),this.matchOne(t.slice(u),e.slice(d),r))return this.debug("globstar found match!",u,o,p),!0;if("."===p||".."===p||!i.dot&&"."===p.charAt(0)){this.debug("dot detected!",t,u,e,d);break}this.debug("globstar swallow a segment, and continue"),u++}return!(!r||(this.debug("\n>>> no match, partial?",t,u,e,d),u!==o))}if("string"==typeof l?(h=i.nocase?c.toLowerCase()===l.toLowerCase():c===l,this.debug("string match",l,c,h)):(h=c.match(l),this.debug("pattern match",l,c,h)),!h)return!1}if(s===o&&n===a)return!0;if(s===o)return r;if(n===a)return s===o-1&&""===t[s];throw new Error("wtf?")};var Qn={exports:{}},Zn={exports:{}};"function"==typeof Object.create?Zn.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Zn.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};try{var to=f.default;if("function"!=typeof to.inherits)throw"";Qn.exports=to.inherits}catch(t){Qn.exports=Zn.exports}var eo={exports:{}};function ro(t){return"/"===t.charAt(0)}function io(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(t),r=e[1]||"",i=Boolean(r&&":"!==r.charAt(1));return Boolean(e[2]||i)}eo.exports="win32"===process.platform?io:ro,eo.exports.posix=ro,eo.exports.win32=io;var so={};function no(t,e){return Object.prototype.hasOwnProperty.call(t,e)}so.alphasort=uo,so.alphasorti=co,so.setopts=function(t,e,r){r||(r={});if(r.matchBase&&-1===e.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=!1!==r.strict,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0);t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),function(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]);t.ignore.length&&(t.ignore=t.ignore.map(po))}(t,r),t.changedCwd=!1;var i=process.cwd();no(r,"cwd")?(t.cwd=oo.resolve(r.cwd),t.changedCwd=t.cwd!==i):t.cwd=i;t.root=r.root||oo.resolve(t.cwd,"/"),t.root=oo.resolve(t.root),"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/"));t.cwdAbs=ho(t.cwd)?t.cwd:fo(t,t.cwd),"win32"===process.platform&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/"));t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new lo(e,r),t.options=t.minimatch.options},so.ownProp=no,so.makeAbs=fo,so.finish=function(t){for(var e=t.nounique,r=e?[]:Object.create(null),i=0,s=t.matches.length;i<s;i++){var n=t.matches[i];if(n&&0!==Object.keys(n).length){var o=Object.keys(n);e?r.push.apply(r,o):o.forEach((function(t){r[t]=!0}))}else if(t.nonull){var a=t.minimatch.globSet[i];e?r.push(a):r[a]=!0}}e||(r=Object.keys(r));t.nosort||(r=r.sort(t.nocase?co:uo));if(t.mark){for(i=0;i<r.length;i++)r[i]=t._mark(r[i]);t.nodir&&(r=r.filter((function(e){var r=!/\/$/.test(e),i=t.cache[e]||t.cache[fo(t,e)];return r&&i&&(r="DIR"!==i&&!Array.isArray(i)),r})))}t.ignore.length&&(r=r.filter((function(e){return!mo(t,e)})));t.found=r},so.mark=function(t,e){var r=fo(t,e),i=t.cache[r],s=e;if(i){var n="DIR"===i||Array.isArray(i),o="/"===e.slice(-1);if(n&&!o?s+="/":!n&&o&&(s=s.slice(0,-1)),s!==e){var a=fo(t,s);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return s},so.isIgnored=mo,so.childrenIgnored=function(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return!(!t.gmatcher||!t.gmatcher.match(e))}))};var oo=p.default,ao=Yn,ho=eo.exports,lo=ao.Minimatch;function co(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function uo(t,e){return t.localeCompare(e)}function po(t){var e=null;if("/**"===t.slice(-3)){var r=t.replace(/(\/\*\*)+$/,"");e=new lo(r,{dot:!0})}return{matcher:new lo(t,{dot:!0}),gmatcher:e}}function fo(t,e){var r=e;return r="/"===e.charAt(0)?oo.join(t.root,e):ho(e)||""===e?e:t.changedCwd?oo.resolve(t.cwd,e):oo.resolve(e),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function mo(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))}))}var go=Mo;Mo.GlobSync=jo;var vo=d.default,yo=ln,bo=Yn,wo=p.default,So=m.default,xo=eo.exports,Oo=so,ko=Oo.setopts,Eo=Oo.ownProp,_o=Oo.childrenIgnored,To=Oo.isIgnored;function Mo(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new jo(t,e).found}function jo(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof jo))return new jo(t,e);if(ko(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}jo.prototype._finish=function(){if(So(this instanceof jo),this.realpath){var t=this;this.matches.forEach((function(e,r){var i=t.matches[r]=Object.create(null);for(var s in e)try{s=t._makeAbs(s),i[yo.realpathSync(s,t.realpathCache)]=!0}catch(e){if("stat"!==e.syscall)throw e;i[t._makeAbs(s)]=!0}}))}Oo.finish(this)},jo.prototype._process=function(t,e,r){So(this instanceof jo);for(var i,s=0;"string"==typeof t[s];)s++;switch(s){case t.length:return void this._processSimple(t.join("/"),e);case 0:i=null;break;default:i=t.slice(0,s).join("/")}var n,o=t.slice(s);null===i?n=".":xo(i)||xo(t.join("/"))?(i&&xo(i)||(i="/"+i),n=i):n=i;var a=this._makeAbs(n);_o(this,n)||(o[0]===bo.GLOBSTAR?this._processGlobStar(i,n,a,o,e,r):this._processReaddir(i,n,a,o,e,r))},jo.prototype._processReaddir=function(t,e,r,i,s,n){var o=this._readdir(r,n);if(o){for(var a=i[0],h=!!this.minimatch.negate,l=a._glob,c=this.dot||"."===l.charAt(0),u=[],d=0;d<o.length;d++){if("."!==(m=o[d]).charAt(0)||c)(h&&!t?!m.match(a):m.match(a))&&u.push(m)}var p=u.length;if(0!==p)if(1!==i.length||this.mark||this.stat){i.shift();for(d=0;d<p;d++){var f;m=u[d];f=t?[t,m]:[m],this._process(f.concat(i),s,n)}}else{this.matches[s]||(this.matches[s]=Object.create(null));for(var d=0;d<p;d++){var m=u[d];t&&(m="/"!==t.slice(-1)?t+"/"+m:t+m),"/"!==m.charAt(0)||this.nomount||(m=wo.join(this.root,m)),this._emitMatch(s,m)}}}},jo.prototype._emitMatch=function(t,e){if(!To(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if("DIR"===i||Array.isArray(i))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}},jo.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r;try{r=vo.lstatSync(t)}catch(t){if("ENOENT"===t.code)return null}var i=r&&r.isSymbolicLink();return this.symlinks[t]=i,i||!r||r.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},jo.prototype._readdir=function(t,e){if(e&&!Eo(this.symlinks,t))return this._readdirInGlobStar(t);if(Eo(this.cache,t)){var r=this.cache[t];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(t,vo.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},jo.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var i=e[r];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,e},jo.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);throw i.path=this.cwd,i.code=e.code,i}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},jo.prototype._processGlobStar=function(t,e,r,i,s,n){var o=this._readdir(r,n);if(o){var a=i.slice(1),h=t?[t]:[],l=h.concat(a);this._process(l,s,!1);var c=o.length;if(!this.symlinks[r]||!n)for(var u=0;u<c;u++){if("."!==o[u].charAt(0)||this.dot){var d=h.concat(o[u],a);this._process(d,s,!0);var p=h.concat(o[u],i);this._process(p,s,!0)}}}},jo.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),r){if(t&&xo(t)&&!this.nomount){var i=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=wo.join(this.root,t):(t=wo.resolve(this.root,t),i&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}},jo.prototype._stat=function(t){var e=this._makeAbs(t),r="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&Eo(this.cache,e)){var i=this.cache[e];if(Array.isArray(i)&&(i="DIR"),!r||"DIR"===i)return i;if(r&&"FILE"===i)return!1}var s=this.statCache[e];if(!s){var n;try{n=vo.lstatSync(e)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return this.statCache[e]=!1,!1}if(n&&n.isSymbolicLink())try{s=vo.statSync(e)}catch(t){s=n}else s=n}this.statCache[e]=s;i=!0;return s&&(i=s.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||i,(!r||"FILE"!==i)&&i},jo.prototype._mark=function(t){return Oo.mark(this,t)},jo.prototype._makeAbs=function(t){return Oo.makeAbs(this,t)};var Ao=function t(e,r){if(e&&r)return t(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){i[t]=e[t]})),i;function i(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var i=e.apply(this,t),s=t[t.length-1];return"function"==typeof i&&i!==s&&Object.keys(s).forEach((function(t){i[t]=s[t]})),i}};var Do={exports:{}},Po=Ao;function Co(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function Io(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}Do.exports=Po(Co),Do.exports.strict=Po(Io),Co.proto=Co((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Co(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Io(this)},configurable:!0})}));var Ro=Ao,Fo=Object.create(null),Lo=Do.exports,$o=Ro((function(t,e){return Fo[t]?(Fo[t].push(e),null):(Fo[t]=[e],function(t){return Lo((function e(){var r=Fo[t],i=r.length,s=No(arguments);try{for(var n=0;n<i;n++)r[n].apply(null,s)}finally{r.length>i?(r.splice(0,i),process.nextTick((function(){e.apply(null,s)}))):delete Fo[t]}}))}(t))}));function No(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i]=t[i];return r}var Yo=ia,Vo=d.default,Go=ln,Ho=Yn,Uo=Qn.exports,qo=c.default.EventEmitter,Bo=p.default,Wo=m.default,zo=eo.exports,Jo=go,Xo=so,Ko=Xo.setopts,Qo=Xo.ownProp,Zo=$o,ta=Xo.childrenIgnored,ea=Xo.isIgnored,ra=Do.exports;function ia(t,e,r){if("function"==typeof e&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return Jo(t,e)}return new na(t,e,r)}ia.sync=Jo;var sa=ia.GlobSync=Jo.GlobSync;function na(t,e,r){if("function"==typeof e&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new sa(t,e)}if(!(this instanceof na))return new na(t,e,r);Ko(this,t,e),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),"function"==typeof r&&(r=ra(r),this.on("error",r),this.on("end",(function(t){r(null,t)})));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===i)return o();for(var n=0;n<i;n++)this._process(this.minimatch.set[n],n,!1,o);function o(){--s._processing,s._processing<=0&&s._finish()}}ia.glob=ia,ia.hasMagic=function(t,e){var r=function(t,e){if(null===e||"object"!=typeof e)return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t}({},e);r.noprocess=!0;var i=new na(t,r).minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var s=0;s<i[0].length;s++)if("string"!=typeof i[0][s])return!0;return!1},ia.Glob=na,Uo(na,qo),na.prototype._finish=function(){if(Wo(this instanceof na),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Xo.finish(this),this.emit("end",this.found)}},na.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,i)}function i(){0==--t&&e._finish()}},na.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var i=Object.keys(r),s=this,n=i.length;if(0===n)return e();var o=this.matches[t]=Object.create(null);i.forEach((function(r,i){r=s._makeAbs(r),Go.realpath(r,s.realpathCache,(function(i,a){i?"stat"===i.syscall?o[r]=!0:s.emit("error",i):o[a]=!0,0==--n&&(s.matches[t]=o,e())}))}))},na.prototype._mark=function(t){return Xo.mark(this,t)},na.prototype._makeAbs=function(t){return Xo.makeAbs(this,t)},na.prototype.abort=function(){this.aborted=!0,this.emit("abort")},na.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},na.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var i=this._processQueue.slice(0);this._processQueue.length=0;for(e=0;e<i.length;e++){var s=i[e];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}},na.prototype._process=function(t,e,r,i){if(Wo(this instanceof na),Wo("function"==typeof i),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([t,e,r,i]);else{for(var s,n=0;"string"==typeof t[n];)n++;switch(n){case t.length:return void this._processSimple(t.join("/"),e,i);case 0:s=null;break;default:s=t.slice(0,n).join("/")}var o,a=t.slice(n);null===s?o=".":zo(s)||zo(t.join("/"))?(s&&zo(s)||(s="/"+s),o=s):o=s;var h=this._makeAbs(o);if(ta(this,o))return i();a[0]===Ho.GLOBSTAR?this._processGlobStar(s,o,h,a,e,r,i):this._processReaddir(s,o,h,a,e,r,i)}},na.prototype._processReaddir=function(t,e,r,i,s,n,o){var a=this;this._readdir(r,n,(function(h,l){return a._processReaddir2(t,e,r,i,s,n,l,o)}))},na.prototype._processReaddir2=function(t,e,r,i,s,n,o,a){if(!o)return a();for(var h=i[0],l=!!this.minimatch.negate,c=h._glob,u=this.dot||"."===c.charAt(0),d=[],p=0;p<o.length;p++){if("."!==(m=o[p]).charAt(0)||u)(l&&!t?!m.match(h):m.match(h))&&d.push(m)}var f=d.length;if(0===f)return a();if(1===i.length&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(p=0;p<f;p++){var m=d[p];t&&(m="/"!==t?t+"/"+m:t+m),"/"!==m.charAt(0)||this.nomount||(m=Bo.join(this.root,m)),this._emitMatch(s,m)}return a()}i.shift();for(p=0;p<f;p++){m=d[p];t&&(m="/"!==t?t+"/"+m:t+m),this._process([m].concat(i),s,n,a)}a()},na.prototype._emitMatch=function(t,e){if(!this.aborted&&!ea(this,e))if(this.paused)this._emitQueue.push([t,e]);else{var r=zo(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if("DIR"===i||Array.isArray(i))return}this.matches[t][e]=!0;var s=this.statCache[r];s&&this.emit("stat",e,s),this.emit("match",e)}}},na.prototype._readdirInGlobStar=function(t,e){if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var r=this,i=Zo("lstat\0"+t,(function(i,s){if(i&&"ENOENT"===i.code)return e();var n=s&&s.isSymbolicLink();r.symlinks[t]=n,n||!s||s.isDirectory()?r._readdir(t,!1,e):(r.cache[t]="FILE",e())}));i&&Vo.lstat(t,i)}},na.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=Zo("readdir\0"+t+"\0"+e,r))){if(e&&!Qo(this.symlinks,t))return this._readdirInGlobStar(t,r);if(Qo(this.cache,t)){var i=this.cache[t];if(!i||"FILE"===i)return r();if(Array.isArray(i))return r(null,i)}Vo.readdir(t,function(t,e,r){return function(i,s){i?t._readdirError(e,i,r):t._readdirEntries(e,s,r)}}(this,t,r))}},na.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<e.length;i++){var s=e[i];s="/"===t?t+s:t+"/"+s,this.cache[s]=!0}return this.cache[t]=e,r(null,e)}},na.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(t);if(this.cache[i]="FILE",i===this.cwdAbs){var s=new Error(e.code+" invalid cwd "+this.cwd);s.path=this.cwd,s.code=e.code,this.emit("error",s),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return r()}},na.prototype._processGlobStar=function(t,e,r,i,s,n,o){var a=this;this._readdir(r,n,(function(h,l){a._processGlobStar2(t,e,r,i,s,n,l,o)}))},na.prototype._processGlobStar2=function(t,e,r,i,s,n,o,a){if(!o)return a();var h=i.slice(1),l=t?[t]:[],c=l.concat(h);this._process(c,s,!1,a);var u=this.symlinks[r],d=o.length;if(u&&n)return a();for(var p=0;p<d;p++){if("."!==o[p].charAt(0)||this.dot){var f=l.concat(o[p],h);this._process(f,s,!0,a);var m=l.concat(o[p],i);this._process(m,s,!0,a)}}a()},na.prototype._processSimple=function(t,e,r){var i=this;this._stat(t,(function(s,n){i._processSimple2(t,e,s,n,r)}))},na.prototype._processSimple2=function(t,e,r,i,s){if(this.matches[e]||(this.matches[e]=Object.create(null)),!i)return s();if(t&&zo(t)&&!this.nomount){var n=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=Bo.join(this.root,t):(t=Bo.resolve(this.root,t),n&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),s()},na.prototype._stat=function(t,e){var r=this._makeAbs(t),i="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&Qo(this.cache,r)){var s=this.cache[r];if(Array.isArray(s)&&(s="DIR"),!i||"DIR"===s)return e(null,s);if(i&&"FILE"===s)return e()}var n=this.statCache[r];if(void 0!==n){if(!1===n)return e(null,n);var o=n.isDirectory()?"DIR":"FILE";return i&&"FILE"===o?e():e(null,o,n)}var a=this,h=Zo("stat\0"+r,(function(i,s){if(s&&s.isSymbolicLink())return Vo.stat(r,(function(i,n){i?a._stat2(t,r,null,s,e):a._stat2(t,r,i,n,e)}));a._stat2(t,r,i,s,e)}));h&&Vo.lstat(r,h)},na.prototype._stat2=function(t,e,r,i,s){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[e]=!1,s();var n="/"===t.slice(-1);if(this.statCache[e]=i,"/"===e.slice(-1)&&i&&!i.isDirectory())return s(null,!1,i);var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,n&&"FILE"===o?s():s(null,o,i)};var oa=u.default,aa=d.default,ha=Yo,la=Qs,ca=Object.create(la);Zs.extend=Object.assign;var ua=Boolean(process.versions.electron),da={fatal:!1,globOptions:{},maxdepth:255,noglob:!1,silent:!1,verbose:!1,execPath:null,bufLength:65536},pa={reset:function(){Object.assign(this,da),ua||(this.execPath=process.execPath)},resetForTesting:function(){this.reset(),this.silent=!0}};pa.reset(),Zs.config=pa;var fa={error:null,errorCode:0,currentCmd:"shell.js"};function ma(t){return"object"==typeof t&&null!==t}function ga(){pa.silent||console.error.apply(console,arguments)}function va(t){if("string"!=typeof t)throw new TypeError("input must be a string");return t.replace(/\\/g,"/")}function ya(t,e,r){if("string"!=typeof t)throw new Error("msg must be a string");var i={continue:!1,code:1,prefix:fa.currentCmd+": ",silent:!1};"number"==typeof e&&ma(r)?r.code=e:ma(e)?r=e:"number"==typeof e?r={code:e}:"number"!=typeof e&&(r={}),r=Object.assign({},i,r),fa.errorCode||(fa.errorCode=r.code);var s=va(r.prefix+t);if(fa.error=fa.error?fa.error+"\n":"",fa.error+=s,pa.fatal)throw new Error(s);if(t.length>0&&!r.silent&&ga(s),!r.continue)throw{msg:"earlyExit",retValue:new ba("",fa.error,fa.errorCode)}}function ba(t,e,r){var i;return t instanceof Array?((i=t).stdout=t.join("\n"),t.length>0&&(i.stdout+="\n")):(i=new String(t)).stdout=t,i.stderr=e,i.code=r,Ea.forEach((function(t){i[t]=ca[t].bind(i)})),i}function wa(t,e,r){if("string"!=typeof t&&!ma(t))throw new Error("options must be strings or key-value pairs");if(!ma(e))throw new Error("parseOptions() internal error: map must be an object");if(r&&!ma(r))throw new Error("parseOptions() internal error: errorOptions must be object");if("--"===t)return{};var i={};if(Object.keys(e).forEach((function(t){var r=e[t];"!"!==r[0]&&(i[r]=!1)})),""===t)return i;if("string"==typeof t){if("-"!==t[0])throw new Error("Options string must start with a '-'");t.slice(1).split("").forEach((function(t){if(t in e){var s=e[t];"!"===s[0]?i[s.slice(1)]=!1:i[s]=!0}else ya("option not recognized: "+t,r||{})}))}else Object.keys(t).forEach((function(s){var n=s[1];if(n in e){var o=e[n];i[o]=t[s]}else ya("option not recognized: "+n,r||{})}));return i}function Sa(t){if(!Array.isArray(t))throw new TypeError("must be an array");var e=[];return t.forEach((function(t){if("string"!=typeof t)e.push(t);else{var r;try{r=(r=ha.sync(t,pa.globOptions)).length>0?r:[t]}catch(e){r=[t]}e=e.concat(r)}})),e}Zs.state=fa,delete process.env.OLDPWD,Zs.isObject=ma,Zs.log=ga,Zs.convertErrorOutput=va,Zs.error=ya,Zs.ShellString=ba,Zs.parseOptions=wa,Zs.expand=Sa;var xa="function"==typeof Buffer.alloc?function(t){return Buffer.alloc(t||pa.bufLength)}:function(t){return new Buffer(t||pa.bufLength)};function Oa(t,e,r){return r=r||{},function(){var i=null;fa.currentCmd=t,fa.error=null,fa.errorCode=0;try{var s=[].slice.call(arguments,0);if(pa.verbose&&console.error.apply(console,[t].concat(s)),fa.pipedValue=this&&"string"==typeof this.stdout?this.stdout:"",!1===r.unix)i=e.apply(this,s);else{ma(s[0])&&"Object"===s[0].constructor.name||(0===s.length||"string"!=typeof s[0]||s[0].length<=1||"-"!==s[0][0])&&s.unshift(""),s=(s=s.reduce((function(t,e){return Array.isArray(e)?t.concat(e):(t.push(e),t)}),[])).map((function(t){return ma(t)&&"String"===t.constructor.name?t.toString():t}));var n=oa.homedir();s=s.map((function(t){return"string"==typeof t&&"~/"===t.slice(0,2)||"~"===t?t.replace(/^~/,n):t})),pa.noglob||!0!==r.allowGlobbing||(s=s.slice(0,r.globStart).concat(Sa(s.slice(r.globStart))));try{ma(r.cmdOptions)&&(s[0]=wa(s[0],r.cmdOptions)),i=e.apply(this,s)}catch(t){if("earlyExit"!==t.msg)throw t;i=t.retValue}}}catch(t){if(!fa.error)throw t.name="ShellJSInternalError",t;if(pa.fatal)throw t}return r.wrapOutput&&("string"==typeof i||Array.isArray(i))&&(i=new ba(i,fa.error,fa.errorCode)),fa.currentCmd="shell.js",i}}Zs.buffer=xa,Zs.unlinkSync=function(t){try{aa.unlinkSync(t)}catch(e){if("EPERM"!==e.code)throw e;aa.chmodSync(t,"0666"),aa.unlinkSync(t)}},Zs.statFollowLinks=function(){return aa.statSync.apply(aa,arguments)},Zs.statNoFollowLinks=function(){return aa.lstatSync.apply(aa,arguments)},Zs.randomFileName=function(){return"shelljs_"+function t(e){if(1===e)return parseInt(16*Math.random(),10).toString(16);for(var r="",i=0;i<e;i++)r+=t(1);return r}(20)},Zs.wrap=Oa,Zs.readFromPipe=function(){return fa.pipedValue};var ka={allowGlobbing:!0,canReceivePipe:!1,cmdOptions:null,globStart:1,pipeOnly:!1,wrapOutput:!0,unix:!0},Ea=[];Zs.register=function(t,e,r){if(r=r||{},Object.keys(r).forEach((function(t){if(!ka.hasOwnProperty(t))throw new Error("Unknown option '"+t+"'");if(typeof r[t]!=typeof ka[t])throw new TypeError("Unsupported type '"+typeof r[t]+"' for option '"+t+"'")})),r=Object.assign({},ka,r),la.hasOwnProperty(t))throw new Error("Command `"+t+"` already exists");r.pipeOnly?(r.canReceivePipe=!0,ca[t]=Oa(t,e,r)):la[t]=Oa(t,e,r),r.canReceivePipe&&Ea.push(t)};var _a=Zs,Ta=d.default;function Ma(t){var e=t.split("\n"),r=e.pop();return e=e.map((function(t,e){return ja(e+1,t)})),r.length&&(r=ja(e.length+1,r)),e.push(r),e.join("\n")}function ja(t,e){return("     "+t).slice(-6)+"\t"+e}_a.register("cat",(function(t,e){var r=_a.readFromPipe();e||r||_a.error("no paths given");(e=[].slice.call(arguments,1)).forEach((function(t){Ta.existsSync(t)?_a.statFollowLinks(t).isDirectory()&&_a.error(t+": Is a directory"):_a.error("no such file or directory: "+t),r+=Ta.readFileSync(t,"utf8")})),t.number&&(r=Ma(r));return r}),{canReceivePipe:!0,cmdOptions:{n:"number"}});var Aa=u.default,Da=Zs;function Pa(t,e){e||(e=Aa.homedir()),"-"===e&&(process.env.OLDPWD?e=process.env.OLDPWD:Da.error("could not find previous directory"));try{var r=process.cwd();process.chdir(e),process.env.OLDPWD=r}catch(t){var i;try{Da.statFollowLinks(e),i="not a directory: "+e}catch(t){i="no such file or directory: "+e}i&&Da.error(i)}return""}Da.register("cd",Pa,{});var Ca,Ia=Pa,Ra=Zs,Fa=d.default,La=p.default,$a={OTHER_EXEC:(Ca={EXEC:1,WRITE:2,READ:4}).EXEC,OTHER_WRITE:Ca.WRITE,OTHER_READ:Ca.READ,GROUP_EXEC:Ca.EXEC<<3,GROUP_WRITE:Ca.WRITE<<3,GROUP_READ:Ca.READ<<3,OWNER_EXEC:Ca.EXEC<<6,OWNER_WRITE:Ca.WRITE<<6,OWNER_READ:Ca.READ<<6,STICKY:parseInt("01000",8),SETGID:parseInt("02000",8),SETUID:parseInt("04000",8),TYPE_MASK:parseInt("0770000",8)};Ra.register("chmod",(function(t,e,r){r||(t.length>0&&"-"===t.charAt(0)?[].unshift.call(arguments,""):Ra.error("You must specify a file."));var i;t=Ra.parseOptions(t,{R:"recursive",c:"changes",v:"verbose"}),r=[].slice.call(arguments,2),t.recursive?(i=[],r.forEach((function t(e){var r=Ra.statNoFollowLinks(e);r.isSymbolicLink()||(i.push(e),r.isDirectory()&&Fa.readdirSync(e).forEach((function(r){t(e+"/"+r)})))}))):i=r;return i.forEach((function(r){if(r=La.resolve(r),Fa.existsSync(r)||Ra.error("File not found: "+r),!t.recursive||!Ra.statNoFollowLinks(r).isSymbolicLink()){var i=Ra.statFollowLinks(r),s=i.isDirectory(),n=i.mode,o=n&$a.TYPE_MASK,a=n;isNaN(parseInt(e,8))?e.split(",").forEach((function(e){var i=/([ugoa]*)([=\+-])([rwxXst]*)/i.exec(e);if(i){var h=i[1],l=i[2],c=i[3],u=-1!==h.indexOf("u")||"a"===h||""===h,d=-1!==h.indexOf("g")||"a"===h||""===h,p=-1!==h.indexOf("o")||"a"===h||""===h,f=-1!==c.indexOf("r"),m=-1!==c.indexOf("w"),g=-1!==c.indexOf("x"),v=-1!==c.indexOf("X"),y=-1!==c.indexOf("t"),b=-1!==c.indexOf("s");v&&s&&(g=!0);var w=0;switch(u&&(w|=(f?$a.OWNER_READ:0)+(m?$a.OWNER_WRITE:0)+(g?$a.OWNER_EXEC:0)+(b?$a.SETUID:0)),d&&(w|=(f?$a.GROUP_READ:0)+(m?$a.GROUP_WRITE:0)+(g?$a.GROUP_EXEC:0)+(b?$a.SETGID:0)),p&&(w|=(f?$a.OTHER_READ:0)+(m?$a.OTHER_WRITE:0)+(g?$a.OTHER_EXEC:0)),y&&(w|=$a.STICKY),l){case"+":a|=w;break;case"-":a&=~w;break;case"=":a=o+w,Ra.statFollowLinks(r).isDirectory()&&(a|=$a.SETUID+$a.SETGID&n);break;default:Ra.error("Could not recognize operator: `"+l+"`")}t.verbose&&console.log(r+" -> "+a.toString(8)),n!==a&&(!t.verbose&&t.changes&&console.log(r+" -> "+a.toString(8)),Fa.chmodSync(r,a),n=a)}else Ra.error("Invalid symbolic mode change: "+e)})):(a=o+parseInt(e,8),Ra.statFollowLinks(r).isDirectory()&&(a|=$a.SETUID+$a.SETGID&n),Fa.chmodSync(r,a))}})),""}),{});var Na=d.default,Ya=p.default,Va=Zs;function Ga(t,e,r){Na.existsSync(t)||Va.error("copyFileSync: no such file or directory: "+t);var i="win32"===process.platform;try{if(r.update&&Va.statFollowLinks(t).mtime<Na.statSync(e).mtime)return}catch(t){}if(Va.statNoFollowLinks(t).isSymbolicLink()&&!r.followsymlink){try{Va.statNoFollowLinks(e),Va.unlinkSync(e)}catch(t){}var s=Na.readlinkSync(t);Na.symlinkSync(s,e,i?"junction":null)}else{var n=Va.buffer(),o=n.length,a=o,h=0,l=null,c=null;try{l=Na.openSync(t,"r")}catch(e){Va.error("copyFileSync: could not read src file ("+t+")")}try{c=Na.openSync(e,"w")}catch(t){Va.error("copyFileSync: could not write to dest file (code="+t.code+"):"+e)}for(;a===o;)a=Na.readSync(l,n,0,o,h),Na.writeSync(c,n,0,a),h+=a;Na.closeSync(l),Na.closeSync(c),Na.chmodSync(e,Va.statFollowLinks(t).mode)}}function Ha(t,e,r,i){if(i||(i={}),!(r>=Va.config.maxdepth)){r++;var s="win32"===process.platform;try{Na.mkdirSync(e)}catch(t){if("EEXIST"!==t.code)throw t}for(var n=Na.readdirSync(t),o=0;o<n.length;o++){var a,h=t+"/"+n[o],l=e+"/"+n[o],c=Va.statNoFollowLinks(h);if(i.followsymlink&&qa(t,h))console.error("Cycle link found."),a=Na.readlinkSync(h),Na.symlinkSync(a,l,s?"junction":null);else if(c.isDirectory())Ha(h,l,r,i);else if(c.isSymbolicLink()&&!i.followsymlink){a=Na.readlinkSync(h);try{Va.statNoFollowLinks(l),Va.unlinkSync(l)}catch(t){}Na.symlinkSync(a,l,s?"junction":null)}else c.isSymbolicLink()&&i.followsymlink?(c=Va.statFollowLinks(h)).isDirectory()?Ha(h,l,r,i):Ga(h,l,i):Na.existsSync(l)&&i.no_force?Va.log("skipping existing file: "+n[o]):Ga(h,l,i)}var u=Va.statFollowLinks(t);Na.chmodSync(e,u.mode)}}function Ua(t,e){var r=t[e];return t.slice(0,e).some((function(t){return Ya.basename(t)===Ya.basename(r)}))}function qa(t,e){if(Va.statNoFollowLinks(e).isSymbolicLink()&&Va.statFollowLinks(e).isDirectory()){var r=Na.realpathSync(t),i=Na.realpathSync(e);if(new RegExp(i).test(r))return!0}return!1}function Ba(t,e,r){t.followsymlink&&(t.noFollowsymlink=!1),t.recursive||t.noFollowsymlink||(t.followsymlink=!0),arguments.length<3?Va.error("missing <source> and/or <dest>"):(e=[].slice.call(arguments,1,arguments.length-1),r=arguments[arguments.length-1]);var i=Na.existsSync(r),s=i&&Va.statFollowLinks(r);return i&&s.isDirectory()||!(e.length>1)||Va.error("dest is not a directory (too many sources)"),i&&s.isFile()&&t.no_force?new Va.ShellString("","",0):(e.forEach((function(i,n){if(!Na.existsSync(i))return""===i&&(i="''"),void Va.error("no such file or directory: "+i,{continue:!0});var o=Va.statFollowLinks(i);if(!t.noFollowsymlink&&o.isDirectory())if(t.recursive){var a=s&&s.isDirectory()?Ya.join(r,Ya.basename(i)):r;try{Va.statFollowLinks(Ya.dirname(r)),Ha(i,a,0,{no_force:t.no_force,followsymlink:t.followsymlink})}catch(t){Va.error("cannot create directory '"+r+"': No such file or directory")}}else Va.error("omitting directory '"+i+"'",{continue:!0});else{var h=r;s&&s.isDirectory()&&(h=Ya.normalize(r+"/"+Ya.basename(i)));var l=Na.existsSync(h);if(l&&Ua(e,n))return void(t.no_force||Va.error("will not overwrite just-created '"+h+"' with '"+i+"'",{continue:!0}));if(l&&t.no_force)return;if(""===Ya.relative(i,h))return void Va.error("'"+h+"' and '"+i+"' are the same file",{continue:!0});Ga(i,h,t)}})),new Va.ShellString("",Va.state.error,Va.state.errorCode))}Va.register("cp",Ba,{cmdOptions:{f:"!no_force",n:"no_force",u:"update",R:"recursive",r:"recursive",L:"followsymlink",P:"noFollowsymlink"},wrapOutput:!1});var Wa=Ba,za=Zs,Ja=Ia,Xa=p.default;za.register("dirs",eh,{wrapOutput:!1}),za.register("pushd",(function(t,e){Qa(t)&&(e=t,t="");t=za.parseOptions(t,{n:"no-cd",q:"quiet"});var r=th();if("+0"===e)return r;if(e)if(Qa(e)){var i=Za(e);r=r.slice(i).concat(r.slice(0,i))}else t["no-cd"]?r.splice(1,0,e):r.unshift(e);else{if(!(r.length>1))return za.error("no other directory");r=r.splice(1,1).concat(r)}t["no-cd"]?r=r.slice(1):(e=Xa.resolve(r.shift()),Ja("",e));return Ka=r,eh(t.quiet?"-q":"")}),{wrapOutput:!1}),za.register("popd",(function(t,e){Qa(t)&&(e=t,t="");if(t=za.parseOptions(t,{n:"no-cd",q:"quiet"}),!Ka.length)return za.error("directory stack empty");if(e=Za(e||"+0"),t["no-cd"]||e>0||Ka.length+e===0)e=e>0?e-1:e,Ka.splice(e,1);else{var r=Xa.resolve(Ka.shift());Ja("",r)}return eh(t.quiet?"-q":"")}),{wrapOutput:!1});var Ka=[];function Qa(t){return/^[\-+]\d+$/.test(t)}function Za(t){if(Qa(t)){if(Math.abs(t)<Ka.length+1)return/^-/.test(t)?Number(t)-1:Number(t);za.error(t+": directory stack index out of range")}else za.error(t+": invalid number")}function th(){return[process.cwd()].concat(Ka)}function eh(t,e){if(Qa(t)&&(e=t,t=""),(t=za.parseOptions(t,{c:"clear",q:"quiet"})).clear)return Ka=[];var r=th();return e?((e=Za(e))<0&&(e=r.length+e),t.quiet||za.log(r[e]),r[e]):(t.quiet||za.log(r.join(" ")),r)}var rh=f.default.format,ih=Zs;ih.register("echo",(function(t){var e=[].slice.call(arguments,t?0:1),r={};try{r=ih.parseOptions(e[0],{e:"escapes",n:"no_newline"},{silent:!0}),e[0]&&e.shift()}catch(t){ih.state.error=null}var i=rh.apply(null,e);r.no_newline||(i+="\n");return process.stdout.write(i),i}),{allowGlobbing:!1});var sh,nh={},oh=Zs,ah=u.default,hh=d.default;function lh(t){if(!t||!hh.existsSync(t))return!1;if(!oh.statFollowLinks(t).isDirectory())return!1;var e=t+"/"+oh.randomFileName();try{return hh.writeFileSync(e," "),oh.unlinkSync(e),t}catch(t){return!1}}function ch(){return sh||(sh=lh(ah.tmpdir())||lh(process.env.TMPDIR)||lh(process.env.TEMP)||lh(process.env.TMP)||lh(process.env.Wimp$ScrapDir)||lh("C:\\TEMP")||lh("C:\\TMP")||lh("\\TEMP")||lh("\\TMP")||lh("/tmp")||lh("/var/tmp")||lh("/usr/tmp")||lh("."))}oh.register("tempdir",ch,{allowGlobbing:!1,wrapOutput:!1}),nh.tempDir=ch,nh.isCached=function(){return sh},nh.clearCache=function(){sh=void 0};var uh=p.default;function dh(){return uh.resolve(process.cwd())}Zs.register("pwd",dh,{allowGlobbing:!1});var ph=dh,fh=Zs,mh=nh.tempDir,gh=ph,vh=p.default,yh=d.default,bh=g.default;fh.register("exec",(function(t,e,r){e=e||{},t||fh.error("must specify command");var i=fh.readFromPipe();"function"==typeof e&&(r=e,e={async:!0});"object"==typeof e&&"function"==typeof r&&(e.async=!0);return(e=fh.extend({silent:fh.config.silent,async:!1},e)).async?function(t,e,r,i){e=fh.extend({silent:fh.config.silent,cwd:gh().toString(),env:process.env,maxBuffer:20971520,encoding:"utf8"},e);var s=bh.exec(t,e,(function(t,e,r){i&&(t?void 0===t.code?i(1,e,r):i(t.code,e,r):i(0,e,r))}));r&&s.stdin.end(r);e.silent||(s.stdout.pipe(process.stdout),s.stderr.pipe(process.stderr));return s}(t,e,i,r):function(t,e,r){fh.config.execPath||fh.error("Unable to find a path to the node binary. Please manually set config.execPath");var i=mh(),s=vh.resolve(i+"/"+fh.randomFileName()),n=vh.resolve(i+"/"+fh.randomFileName()),o=vh.resolve(i+"/"+fh.randomFileName());e=fh.extend({silent:fh.config.silent,cwd:gh().toString(),env:process.env,maxBuffer:20971520,encoding:"utf8"},e),yh.existsSync(s)&&fh.unlinkSync(s);yh.existsSync(n)&&fh.unlinkSync(n);yh.existsSync(o)&&fh.unlinkSync(o);e.cwd=vh.resolve(e.cwd);var a={command:t,execOptions:e,pipe:r,stdoutFile:o,stderrFile:n};yh.writeFileSync(s,JSON.stringify(a),"utf8");var h=[vh.join(__dirname,"exec-child.js"),s];e.silent?e.stdio="ignore":e.stdio=[0,1,2];var l=0;try{delete e.shell,bh.execFileSync(fh.config.execPath,h,e)}catch(t){l=t.status||1}var c="",u="";"buffer"===e.encoding?(c=yh.readFileSync(o),u=yh.readFileSync(n)):(c=yh.readFileSync(o,e.encoding),u=yh.readFileSync(n,e.encoding));try{fh.unlinkSync(s)}catch(t){}try{fh.unlinkSync(n)}catch(t){}try{fh.unlinkSync(o)}catch(t){}0!==l&&fh.error(u,l,{continue:!0,silent:!0});return fh.ShellString(c,u,l)}(t,e,i)}),{unix:!1,canReceivePipe:!0,wrapOutput:!1});var wh=p.default,Sh=d.default,xh=Zs,Oh=Yo,kh=wh.sep+"**";function Eh(t,e){t.all_deprecated&&(xh.log("ls: Option -a is deprecated. Use -A instead"),t.all=!0),e=e?[].slice.call(arguments,1):["."];var r=[];function i(e,i,s){"win32"===process.platform&&(i=i.replace(/\\/g,"/")),t.long?(s=s||(t.link?xh.statFollowLinks(e):xh.statNoFollowLinks(e)),r.push(_h(i,s))):r.push(i)}return e.forEach((function(e){var r;try{if((r=t.link?xh.statFollowLinks(e):xh.statNoFollowLinks(e)).isSymbolicLink())try{var s=xh.statFollowLinks(e);s.isDirectory()&&(r=s)}catch(t){}}catch(t){return void xh.error("no such file or directory: "+e,2,{continue:!0})}r.isDirectory()&&!t.directory?t.recursive?Oh.sync(e+kh,{dot:t.all,follow:t.link}).forEach((function(t){wh.relative(e,t)&&i(t,wh.relative(e,t))})):t.all?Sh.readdirSync(e).forEach((function(t){i(wh.join(e,t),t)})):Sh.readdirSync(e).forEach((function(t){"."!==t[0]&&i(wh.join(e,t),t)})):i(e,e,r)})),r}function _h(t,e){return e.name=t,e.toString=function(){return[this.mode,this.nlink,this.uid,this.gid,this.size,this.mtime,this.name].join(" ")},e}xh.register("ls",Eh,{cmdOptions:{R:"recursive",A:"all",L:"link",a:"all_deprecated",d:"directory",l:"long"}});var Th=Eh,Mh=p.default,jh=Zs,Ah=Th;jh.register("find",(function(t,e){e?"string"==typeof e&&(e=[].slice.call(arguments,1)):jh.error("no path specified");var r=[];function i(t){"win32"===process.platform&&(t=t.replace(/\\/g,"/")),r.push(t)}return e.forEach((function(t){var e;try{e=jh.statFollowLinks(t)}catch(e){jh.error("no such file or directory: "+t)}i(t),e.isDirectory()&&Ah({recursive:!0,all:!0},t).forEach((function(e){i(Mh.join(t,e))}))})),r}),{});var Dh=Zs,Ph=d.default;Dh.register("grep",(function(t,e,r){var i=Dh.readFromPipe();r||i||Dh.error("no paths given",2);r=[].slice.call(arguments,2),i&&r.unshift("-");var s=[];t.ignoreCase&&(e=new RegExp(e,"i"));return r.forEach((function(r){if(Ph.existsSync(r)||"-"===r){var n="-"===r?i:Ph.readFileSync(r,"utf8");if(t.nameOnly)n.match(e)&&s.push(r);else n.split("\n").forEach((function(r){var i=r.match(e);(t.inverse&&!i||!t.inverse&&i)&&s.push(r)}))}else Dh.error("no such file or directory: "+r,2,{continue:!0})})),s.join("\n")+"\n"}),{globStart:2,canReceivePipe:!0,cmdOptions:{v:"inverse",l:"nameOnly",i:"ignoreCase"}});var Ch=Zs,Ih=d.default;function Rh(t,e){for(var r=Ch.buffer(),i=r.length,s=i,n=0,o=Ih.openSync(t,"r"),a=0,h="";s===i&&a<e;){s=Ih.readSync(o,r,0,i,n);var l=r.toString("utf8",0,s);a+=l.split("\n").length-1,h+=l,n+=s}return Ih.closeSync(o),h}Ch.register("head",(function(t,e){var r=[],i=Ch.readFromPipe();e||i||Ch.error("no paths given");var s=1;!0===t.numLines?(s=2,t.numLines=Number(arguments[1])):!1===t.numLines&&(t.numLines=10);e=[].slice.call(arguments,s),i&&e.unshift("-");var n=!1;e.forEach((function(e){if("-"!==e){if(!Ih.existsSync(e))return void Ch.error("no such file or directory: "+e,{continue:!0});if(Ch.statFollowLinks(e).isDirectory())return void Ch.error("error reading '"+e+"': Is a directory",{continue:!0})}var s=("-"===e?i:t.numLines<0?Ih.readFileSync(e,"utf8"):Rh(e,t.numLines)).split("\n"),o=""===s[s.length-1];o&&s.pop(),n=o||t.numLines<s.length,r=r.concat(s.slice(0,t.numLines))})),n&&r.push("");return r.join("\n")}),{canReceivePipe:!0,cmdOptions:{n:"numLines"}});var Fh=d.default,Lh=p.default,$h=Zs;$h.register("ln",(function(t,e,r){e&&r||$h.error("Missing <source> and/or <dest>");e=String(e);var i=Lh.normalize(e).replace(RegExp(Lh.sep+"$"),""),s=Lh.resolve(e)===i;r=Lh.resolve(process.cwd(),String(r)),Fh.existsSync(r)&&(t.force||$h.error("Destination file exists",{continue:!0}),Fh.unlinkSync(r));if(t.symlink){var n="win32"===process.platform,o=n?"file":null,a=s?i:Lh.resolve(process.cwd(),Lh.dirname(r),e);Fh.existsSync(a)?n&&$h.statFollowLinks(a).isDirectory()&&(o="junction"):$h.error("Source file does not exist",{continue:!0});try{Fh.symlinkSync("junction"===o?a:e,r,o)}catch(t){$h.error(t.message)}}else{Fh.existsSync(e)||$h.error("Source file does not exist",{continue:!0});try{Fh.linkSync(e,r)}catch(t){$h.error(t.message)}}return""}),{cmdOptions:{s:"symlink",f:"force"}});var Nh=Zs,Yh=d.default,Vh=p.default;function Gh(t){var e=Vh.dirname(t);e===t&&Nh.error("dirname() failed: ["+t+"]"),Yh.existsSync(e)||Gh(e),Yh.mkdirSync(t,parseInt("0777",8))}Nh.register("mkdir",(function(t,e){e||Nh.error("no paths given");"string"==typeof e&&(e=[].slice.call(arguments,1));return e.forEach((function(e){try{var r=Nh.statNoFollowLinks(e);return void(t.fullpath?r.isFile()&&Nh.error("cannot create directory "+e+": File exists",{continue:!0}):Nh.error("path already exists: "+e,{continue:!0}))}catch(t){}var i=Vh.dirname(e);if(Yh.existsSync(i)||t.fullpath)try{t.fullpath?Gh(Vh.resolve(e)):Yh.mkdirSync(e,parseInt("0777",8))}catch(t){var s;if("EACCES"===t.code)s="Permission denied";else{if("ENOTDIR"!==t.code&&"ENOENT"!==t.code)throw t;s="Not a directory"}Nh.error("cannot create directory "+e+": "+s,{continue:!0})}else Nh.error("no such file or directory: "+i,{continue:!0})})),""}),{cmdOptions:{p:"fullpath"}});var Hh=Zs,Uh=d.default;function qh(t,e,r){var i;i=Uh.readdirSync(t);for(var s=0;s<i.length;s++){var n=t+"/"+i[s];if(Hh.statNoFollowLinks(n).isDirectory())qh(n,e);else if(e||Bh(n))try{Hh.unlinkSync(n)}catch(t){Hh.error("could not remove file (code "+t.code+"): "+n,{continue:!0})}}if(!r){var o;try{for(var a=Date.now();;)try{if(o=Uh.rmdirSync(t),Uh.existsSync(t))throw{code:"EAGAIN"};break}catch(t){if("win32"!==process.platform||"ENOTEMPTY"!==t.code&&"EBUSY"!==t.code&&"EPERM"!==t.code&&"EAGAIN"!==t.code){if("ENOENT"===t.code)break;throw t}if(Date.now()-a>1e3)throw t}}catch(e){Hh.error("could not remove directory (code "+e.code+"): "+t,{continue:!0})}return o}}function Bh(t){var e=!0;try{var r=Uh.openSync(t,"a");Uh.closeSync(r)}catch(t){e=!1}return e}function Wh(t,e){e.force||Bh(t)?Hh.unlinkSync(t):Hh.error("permission denied: "+t,{continue:!0})}function zh(t,e){e.recursive?qh(t,e.force):Hh.error("path is a directory",{continue:!0})}function Jh(t,e){var r;try{r=Hh.statFollowLinks(t)}catch(e){return void Hh.unlinkSync(t)}if(r.isFile())Hh.unlinkSync(t);else if(r.isDirectory())if("/"===t[t.length-1])if(e.recursive){qh(t,e.force,!0)}else Hh.error("path is a directory",{continue:!0});else Hh.unlinkSync(t)}function Xh(t){Hh.unlinkSync(t)}function Kh(t,e){return e||Hh.error("no paths given"),(e=[].slice.call(arguments,1)).forEach((function(e){var r;try{var i="/"===e[e.length-1]?e.slice(0,-1):e;r=Hh.statNoFollowLinks(i)}catch(r){return void(t.force||Hh.error("no such file or directory: "+e,{continue:!0}))}r.isFile()?Wh(e,t):r.isDirectory()?zh(e,t):r.isSymbolicLink()?Jh(e,t):r.isFIFO()&&Xh(e)})),""}Hh.register("rm",Kh,{cmdOptions:{f:"force",r:"recursive",R:"recursive"}});var Qh=Kh,Zh=d.default,tl=p.default,el=Zs,rl=Wa,il=Qh;function sl(t,e){var r=t[e];return t.slice(0,e).some((function(t){return tl.basename(t)===tl.basename(r)}))}el.register("mv",(function(t,e,r){arguments.length<3?el.error("missing <source> and/or <dest>"):arguments.length>3?(e=[].slice.call(arguments,1,arguments.length-1),r=arguments[arguments.length-1]):"string"==typeof e?e=[e]:el.error("invalid arguments");var i=Zh.existsSync(r),s=i&&el.statFollowLinks(r);i&&s.isDirectory()||!(e.length>1)||el.error("dest is not a directory (too many sources)");i&&s.isFile()&&t.no_force&&el.error("dest file already exists: "+r);return e.forEach((function(i,s){if(Zh.existsSync(i)){var n=r;if(Zh.existsSync(r)&&el.statFollowLinks(r).isDirectory()&&(n=tl.normalize(r+"/"+tl.basename(i))),Zh.existsSync(n)&&sl(e,s))t.no_force||el.error("will not overwrite just-created '"+n+"' with '"+i+"'",{continue:!0});else if(Zh.existsSync(n)&&t.no_force)el.error("dest file already exists: "+n,{continue:!0});else if(tl.resolve(i)!==tl.dirname(tl.resolve(n)))try{Zh.renameSync(i,n)}catch(t){"EXDEV"===t.code&&(rl("-r",i,n),il("-rf",i))}else el.error("cannot move to self: "+i,{continue:!0})}else el.error("no such file or directory: "+i,{continue:!0})})),""}),{cmdOptions:{f:"!no_force",n:"no_force"}});var nl=Zs,ol=d.default;nl.register("sed",(function(t,e,r,i){var s=nl.readFromPipe();"string"!=typeof r&&"function"!=typeof r&&("number"==typeof r?r=r.toString():nl.error("invalid replacement string"));"string"==typeof e&&(e=RegExp(e));i||s||nl.error("no files given");i=[].slice.call(arguments,3),s&&i.unshift("-");var n=[];return i.forEach((function(i){if(ol.existsSync(i)||"-"===i){var o=("-"===i?s:ol.readFileSync(i,"utf8")).split("\n").map((function(t){return t.replace(e,r)})).join("\n");n.push(o),t.inplace&&ol.writeFileSync(i,o,"utf8")}else nl.error("no such file or directory: "+i,2,{continue:!0})})),n.join("\n")}),{globStart:3,canReceivePipe:!0,cmdOptions:{i:"inplace"}});var al=Zs;al.register("set",(function(t){if(!t){var e=[].slice.call(arguments,0);e.length<2&&al.error("must provide an argument"),t=e[1]}var r="+"===t[0];r&&(t="-"+t.slice(1));t=al.parseOptions(t,{e:"fatal",v:"verbose",f:"noglob"}),r&&Object.keys(t).forEach((function(e){t[e]=!t[e]}));return void Object.keys(t).forEach((function(e){r!==t[e]&&(al.config[e]=t[e])}))}),{allowGlobbing:!1,wrapOutput:!1});var hl=Zs,ll=d.default;function cl(t){var e=t.match(/^\s*(\d*)\s*(.*)$/);return{num:Number(e[1]),value:e[2]}}function ul(t,e){var r=t.toLowerCase(),i=e.toLowerCase();return r===i?-1*t.localeCompare(e):r.localeCompare(i)}function dl(t,e){var r=cl(t),i=cl(e);return r.hasOwnProperty("num")&&i.hasOwnProperty("num")&&r.num!==i.num?r.num-i.num:ul(r.value,i.value)}hl.register("sort",(function(t,e){var r=hl.readFromPipe();e||r||hl.error("no files given");e=[].slice.call(arguments,1),r&&e.unshift("-");var i=e.reduce((function(t,e){if("-"!==e){if(!ll.existsSync(e))return hl.error("no such file or directory: "+e,{continue:!0}),t;if(hl.statFollowLinks(e).isDirectory())return hl.error("read failed: "+e+": Is a directory",{continue:!0}),t}var i="-"===e?r:ll.readFileSync(e,"utf8");return t.concat(i.trimRight().split("\n"))}),[]),s=i.sort(t.numerical?dl:ul);t.reverse&&(s=s.reverse());return s.join("\n")+"\n"}),{canReceivePipe:!0,cmdOptions:{r:"reverse",n:"numerical"}});var pl=Zs,fl=d.default;pl.register("tail",(function(t,e){var r=[],i=pl.readFromPipe();e||i||pl.error("no paths given");var s=1;!0===t.numLines?(s=2,t.numLines=Number(arguments[1])):!1===t.numLines&&(t.numLines=10);t.numLines=-1*Math.abs(t.numLines),e=[].slice.call(arguments,s),i&&e.unshift("-");var n=!1;e.forEach((function(e){if("-"!==e){if(!fl.existsSync(e))return void pl.error("no such file or directory: "+e,{continue:!0});if(pl.statFollowLinks(e).isDirectory())return void pl.error("error reading '"+e+"': Is a directory",{continue:!0})}var s=("-"===e?i:fl.readFileSync(e,"utf8")).split("\n");""===s[s.length-1]?(s.pop(),n=!0):n=!1,r=r.concat(s.slice(t.numLines))})),n&&r.push("");return r.join("\n")}),{canReceivePipe:!0,cmdOptions:{n:"numLines"}});var ml=Zs,gl=d.default;ml.register("test",(function(t,e){e||ml.error("no path given");var r=!1;Object.keys(t).forEach((function(e){!0===t[e]&&(r=!0)})),r||ml.error("could not interpret expression");if(t.link)try{return ml.statNoFollowLinks(e).isSymbolicLink()}catch(t){return!1}if(!gl.existsSync(e))return!1;if(t.exists)return!0;var i=ml.statFollowLinks(e);return t.block?i.isBlockDevice():t.character?i.isCharacterDevice():t.directory?i.isDirectory():t.file?i.isFile():t.pipe?i.isFIFO():!!t.socket&&i.isSocket()}),{cmdOptions:{b:"block",c:"character",d:"directory",e:"exists",f:"file",L:"link",p:"pipe",S:"socket"},wrapOutput:!1,allowGlobbing:!1});var vl=Zs,yl=d.default,bl=p.default;vl.register("to",(function(t,e){e||vl.error("wrong arguments");yl.existsSync(bl.dirname(e))||vl.error("no such file or directory: "+bl.dirname(e));try{return yl.writeFileSync(e,this.stdout||this.toString(),"utf8"),this}catch(t){vl.error("could not write to file (code "+t.code+"): "+e,{continue:!0})}}),{pipeOnly:!0,wrapOutput:!1});var wl=Zs,Sl=d.default,xl=p.default;wl.register("toEnd",(function(t,e){e||wl.error("wrong arguments");Sl.existsSync(xl.dirname(e))||wl.error("no such file or directory: "+xl.dirname(e));try{return Sl.appendFileSync(e,this.stdout||this.toString(),"utf8"),this}catch(t){wl.error("could not append to file (code "+t.code+"): "+e,{continue:!0})}}),{pipeOnly:!0,wrapOutput:!1});var Ol=Zs,kl=d.default;function El(t,e){var r=_l(e);if((!r||!r.isDirectory())&&(r||!t.no_create)){kl.closeSync(kl.openSync(e,"a"));var i=new Date,s=t.date||i,n=t.date||i;if(t.reference){var o=_l(t.reference);o||Ol.error("failed to get attributess of "+t.reference),s=o.mtime,n=o.atime}else t.date&&(s=t.date,n=t.date);t.atime_only&&t.mtime_only||(t.atime_only?s=r.mtime:t.mtime_only&&(n=r.atime)),kl.utimesSync(e,n,s)}}function _l(t){try{return Ol.statFollowLinks(t)}catch(t){return null}}Ol.register("touch",(function(t,e){e?"string"==typeof e?e=[].slice.call(arguments,1):Ol.error("file arg should be a string file path or an Array of string file paths"):Ol.error("no files given");return e.forEach((function(e){El(t,e)})),""}),{cmdOptions:{a:"atime_only",c:"no_create",d:"date",m:"mtime_only",r:"reference"}});var Tl=Zs,Ml=d.default;Tl.register("uniq",(function(t,e,r){var i=Tl.readFromPipe();i||(e||Tl.error("no input given"),Ml.existsSync(e)?Tl.statFollowLinks(e).isDirectory()&&Tl.error("error reading '"+e+"'"):Tl.error(e+": No such file or directory"));r&&Ml.existsSync(r)&&Tl.statFollowLinks(r).isDirectory()&&Tl.error(r+": Is a directory");var s=(e?Ml.readFileSync(e,"utf8"):i).trimRight().split("\n"),n=s.reduceRight((function(e,r){return 0===e.length?[{count:1,ln:r}]:0===(i=e[0].ln,s=r,t.ignoreCase?i.toLocaleLowerCase().localeCompare(s.toLocaleLowerCase()):i.localeCompare(s))?[{count:e[0].count+1,ln:r}].concat(e.slice(1)):[{count:1,ln:r}].concat(e);var i,s}),[]).filter((function(e){return!t.duplicates||e.count>1})).map((function(e){return(t.count?function(t,e){var r=""+e;return r.length<t&&(r=Array(t-r.length+1).join(" ")+r),r}(7,e.count)+" ":"")+e.ln})).join("\n")+"\n";return r?(new Tl.ShellString(n).to(r),""):n}),{canReceivePipe:!0,cmdOptions:{i:"ignoreCase",c:"count",d:"duplicates"}});var jl=Zs,Al=d.default,Dl=p.default;jl.register("which",(function(t,e){e||jl.error("must specify command");var r=Pl(),i=Cl(process.env.PATH),s=[];if(-1===e.indexOf("/")){var n=[""];if(r){var o=process.env.PATHEXT||".com;.exe;.bat;.cmd;.vbs;.vbe;.js;.jse;.wsf;.wsh";n=Cl(o.toUpperCase())}for(var a=0;a<i.length&&(!(s.length>0)||t.all);a++){var h=Dl.resolve(i[a],e);r&&(h=h.toUpperCase());var l=h.match(/\.[^<>:"/\|?*.]+$/);if(l&&n.indexOf(l[0])>=0){if(Il(h)){s.push(h);break}}else for(var c=0;c<n.length;c++){var u=n[c],d=h+u;if(Il(d)){s.push(d);break}}}}else Il(e)&&s.push(Dl.resolve(e));if(s.length>0)return t.all?s:s[0];return t.all?[]:null}),{allowGlobbing:!1,cmdOptions:{a:"all"}});function Pl(){return"win32"===process.platform}function Cl(t){return t?t.split(Dl.delimiter):[]}function Il(t){return Al.existsSync(t)&&!jl.statFollowLinks(t).isDirectory()&&(Pl()||function(t){try{Al.accessSync(t,1)}catch(t){return!1}return!0}(t))}var Rl=Zs;var Fl=function(){return Rl.state.error};const Ll=Zs;Qs.exit=process.exit,Qs.error=Fl,Qs.ShellString=Ll.ShellString,Qs.env=process.env,Qs.config=Ll.config;var $l=require("fs");!function(){y(this,void 0,void 0,(function(){var t,e,r,i,s,n,o,a;return b(this,(function(h){switch(h.label){case 0:return t=require("../../package.json"),(e=t.version.split("."))[e.length-1]=Number(e[e.length-1])+1,e=e.join("."),r=[{type:"text",name:"version",message:"当前版本"+t.version,initial:e}],[4,Ks(r)];case 1:return i=h.sent().version,[4,Ks([{type:"text",name:"commit",message:"Input Your git commit log",initial:"Update: "+i},{name:"push",type:"confirm",message:"Can you push code?"}])];case 2:return s=h.sent(),n=s.commit,o=s.push,Qs.echo("rollup building......"),Qs.exec("rollup -c"),Qs.echo("write package.json start"),$l.writeFileSync("./package.json",JSON.stringify(v(v({},t),{version:i}),null,4)),Qs.echo("write package.json success"),Qs.echo("write README.md start"),a=(a=$l.readFileSync("./README.md").toString()).replace(/#\d+\.\d+\.\d+/,"#"+i),$l.writeFileSync("./README.md",a),Qs.echo("write README.md success"),Qs.exec('git commit -a -m "'+n+'"'),Qs.exec("git tag -a "+i+' -m "'+i+'"'),o&&(Qs.exec("git push origin --follow-tags"),Qs.exec("git push gitlab --follow-tags")),[2]}}))}))}();
