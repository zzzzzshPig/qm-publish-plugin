"use strict";var t=require("readline"),e=require("events");function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=i(t),r=i(e),n=function(){return(n=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t,e,i,s){return new(i||(i=Promise))((function(r,n){function o(t){try{l(s.next(t))}catch(t){n(t)}}function h(t){try{l(s.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}l((s=s.apply(t,e||[])).next())}))}function h(t,e){var i,s,r,n,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return n={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function h(n){return function(h){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,s&&(r=2&n[0]?s.return:n[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,n[1])).done)return r;switch(s=0,r&&(n=[2&n[0],r.value]),n[0]){case 0:case 1:r=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,s=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==n[0]&&2!==n[0])){o=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){o.label=n[1];break}if(6===n[0]&&o.label<r[1]){o.label=r[1],r=n;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(n);break}r[2]&&o.ops.pop(),o.trys.pop();continue}n=e.call(t,o)}catch(t){n=[6,t],s=0}finally{i=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,h])}}}var l={};const{FORCE_COLOR:a,NODE_DISABLE_COLORS:u,TERM:d}=process.env,c={enabled:!u&&"dumb"!==d&&"0"!==a,reset:f(0,0),bold:f(1,22),dim:f(2,22),italic:f(3,23),underline:f(4,24),inverse:f(7,27),hidden:f(8,28),strikethrough:f(9,29),black:f(30,39),red:f(31,39),green:f(32,39),yellow:f(33,39),blue:f(34,39),magenta:f(35,39),cyan:f(36,39),white:f(37,39),gray:f(90,39),grey:f(90,39),bgBlack:f(40,49),bgRed:f(41,49),bgGreen:f(42,49),bgYellow:f(43,49),bgBlue:f(44,49),bgMagenta:f(45,49),bgCyan:f(46,49),bgWhite:f(47,49)};function p(t,e){let i,s=0,r="",n="";for(;s<t.length;s++)i=t[s],r+=i.open,n+=i.close,e.includes(i.close)&&(e=e.replace(i.rgx,i.close+i.open));return r+e+n}function f(t,e){let i={open:`[${t}m`,close:`[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(e){return void 0!==this&&void 0!==this.has?(this.has.includes(t)||(this.has.push(t),this.keys.push(i)),void 0===e?this:c.enabled?p(this.keys,e+""):e+""):void 0===e?function(t,e){let i={has:t,keys:e};return i.reset=c.reset.bind(i),i.bold=c.bold.bind(i),i.dim=c.dim.bind(i),i.italic=c.italic.bind(i),i.underline=c.underline.bind(i),i.inverse=c.inverse.bind(i),i.hidden=c.hidden.bind(i),i.strikethrough=c.strikethrough.bind(i),i.black=c.black.bind(i),i.red=c.red.bind(i),i.green=c.green.bind(i),i.yellow=c.yellow.bind(i),i.blue=c.blue.bind(i),i.magenta=c.magenta.bind(i),i.cyan=c.cyan.bind(i),i.white=c.white.bind(i),i.gray=c.gray.bind(i),i.grey=c.grey.bind(i),i.bgBlack=c.bgBlack.bind(i),i.bgRed=c.bgRed.bind(i),i.bgGreen=c.bgGreen.bind(i),i.bgYellow=c.bgYellow.bind(i),i.bgBlue=c.bgBlue.bind(i),i.bgMagenta=c.bgMagenta.bind(i),i.bgCyan=c.bgCyan.bind(i),i.bgWhite=c.bgWhite.bind(i),i}([t],[i]):c.enabled?p([i],e+""):e+""}}var g=c,m=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),i=new RegExp(e,"g");return"string"==typeof t?t.replace(i,""):t};const v={to:(t,e)=>e?`[${e+1};${t+1}H`:`[${t+1}G`,move(t,e){let i="";return t<0?i+=`[${-t}D`:t>0&&(i+=`[${t}C`),e<0?i+=`[${-e}A`:e>0&&(i+=`[${e}B`),i},up:(t=1)=>`[${t}A`,down:(t=1)=>`[${t}B`,forward:(t=1)=>`[${t}C`,backward:(t=1)=>`[${t}D`,nextLine:(t=1)=>"[E".repeat(t),prevLine:(t=1)=>"[F".repeat(t),left:"[G",hide:"[?25l",show:"[?25h",save:"7",restore:"8"},b={screen:"[2J",up:(t=1)=>"[1J".repeat(t),down:(t=1)=>"[J".repeat(t),line:"[2K",lineEnd:"[K",lineStart:"[1K",lines(t){let e="";for(let i=0;i<t;i++)e+=this.line+(i<t-1?v.up():"");return t&&(e+=v.left),e}};var w={cursor:v,scroll:{up:(t=1)=>"[S".repeat(t),down:(t=1)=>"[T".repeat(t)},erase:b,beep:""};function y(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return x(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,r=function(){};return{s:r,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,h=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){h=!0,n=t},f:function(){try{o||null==i.return||i.return()}finally{if(h)throw n}}}}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}const S=m,M=w.erase,O=w.cursor;const T={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},P={arrowUp:T.arrowUp,arrowDown:T.arrowDown,arrowLeft:T.arrowLeft,arrowRight:T.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"};var C="win32"===process.platform?P:T;const k=g,$=C,D=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),I=Object.freeze({aborted:k.red($.cross),done:k.green($.tick),exited:k.yellow($.cross),default:k.cyan("?")});const j=m;var E={action:(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}},clear:function(t,e){if(!e)return M.line+O.to(0);let i=0;var s,r=y(t.split(/\r?\n/));try{for(r.s();!(s=r.n()).done;){let t=s.value;i+=1+Math.floor(Math.max([...S(t)].length-1,0)/e)}}catch(t){r.e(t)}finally{r.f()}return M.lines(i)},style:{styles:D,render:t=>D[t]||D.default,symbols:I,symbol:(t,e,i)=>e?I.aborted:i?I.exited:t?I.done:I.default,delimiter:t=>k.gray(t?$.ellipsis:$.pointerSmall),item:(t,e)=>k.gray(t?e?$.pointerSmall:"+":$.line)},strip:m,figures:C,lines:function(t,e){let i=String(j(t)||"").split(/\r?\n/);return e?i.map((t=>Math.ceil(t.length/e))).reduce(((t,e)=>t+e)):i.length},wrap:(t,e={})=>{const i=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",s=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+i.length>=s||t[t.length-1].length+e.length+1<s?t[t.length-1]+=` ${e}`:t.push(`${i}${e}`),t)),[i]).join("\n"))).join("\n")},entriesToDisplay:(t,e,i)=>{i=i||e;let s=Math.min(e-i,t-Math.floor(i/2));return s<0&&(s=0),{startIndex:s,endIndex:Math.min(s+i,e)}}};const A=s.default,R=E.action,_=r.default,F=w.beep,V=w.cursor,Y=g;var H=class extends _{constructor(t={}){super(),this.firstRender=!0,this.in=t.stdin||process.stdin,this.out=t.stdout||process.stdout,this.onRender=(t.onRender||(()=>{})).bind(this);const e=A.createInterface({input:this.in,escapeCodeTimeout:50});A.emitKeypressEvents(this.in,e),this.in.isTTY&&this.in.setRawMode(!0);const i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,s=(t,e)=>{let s=R(e,i);!1===s?this._&&this._(t,e):"function"==typeof this[s]?this[s](e):this.bell()};this.close=()=>{this.out.write(V.show),this.in.removeListener("keypress",s),this.in.isTTY&&this.in.setRawMode(!1),e.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",s)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(F)}render(){this.onRender(Y),this.firstRender&&(this.firstRender=!1)}};function L(t,e,i,s,r,n,o){try{var h=t[n](o),l=h.value}catch(t){return void i(t)}h.done?e(l):Promise.resolve(l).then(s,r)}function N(t){return function(){var e=this,i=arguments;return new Promise((function(s,r){var n=t.apply(e,i);function o(t){L(n,s,r,o,h,"next",t)}function h(t){L(n,s,r,o,h,"throw",t)}o(void 0)}))}}const U=g,J=H,B=w.erase,q=w.cursor,z=E.style,W=E.clear,G=E.lines,Z=E.figures;var K=class extends J{constructor(t={}){super(t),this.transform=z.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=W("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=U.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return N((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return N((function*(){if(t.value=t.value||t.initial,t.cursorOffset=0,t.cursor=t.rendered.length,yield t.validate(),t.error)return t.red=!0,t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let i=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.value=`${i}${t}${s}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(q.down(G(this.outputError,this.out.columns)-1)+W(this.outputError,this.out.columns)),this.out.write(W(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[z.symbol(this.done,this.aborted),U.bold(this.msg),z.delimiter(this.done),this.red?U.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":Z.pointerSmall} ${U.red().italic(e)}`),"")),this.out.write(B.line+q.to(0)+this.outputText+q.save+this.outputError+q.restore+q.move(this.cursorOffset,0)))}};const Q=g,X=H,tt=E.style,et=E.clear,it=E.figures,st=E.wrap,rt=E.entriesToDisplay,nt=w.cursor;var ot=class extends X{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=et("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(nt.hide):this.out.write(et(this.outputText,this.out.columns)),super.render();let t=rt(this.cursor,this.choices.length,this.optionsPerPage),e=t.startIndex,i=t.endIndex;if(this.outputText=[tt.symbol(this.done,this.aborted),Q.bold(this.msg),tt.delimiter(!1),this.done?this.selection.title:this.selection.disabled?Q.yellow(this.warn):Q.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let t=e;t<i;t++){let s,r,n="",o=this.choices[t];r=t===e&&e>0?it.arrowUp:t===i-1&&i<this.choices.length?it.arrowDown:" ",o.disabled?(s=this.cursor===t?Q.gray().underline(o.title):Q.strikethrough().gray(o.title),r=(this.cursor===t?Q.bold().gray(it.pointer)+" ":"  ")+r):(s=this.cursor===t?Q.cyan().underline(o.title):o.title,r=(this.cursor===t?Q.cyan(it.pointer)+" ":"  ")+r,o.description&&this.cursor===t&&(n=` - ${o.description}`,(r.length+s.length+n.length>=this.out.columns||o.description.split(/\r?\n/).length>1)&&(n="\n"+st(o.description,{margin:3,width:this.out.columns})))),this.outputText+=`${r} ${s}${Q.gray(n)}\n`}}this.out.write(this.outputText)}};const ht=g,lt=H,at=E.style,ut=E.clear,dt=w.cursor,ct=w.erase;var pt=class extends lt{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(dt.hide):this.out.write(ut(this.outputText,this.out.columns)),super.render(),this.outputText=[at.symbol(this.done,this.aborted),ht.bold(this.msg),at.delimiter(this.done),this.value?this.inactive:ht.cyan().underline(this.inactive),ht.gray("/"),this.value?ht.cyan().underline(this.active):this.active].join(" "),this.out.write(ct.line+dt.to(0)+this.outputText))}};class ft{constructor({token:t,date:e,parts:i,locales:s}){this.token=t,this.date=e||new Date,this.parts=i||[this],this.locales=s||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find(((e,i)=>i>t&&e instanceof ft))}setTo(t){}prev(){let t=[].concat(this.parts).reverse();const e=t.indexOf(this);return t.find(((t,i)=>i>e&&t instanceof ft))}toString(){return String(this.date)}}var gt=ft;const mt=gt;var vt=class extends mt{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}};const bt=gt;var wt=class extends bt{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(i=t,1==(i%=10)?"st":2===i?"nd":3===i?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var i}};const yt=gt;var xt=class extends yt{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}};const St=gt;var Mt=class extends St{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};const Ot=gt;var Tt=class extends Ot{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}};const Pt=gt;var Ct=class extends Pt{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}};const kt=gt;var $t=class extends kt{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}};const Dt=gt;var It={DatePart:gt,Meridiem:vt,Day:wt,Hours:xt,Milliseconds:Mt,Minutes:Tt,Month:Ct,Seconds:$t,Year:class extends Dt{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}}};function jt(t,e,i,s,r,n,o){try{var h=t[n](o),l=h.value}catch(t){return void i(t)}h.done?e(l):Promise.resolve(l).then(s,r)}function Et(t){return function(){var e=this,i=arguments;return new Promise((function(s,r){var n=t.apply(e,i);function o(t){jt(n,s,r,o,h,"next",t)}function h(t){jt(n,s,r,o,h,"throw",t)}o(void 0)}))}}const At=g,Rt=H,_t=E.style,Ft=E.clear,Vt=E.figures,Yt=w.erase,Ht=w.cursor,Lt=It.DatePart,Nt=It.Meridiem,Ut=It.Day,Jt=It.Hours,Bt=It.Milliseconds,qt=It.Minutes,zt=It.Month,Wt=It.Seconds,Gt=It.Year,Zt=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Kt={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new Ut(t),3:t=>new zt(t),4:t=>new Gt(t),5:t=>new Nt(t),6:t=>new Jt(t),7:t=>new qt(t),8:t=>new Wt(t),9:t=>new Bt(t)},Qt={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};var Xt=class extends Rt{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(Qt,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=Ft("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=Zt.exec(t);){let t=e.shift(),i=e.findIndex((t=>null!=t));this.parts.push(i in Kt?Kt[i]({token:e[i]||t,date:this.date,parts:this.parts,locales:this.locales}):e[i]||t)}let i=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof Lt))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return Et((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return Et((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof Lt))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(Ht.hide):this.out.write(Ft(this.outputText,this.out.columns)),super.render(),this.outputText=[_t.symbol(this.done,this.aborted),At.bold(this.msg),_t.delimiter(!1),this.parts.reduce(((t,e,i)=>t.concat(i!==this.cursor||this.done?e:At.cyan().underline(e.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":Vt.pointerSmall} ${At.red().italic(e)}`),"")),this.out.write(Yt.line+Ht.to(0)+this.outputText))}};function te(t,e,i,s,r,n,o){try{var h=t[n](o),l=h.value}catch(t){return void i(t)}h.done?e(l):Promise.resolve(l).then(s,r)}function ee(t){return function(){var e=this,i=arguments;return new Promise((function(s,r){var n=t.apply(e,i);function o(t){te(n,s,r,o,h,"next",t)}function h(t){te(n,s,r,o,h,"throw",t)}o(void 0)}))}}const ie=g,se=H,re=w.cursor,ne=w.erase,oe=E.style,he=E.figures,le=E.clear,ae=E.lines,ue=/[0-9]/,de=t=>void 0!==t,ce=(t,e)=>{let i=Math.pow(10,e);return Math.round(t*i)/i};var pe=class extends se{constructor(t={}){super(t),this.transform=oe.render(t.style),this.msg=t.message,this.initial=de(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=de(t.min)?t.min:-1/0,this.max=de(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){t||0===t?(this.placeholder=!1,this.rendered=this.transform.render(`${ce(t,this.round)}`),this._value=ce(t,this.round)):(this.placeholder=!0,this.rendered=ie.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||ue.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return ee((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return ee((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();let e=t.value;t.value=""!==e?e:t.initial,t.done=!0,t.aborted=!1,t.error=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=i,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(re.down(ae(this.outputError,this.out.columns)-1)+le(this.outputError,this.out.columns)),this.out.write(le(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[oe.symbol(this.done,this.aborted),ie.bold(this.msg),oe.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:ie[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":he.pointerSmall} ${ie.red().italic(e)}`),"")),this.out.write(ne.line+re.to(0)+this.outputText+re.save+this.outputError+re.restore))}};const fe=g,ge=w.cursor,me=H,ve=E.clear,be=E.figures,we=E.style,ye=E.wrap,xe=E.entriesToDisplay;var Se=class extends me{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=ve("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${be.arrowUp}/${be.arrowDown}: Highlight option\n    ${be.arrowLeft}/${be.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(t,e,i,s){const r=(e.selected?fe.green(be.radioOn):be.radioOff)+" "+s+" ";let n,o;return e.disabled?n=t===i?fe.gray().underline(e.title):fe.strikethrough().gray(e.title):(n=t===i?fe.cyan().underline(e.title):e.title,t===i&&e.description&&(o=` - ${e.description}`,(r.length+n.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o="\n"+ye(e.description,{margin:r.length,width:this.out.columns})))),r+n+fe.gray(o||"")}paginateOptions(t){if(0===t.length)return fe.red("No matches for this query.");let e,i=xe(this.cursor,t.length,this.optionsPerPage),s=i.startIndex,r=i.endIndex,n=[];for(let i=s;i<r;i++)e=i===s&&s>0?be.arrowUp:i===r-1&&r<t.length?be.arrowDown:" ",n.push(this.renderOption(this.cursor,t[i],i,e));return"\n"+n.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const t=[fe.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&t.push(fe.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(ge.hide),super.render();let t=[we.symbol(this.done,this.aborted),fe.bold(this.msg),we.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=fe.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.value),this.out.write(this.clear+t),this.clear=ve(t,this.out.columns)}};function Me(t,e,i,s,r,n,o){try{var h=t[n](o),l=h.value}catch(t){return void i(t)}h.done?e(l):Promise.resolve(l).then(s,r)}const Oe=g,Te=H,Pe=w.erase,Ce=w.cursor,ke=E.style,$e=E.clear,De=E.figures,Ie=E.wrap,je=E.entriesToDisplay,Ee=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),Ae=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);var Re=class extends Te{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const i=t.findIndex((t=>t.value===e||t.title===e));return i>-1?i:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=ke.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=$e("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=Ee(this.suggestions,t):this.value=this.fallback.value,this.fire()}complete(t){var e,i=this;return(e=function*(){const e=i.completing=i.suggest(i.input,i.choices),s=yield e;if(i.completing!==e)return;i.suggestions=s.map(((t,e,i)=>({title:Ae(i,e),value:Ee(i,e),description:t.description}))),i.completing=!1;const r=Math.max(s.length-1,0);i.moveSelect(Math.min(r,i.select)),t&&t()},function(){var t=this,i=arguments;return new Promise((function(s,r){var n=e.apply(t,i);function o(t){Me(n,s,r,o,h,"next",t)}function h(t){Me(n,s,r,o,h,"throw",t)}o(void 0)}))})()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let i=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor);this.input=`${i}${t}${s}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,e,i,s){let r,n=i?De.arrowUp:s?De.arrowDown:" ",o=e?Oe.cyan().underline(t.title):t.title;return n=(e?Oe.cyan(De.pointer)+" ":"  ")+n,t.description&&(r=` - ${t.description}`,(n.length+o.length+r.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(r="\n"+Ie(t.description,{margin:3,width:this.out.columns}))),n+" "+o+Oe.gray(r||"")}render(){if(this.closed)return;this.firstRender?this.out.write(Ce.hide):this.out.write($e(this.outputText,this.out.columns)),super.render();let t=je(this.select,this.choices.length,this.limit),e=t.startIndex,i=t.endIndex;if(this.outputText=[ke.symbol(this.done,this.aborted,this.exited),Oe.bold(this.msg),ke.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const t=this.suggestions.slice(e,i).map(((t,s)=>this.renderOption(t,this.select===s+e,0===s&&e>0,s+e===i-1&&i<this.choices.length))).join("\n");this.outputText+="\n"+(t||Oe.gray(this.fallback.title))}this.out.write(Pe.line+Ce.to(0)+this.outputText)}};const _e=g,Fe=w.cursor,Ve=Se,Ye=E.clear,He=E.style,Le=E.figures;var Ne=class extends Ve{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=Ye("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||(!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase())))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${Le.arrowUp}/${Le.arrowDown}: Highlight option\n    ${Le.arrowLeft}/${Le.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:_e.gray("Enter something to filter")}\n`}renderOption(t,e,i){let s;return s=e.disabled?t===i?_e.gray().underline(e.title):_e.strikethrough().gray(e.title):t===i?_e.cyan().underline(e.title):e.title,(e.selected?_e.green(Le.radioOn):Le.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const t=[_e.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&t.push(_e.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Fe.hide),super.render();let t=[He.symbol(this.done,this.aborted),_e.bold(this.msg),He.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=_e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+t),this.clear=Ye(t,this.out.columns)}};const Ue=g,Je=H,Be=E.style,qe=E.clear,ze=w.erase,We=w.cursor;var Ge={TextPrompt:K,SelectPrompt:ot,TogglePrompt:pt,DatePrompt:Xt,NumberPrompt:pe,MultiselectPrompt:Se,AutocompletePrompt:Re,AutocompleteMultiselectPrompt:Ne,ConfirmPrompt:class extends Je{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(We.hide):this.out.write(qe(this.outputText,this.out.columns)),super.render(),this.outputText=[Be.symbol(this.done,this.aborted),Ue.bold(this.msg),Be.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:Ue.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(ze.line+We.to(0)+this.outputText))}}};function Ze(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function Ke(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ze(Object(i),!0).forEach((function(e){Qe(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ze(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Qe(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Xe(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return ti(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ti(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,r=function(){};return{s:r,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,h=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){h=!0,n=t},f:function(){try{o||null==i.return||i.return()}finally{if(h)throw n}}}}function ti(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function ei(t,e,i,s,r,n,o){try{var h=t[n](o),l=h.value}catch(t){return void i(t)}h.done?e(l):Promise.resolve(l).then(s,r)}function ii(t){return function(){var e=this,i=arguments;return new Promise((function(s,r){var n=t.apply(e,i);function o(t){ei(n,s,r,o,h,"next",t)}function h(t){ei(n,s,r,o,h,"throw",t)}o(void 0)}))}}!function(t){const e=l,i=Ge,s=t=>t;function r(t,e,r={}){return new Promise(((n,o)=>{const h=new i[t](e),l=r.onAbort||s,a=r.onSubmit||s,u=r.onExit||s;h.on("state",e.onState||s),h.on("submit",(t=>n(a(t)))),h.on("exit",(t=>n(u(t)))),h.on("abort",(t=>o(l(t))))}))}e.text=t=>r("TextPrompt",t),e.password=t=>(t.style="password",e.text(t)),e.invisible=t=>(t.style="invisible",e.text(t)),e.number=t=>r("NumberPrompt",t),e.date=t=>r("DatePrompt",t),e.confirm=t=>r("ConfirmPrompt",t),e.list=t=>{const e=t.separator||",";return r("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},e.toggle=t=>r("TogglePrompt",t),e.select=t=>r("SelectPrompt",t),e.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return r("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},e.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return r("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const n=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));e.autocomplete=t=>(t.suggest=t.suggest||n,t.choices=[].concat(t.choices||[]),r("AutocompletePrompt",t))}();const si=l,ri=["suggest","format","onState","validate","onRender","type"],ni=()=>{};function oi(){return hi.apply(this,arguments)}function hi(){return(hi=ii((function*(t=[],{onSubmit:e=ni,onCancel:i=ni}={}){const s={},r=oi._override||{};let n,o,h,l,a,u;t=[].concat(t);const d=function(){var t=ii((function*(t,e,i=!1){if(i||!t.validate||!0===t.validate(e))return t.format?yield t.format(e,s):e}));return function(e,i){return t.apply(this,arguments)}}();var c,p=Xe(t);try{for(p.s();!(c=p.n()).done;){o=c.value;var f=o;if(l=f.name,a=f.type,"function"==typeof a&&(a=yield a(n,Ke({},s),o),o.type=a),a){for(let t in o){if(ri.includes(t))continue;let e=o[t];o[t]="function"==typeof e?yield e(n,Ke({},s),u):e}if(u=o,"string"!=typeof o.message)throw new Error("prompt message is required");var g=o;if(l=g.name,a=g.type,void 0===si[a])throw new Error(`prompt type (${a}) is not defined`);if(void 0===r[o.name]||(n=yield d(o,r[o.name]),void 0===n)){try{n=oi._injected?li(oi._injected,o.initial):yield si[a](o),s[l]=n=yield d(o,n,!0),h=yield e(o,n,s)}catch(t){h=!(yield i(o,s))}if(h)return s}else s[l]=n}}}catch(t){p.e(t)}finally{p.f()}return s}))).apply(this,arguments)}function li(t,e){const i=t.shift();if(i instanceof Error)throw i;return void 0===i?e:i}var ai=Object.assign(oi,{prompt:oi,prompts:si,inject:function(t){oi._injected=(oi._injected||[]).concat(t)},override:function(t){oi._override=Object.assign({},t)}}),ui={},di=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),i=new RegExp(e,"g");return"string"==typeof t?t.replace(i,""):t};const ci=di,{erase:pi,cursor:fi}=w;const gi={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},mi={arrowUp:gi.arrowUp,arrowDown:gi.arrowDown,arrowLeft:gi.arrowLeft,arrowRight:gi.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"};var vi="win32"===process.platform?mi:gi;const bi=g,wi=vi,yi=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),xi=Object.freeze({aborted:bi.red(wi.cross),done:bi.green(wi.tick),exited:bi.yellow(wi.cross),default:bi.cyan("?")});const Si=di;var Mi={action:(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}},clear:function(t,e){if(!e)return pi.line+fi.to(0);let i=0;const s=t.split(/\r?\n/);for(let t of s)i+=1+Math.floor(Math.max([...ci(t)].length-1,0)/e);return pi.lines(i)},style:{styles:yi,render:t=>yi[t]||yi.default,symbols:xi,symbol:(t,e,i)=>e?xi.aborted:i?xi.exited:t?xi.done:xi.default,delimiter:t=>bi.gray(t?wi.ellipsis:wi.pointerSmall),item:(t,e)=>bi.gray(t?e?wi.pointerSmall:"+":wi.line)},strip:di,figures:vi,lines:function(t,e){let i=String(Si(t)||"").split(/\r?\n/);return e?i.map((t=>Math.ceil(t.length/e))).reduce(((t,e)=>t+e)):i.length},wrap:(t,e={})=>{const i=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",s=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+i.length>=s||t[t.length-1].length+e.length+1<s?t[t.length-1]+=` ${e}`:t.push(`${i}${e}`),t)),[i]).join("\n"))).join("\n")},entriesToDisplay:(t,e,i)=>{i=i||e;let s=Math.min(e-i,t-Math.floor(i/2));return s<0&&(s=0),{startIndex:s,endIndex:Math.min(s+i,e)}}};const Oi=s.default,{action:Ti}=Mi,Pi=r.default,{beep:Ci,cursor:ki}=w,$i=g;var Di=class extends Pi{constructor(t={}){super(),this.firstRender=!0,this.in=t.stdin||process.stdin,this.out=t.stdout||process.stdout,this.onRender=(t.onRender||(()=>{})).bind(this);const e=Oi.createInterface({input:this.in,escapeCodeTimeout:50});Oi.emitKeypressEvents(this.in,e),this.in.isTTY&&this.in.setRawMode(!0);const i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,s=(t,e)=>{let s=Ti(e,i);!1===s?this._&&this._(t,e):"function"==typeof this[s]?this[s](e):this.bell()};this.close=()=>{this.out.write(ki.show),this.in.removeListener("keypress",s),this.in.isTTY&&this.in.setRawMode(!1),e.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",s)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(Ci)}render(){this.onRender($i),this.firstRender&&(this.firstRender=!1)}};const Ii=g,ji=Di,{erase:Ei,cursor:Ai}=w,{style:Ri,clear:_i,lines:Fi,figures:Vi}=Mi;var Yi=class extends ji{constructor(t={}){super(t),this.transform=Ri.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=_i("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=Ii.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error)return this.red=!0,this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let i=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.value=`${i}${t}${s}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Ai.down(Fi(this.outputError,this.out.columns)-1)+_i(this.outputError,this.out.columns)),this.out.write(_i(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Ri.symbol(this.done,this.aborted),Ii.bold(this.msg),Ri.delimiter(this.done),this.red?Ii.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":Vi.pointerSmall} ${Ii.red().italic(e)}`),"")),this.out.write(Ei.line+Ai.to(0)+this.outputText+Ai.save+this.outputError+Ai.restore+Ai.move(this.cursorOffset,0)))}};const Hi=g,Li=Di,{style:Ni,clear:Ui,figures:Ji,wrap:Bi,entriesToDisplay:qi}=Mi,{cursor:zi}=w;var Wi=class extends Li{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=Ui("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(zi.hide):this.out.write(Ui(this.outputText,this.out.columns)),super.render();let{startIndex:t,endIndex:e}=qi(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[Ni.symbol(this.done,this.aborted),Hi.bold(this.msg),Ni.delimiter(!1),this.done?this.selection.title:this.selection.disabled?Hi.yellow(this.warn):Hi.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let i=t;i<e;i++){let s,r,n="",o=this.choices[i];r=i===t&&t>0?Ji.arrowUp:i===e-1&&e<this.choices.length?Ji.arrowDown:" ",o.disabled?(s=this.cursor===i?Hi.gray().underline(o.title):Hi.strikethrough().gray(o.title),r=(this.cursor===i?Hi.bold().gray(Ji.pointer)+" ":"  ")+r):(s=this.cursor===i?Hi.cyan().underline(o.title):o.title,r=(this.cursor===i?Hi.cyan(Ji.pointer)+" ":"  ")+r,o.description&&this.cursor===i&&(n=` - ${o.description}`,(r.length+s.length+n.length>=this.out.columns||o.description.split(/\r?\n/).length>1)&&(n="\n"+Bi(o.description,{margin:3,width:this.out.columns})))),this.outputText+=`${r} ${s}${Hi.gray(n)}\n`}}this.out.write(this.outputText)}};const Gi=g,Zi=Di,{style:Ki,clear:Qi}=Mi,{cursor:Xi,erase:ts}=w;var es=class extends Zi{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(Xi.hide):this.out.write(Qi(this.outputText,this.out.columns)),super.render(),this.outputText=[Ki.symbol(this.done,this.aborted),Gi.bold(this.msg),Ki.delimiter(this.done),this.value?this.inactive:Gi.cyan().underline(this.inactive),Gi.gray("/"),this.value?Gi.cyan().underline(this.active):this.active].join(" "),this.out.write(ts.line+Xi.to(0)+this.outputText))}};class is{constructor({token:t,date:e,parts:i,locales:s}){this.token=t,this.date=e||new Date,this.parts=i||[this],this.locales=s||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find(((e,i)=>i>t&&e instanceof is))}setTo(t){}prev(){let t=[].concat(this.parts).reverse();const e=t.indexOf(this);return t.find(((t,i)=>i>e&&t instanceof is))}toString(){return String(this.date)}}var ss=is;const rs=ss;var ns=class extends rs{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}};const os=ss;var hs=class extends os{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(i=t,1==(i%=10)?"st":2===i?"nd":3===i?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var i}};const ls=ss;var as=class extends ls{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}};const us=ss;var ds=class extends us{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};const cs=ss;var ps=class extends cs{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}};const fs=ss;var gs=class extends fs{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}};const ms=ss;var vs=class extends ms{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}};const bs=ss;var ws={DatePart:ss,Meridiem:ns,Day:hs,Hours:as,Milliseconds:ds,Minutes:ps,Month:gs,Seconds:vs,Year:class extends bs{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}}};const ys=g,xs=Di,{style:Ss,clear:Ms,figures:Os}=Mi,{erase:Ts,cursor:Ps}=w,{DatePart:Cs,Meridiem:ks,Day:$s,Hours:Ds,Milliseconds:Is,Minutes:js,Month:Es,Seconds:As,Year:Rs}=ws,_s=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Fs={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new $s(t),3:t=>new Es(t),4:t=>new Rs(t),5:t=>new ks(t),6:t=>new Ds(t),7:t=>new js(t),8:t=>new As(t),9:t=>new Is(t)},Vs={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};var Ys=class extends xs{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(Vs,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=Ms("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=_s.exec(t);){let t=e.shift(),i=e.findIndex((t=>null!=t));this.parts.push(i in Fs?Fs[i]({token:e[i]||t,date:this.date,parts:this.parts,locales:this.locales}):e[i]||t)}let i=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof Cs))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof Cs))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(Ps.hide):this.out.write(Ms(this.outputText,this.out.columns)),super.render(),this.outputText=[Ss.symbol(this.done,this.aborted),ys.bold(this.msg),Ss.delimiter(!1),this.parts.reduce(((t,e,i)=>t.concat(i!==this.cursor||this.done?e:ys.cyan().underline(e.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":Os.pointerSmall} ${ys.red().italic(e)}`),"")),this.out.write(Ts.line+Ps.to(0)+this.outputText))}};const Hs=g,Ls=Di,{cursor:Ns,erase:Us}=w,{style:Js,figures:Bs,clear:qs,lines:zs}=Mi,Ws=/[0-9]/,Gs=t=>void 0!==t,Zs=(t,e)=>{let i=Math.pow(10,e);return Math.round(t*i)/i};var Ks=class extends Ls{constructor(t={}){super(t),this.transform=Js.render(t.style),this.msg=t.message,this.initial=Gs(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=Gs(t.min)?t.min:-1/0,this.max=Gs(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){t||0===t?(this.placeholder=!1,this.rendered=this.transform.render(`${Zs(t,this.round)}`),this._value=Zs(t,this.round)):(this.placeholder=!0,this.rendered=Hs.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||Ws.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();let t=this.value;this.value=""!==t?t:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=i,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Ns.down(zs(this.outputError,this.out.columns)-1)+qs(this.outputError,this.out.columns)),this.out.write(qs(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Js.symbol(this.done,this.aborted),Hs.bold(this.msg),Js.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:Hs[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":Bs.pointerSmall} ${Hs.red().italic(e)}`),"")),this.out.write(Us.line+Ns.to(0)+this.outputText+Ns.save+this.outputError+Ns.restore))}};const Qs=g,{cursor:Xs}=w,tr=Di,{clear:er,figures:ir,style:sr,wrap:rr,entriesToDisplay:nr}=Mi;var or=class extends tr{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=er("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${ir.arrowUp}/${ir.arrowDown}: Highlight option\n    ${ir.arrowLeft}/${ir.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(t,e,i,s){const r=(e.selected?Qs.green(ir.radioOn):ir.radioOff)+" "+s+" ";let n,o;return e.disabled?n=t===i?Qs.gray().underline(e.title):Qs.strikethrough().gray(e.title):(n=t===i?Qs.cyan().underline(e.title):e.title,t===i&&e.description&&(o=` - ${e.description}`,(r.length+n.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o="\n"+rr(e.description,{margin:r.length,width:this.out.columns})))),r+n+Qs.gray(o||"")}paginateOptions(t){if(0===t.length)return Qs.red("No matches for this query.");let e,{startIndex:i,endIndex:s}=nr(this.cursor,t.length,this.optionsPerPage),r=[];for(let n=i;n<s;n++)e=n===i&&i>0?ir.arrowUp:n===s-1&&s<t.length?ir.arrowDown:" ",r.push(this.renderOption(this.cursor,t[n],n,e));return"\n"+r.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const t=[Qs.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&t.push(Qs.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Xs.hide),super.render();let t=[sr.symbol(this.done,this.aborted),Qs.bold(this.msg),sr.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=Qs.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.value),this.out.write(this.clear+t),this.clear=er(t,this.out.columns)}};const hr=g,lr=Di,{erase:ar,cursor:ur}=w,{style:dr,clear:cr,figures:pr,wrap:fr,entriesToDisplay:gr}=Mi,mr=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),vr=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);var br=class extends lr{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const i=t.findIndex((t=>t.value===e||t.title===e));return i>-1?i:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=dr.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=cr("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=mr(this.suggestions,t):this.value=this.fallback.value,this.fire()}async complete(t){const e=this.completing=this.suggest(this.input,this.choices),i=await e;if(this.completing!==e)return;this.suggestions=i.map(((t,e,i)=>({title:vr(i,e),value:mr(i,e),description:t.description}))),this.completing=!1;const s=Math.max(i.length-1,0);this.moveSelect(Math.min(s,this.select)),t&&t()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let i=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor);this.input=`${i}${t}${s}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,e,i,s){let r,n=i?pr.arrowUp:s?pr.arrowDown:" ",o=e?hr.cyan().underline(t.title):t.title;return n=(e?hr.cyan(pr.pointer)+" ":"  ")+n,t.description&&(r=` - ${t.description}`,(n.length+o.length+r.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(r="\n"+fr(t.description,{margin:3,width:this.out.columns}))),n+" "+o+hr.gray(r||"")}render(){if(this.closed)return;this.firstRender?this.out.write(ur.hide):this.out.write(cr(this.outputText,this.out.columns)),super.render();let{startIndex:t,endIndex:e}=gr(this.select,this.choices.length,this.limit);if(this.outputText=[dr.symbol(this.done,this.aborted,this.exited),hr.bold(this.msg),dr.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const i=this.suggestions.slice(t,e).map(((i,s)=>this.renderOption(i,this.select===s+t,0===s&&t>0,s+t===e-1&&e<this.choices.length))).join("\n");this.outputText+="\n"+(i||hr.gray(this.fallback.title))}this.out.write(ar.line+ur.to(0)+this.outputText)}};const wr=g,{cursor:yr}=w,xr=or,{clear:Sr,style:Mr,figures:Or}=Mi;var Tr=class extends xr{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=Sr("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||(!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase())))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${Or.arrowUp}/${Or.arrowDown}: Highlight option\n    ${Or.arrowLeft}/${Or.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:wr.gray("Enter something to filter")}\n`}renderOption(t,e,i){let s;return s=e.disabled?t===i?wr.gray().underline(e.title):wr.strikethrough().gray(e.title):t===i?wr.cyan().underline(e.title):e.title,(e.selected?wr.green(Or.radioOn):Or.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const t=[wr.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&t.push(wr.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(yr.hide),super.render();let t=[Mr.symbol(this.done,this.aborted),wr.bold(this.msg),Mr.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=wr.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+t),this.clear=Sr(t,this.out.columns)}};const Pr=g,Cr=Di,{style:kr,clear:$r}=Mi,{erase:Dr,cursor:Ir}=w;var jr={TextPrompt:Yi,SelectPrompt:Wi,TogglePrompt:es,DatePrompt:Ys,NumberPrompt:Ks,MultiselectPrompt:or,AutocompletePrompt:br,AutocompleteMultiselectPrompt:Tr,ConfirmPrompt:class extends Cr{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(Ir.hide):this.out.write($r(this.outputText,this.out.columns)),super.render(),this.outputText=[kr.symbol(this.done,this.aborted),Pr.bold(this.msg),kr.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:Pr.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(Dr.line+Ir.to(0)+this.outputText))}}};!function(t){const e=ui,i=jr,s=t=>t;function r(t,e,r={}){return new Promise(((n,o)=>{const h=new i[t](e),l=r.onAbort||s,a=r.onSubmit||s,u=r.onExit||s;h.on("state",e.onState||s),h.on("submit",(t=>n(a(t)))),h.on("exit",(t=>n(u(t)))),h.on("abort",(t=>o(l(t))))}))}e.text=t=>r("TextPrompt",t),e.password=t=>(t.style="password",e.text(t)),e.invisible=t=>(t.style="invisible",e.text(t)),e.number=t=>r("NumberPrompt",t),e.date=t=>r("DatePrompt",t),e.confirm=t=>r("ConfirmPrompt",t),e.list=t=>{const e=t.separator||",";return r("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},e.toggle=t=>r("TogglePrompt",t),e.select=t=>r("SelectPrompt",t),e.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return r("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},e.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return r("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const n=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));e.autocomplete=t=>(t.suggest=t.suggest||n,t.choices=[].concat(t.choices||[]),r("AutocompletePrompt",t))}();const Er=ui,Ar=["suggest","format","onState","validate","onRender","type"],Rr=()=>{};async function _r(t=[],{onSubmit:e=Rr,onCancel:i=Rr}={}){const s={},r=_r._override||{};let n,o,h,l,a,u;t=[].concat(t);const d=async(t,e,i=!1)=>{if(i||!t.validate||!0===t.validate(e))return t.format?await t.format(e,s):e};for(o of t)if(({name:l,type:a}=o),"function"==typeof a&&(a=await a(n,{...s},o),o.type=a),a){for(let t in o){if(Ar.includes(t))continue;let e=o[t];o[t]="function"==typeof e?await e(n,{...s},u):e}if(u=o,"string"!=typeof o.message)throw new Error("prompt message is required");if(({name:l,type:a}=o),void 0===Er[a])throw new Error(`prompt type (${a}) is not defined`);if(void 0===r[o.name]||(n=await d(o,r[o.name]),void 0===n)){try{n=_r._injected?Fr(_r._injected,o.initial):await Er[a](o),s[l]=n=await d(o,n,!0),h=await e(o,n,s)}catch(t){h=!await i(o,s)}if(h)return s}else s[l]=n}return s}function Fr(t,e){const i=t.shift();if(i instanceof Error)throw i;return void 0===i?e:i}var Vr=Object.assign(_r,{prompt:_r,prompts:Er,inject:function(t){_r._injected=(_r._injected||[]).concat(t)},override:function(t){_r._override=Object.assign({},t)}});var Yr=function(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,i=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(i[e]>t[e])return!1;if(t[e]>i[e])return!0}return!1}("8.6.0")?ai:Vr,Hr=require("fs");!function(){o(this,void 0,void 0,(function(){var t,e,i,s,r,o,l,a,u;return h(this,(function(h){switch(h.label){case 0:return t=require("./shelljs"),e=require("../../package.json"),(i=e.version.split("."))[i.length-1]=Number(i[i.length-1])+1,i=i.join("."),s=[{type:"text",name:"version",message:"当前版本"+e.version,initial:i}],[4,Yr(s)];case 1:return r=h.sent().version,[4,Yr([{type:"text",name:"commit",message:"Input Your git commit log",initial:"Update: "+r},{name:"push",type:"confirm",message:"Can you push code?"}])];case 2:return o=h.sent(),l=o.commit,a=o.push,t.echo("rollup building......"),t.exec("rollup -c"),t.echo("write package.json start"),Hr.writeFileSync("./package.json",JSON.stringify(n(n({},e),{version:r}),null,4)),t.echo("write package.json success"),t.echo("write README.md start"),u=(u=Hr.readFileSync("./README.md").toString()).replace(/#\d+\.\d+\.\d+/,"#"+r),Hr.writeFileSync("./README.md",u),t.echo("write README.md success"),t.exec('git commit -a -m "'+l+'"'),t.exec("git tag -a "+r+' -m "'+r+'"'),a&&(t.exec("git push origin --follow-tags"),t.exec("git push gitlab --follow-tags")),[2]}}))}))}();
