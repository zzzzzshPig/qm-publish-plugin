"use strict";var t=require("readline"),e=require("events"),i=require("os"),r=require("fs"),s=require("path"),n=require("util"),o=require("assert");function h(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=h(t),l=h(e),u=h(i),c=h(r),d=h(s),p=h(n),f=h(o),g=function(){return(g=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};function m(t,e,i,r){return new(i||(i=Promise))((function(s,n){function o(t){try{a(r.next(t))}catch(t){n(t)}}function h(t){try{a(r.throw(t))}catch(t){n(t)}}function a(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,h)}a((r=r.apply(t,e||[])).next())}))}function v(t,e){var i,r,s,n,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return n={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function h(n){return function(h){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(s=2&n[0]?r.return:n[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,r=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==n[0]&&2!==n[0])){o=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){o.label=n[1];break}if(6===n[0]&&o.label<s[1]){o.label=s[1],s=n;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(n);break}s[2]&&o.ops.pop(),o.trys.pop();continue}n=e.call(t,o)}catch(t){n=[6,t],r=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,h])}}}var b={};const{FORCE_COLOR:y,NODE_DISABLE_COLORS:w,TERM:x}=process.env,S={enabled:!w&&"dumb"!==x&&"0"!==y,reset:k(0,0),bold:k(1,22),dim:k(2,22),italic:k(3,23),underline:k(4,24),inverse:k(7,27),hidden:k(8,28),strikethrough:k(9,29),black:k(30,39),red:k(31,39),green:k(32,39),yellow:k(33,39),blue:k(34,39),magenta:k(35,39),cyan:k(36,39),white:k(37,39),gray:k(90,39),grey:k(90,39),bgBlack:k(40,49),bgRed:k(41,49),bgGreen:k(42,49),bgYellow:k(43,49),bgBlue:k(44,49),bgMagenta:k(45,49),bgCyan:k(46,49),bgWhite:k(47,49)};function O(t,e){let i,r=0,s="",n="";for(;r<t.length;r++)i=t[r],s+=i.open,n+=i.close,e.includes(i.close)&&(e=e.replace(i.rgx,i.close+i.open));return s+e+n}function k(t,e){let i={open:`[${t}m`,close:`[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(e){return void 0!==this&&void 0!==this.has?(this.has.includes(t)||(this.has.push(t),this.keys.push(i)),void 0===e?this:S.enabled?O(this.keys,e+""):e+""):void 0===e?function(t,e){let i={has:t,keys:e};return i.reset=S.reset.bind(i),i.bold=S.bold.bind(i),i.dim=S.dim.bind(i),i.italic=S.italic.bind(i),i.underline=S.underline.bind(i),i.inverse=S.inverse.bind(i),i.hidden=S.hidden.bind(i),i.strikethrough=S.strikethrough.bind(i),i.black=S.black.bind(i),i.red=S.red.bind(i),i.green=S.green.bind(i),i.yellow=S.yellow.bind(i),i.blue=S.blue.bind(i),i.magenta=S.magenta.bind(i),i.cyan=S.cyan.bind(i),i.white=S.white.bind(i),i.gray=S.gray.bind(i),i.grey=S.grey.bind(i),i.bgBlack=S.bgBlack.bind(i),i.bgRed=S.bgRed.bind(i),i.bgGreen=S.bgGreen.bind(i),i.bgYellow=S.bgYellow.bind(i),i.bgBlue=S.bgBlue.bind(i),i.bgMagenta=S.bgMagenta.bind(i),i.bgCyan=S.bgCyan.bind(i),i.bgWhite=S.bgWhite.bind(i),i}([t],[i]):S.enabled?O([i],e+""):e+""}}var E=S,_=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),i=new RegExp(e,"g");return"string"==typeof t?t.replace(i,""):t};const M={to:(t,e)=>e?`[${e+1};${t+1}H`:`[${t+1}G`,move(t,e){let i="";return t<0?i+=`[${-t}D`:t>0&&(i+=`[${t}C`),e<0?i+=`[${-e}A`:e>0&&(i+=`[${e}B`),i},up:(t=1)=>`[${t}A`,down:(t=1)=>`[${t}B`,forward:(t=1)=>`[${t}C`,backward:(t=1)=>`[${t}D`,nextLine:(t=1)=>"[E".repeat(t),prevLine:(t=1)=>"[F".repeat(t),left:"[G",hide:"[?25l",show:"[?25h",save:"7",restore:"8"},j={screen:"[2J",up:(t=1)=>"[1J".repeat(t),down:(t=1)=>"[J".repeat(t),line:"[2K",lineEnd:"[K",lineStart:"[1K",lines(t){let e="";for(let i=0;i<t;i++)e+=this.line+(i<t-1?M.up():"");return t&&(e+=M.left),e}};var T={cursor:M,scroll:{up:(t=1)=>"[S".repeat(t),down:(t=1)=>"[T".repeat(t)},erase:j,beep:""};function A(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return C(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return C(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,s=function(){};return{s:s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,h=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){h=!0,n=t},f:function(){try{o||null==i.return||i.return()}finally{if(h)throw n}}}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}const P=_,I=T.erase,$=T.cursor;const D={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},R={arrowUp:D.arrowUp,arrowDown:D.arrowDown,arrowLeft:D.arrowLeft,arrowRight:D.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"};var L="win32"===process.platform?R:D;const F=E,N=L,V=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),Y=Object.freeze({aborted:F.red(N.cross),done:F.green(N.tick),exited:F.yellow(N.cross),default:F.cyan("?")});const H=_;var G={action:(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}},clear:function(t,e){if(!e)return I.line+$.to(0);let i=0;var r,s=A(t.split(/\r?\n/));try{for(s.s();!(r=s.n()).done;){let t=r.value;i+=1+Math.floor(Math.max([...P(t)].length-1,0)/e)}}catch(t){s.e(t)}finally{s.f()}return I.lines(i)},style:{styles:V,render:t=>V[t]||V.default,symbols:Y,symbol:(t,e,i)=>e?Y.aborted:i?Y.exited:t?Y.done:Y.default,delimiter:t=>F.gray(t?N.ellipsis:N.pointerSmall),item:(t,e)=>F.gray(t?e?N.pointerSmall:"+":N.line)},strip:_,figures:L,lines:function(t,e){let i=String(H(t)||"").split(/\r?\n/);return e?i.map((t=>Math.ceil(t.length/e))).reduce(((t,e)=>t+e)):i.length},wrap:(t,e={})=>{const i=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",r=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+i.length>=r||t[t.length-1].length+e.length+1<r?t[t.length-1]+=` ${e}`:t.push(`${i}${e}`),t)),[i]).join("\n"))).join("\n")},entriesToDisplay:(t,e,i)=>{i=i||e;let r=Math.min(e-i,t-Math.floor(i/2));return r<0&&(r=0),{startIndex:r,endIndex:Math.min(r+i,e)}}};const U=a.default,B=G.action,q=l.default,J=T.beep,z=T.cursor,Q=E;var W=class extends q{constructor(t={}){super(),this.firstRender=!0,this.in=t.stdin||process.stdin,this.out=t.stdout||process.stdout,this.onRender=(t.onRender||(()=>{})).bind(this);const e=U.createInterface({input:this.in,escapeCodeTimeout:50});U.emitKeypressEvents(this.in,e),this.in.isTTY&&this.in.setRawMode(!0);const i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,r=(t,e)=>{let r=B(e,i);!1===r?this._&&this._(t,e):"function"==typeof this[r]?this[r](e):this.bell()};this.close=()=>{this.out.write(z.show),this.in.removeListener("keypress",r),this.in.isTTY&&this.in.setRawMode(!1),e.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",r)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(J)}render(){this.onRender(Q),this.firstRender&&(this.firstRender=!1)}};function Z(t,e,i,r,s,n,o){try{var h=t[n](o),a=h.value}catch(t){return void i(t)}h.done?e(a):Promise.resolve(a).then(r,s)}function K(t){return function(){var e=this,i=arguments;return new Promise((function(r,s){var n=t.apply(e,i);function o(t){Z(n,r,s,o,h,"next",t)}function h(t){Z(n,r,s,o,h,"throw",t)}o(void 0)}))}}const X=E,tt=W,et=T.erase,it=T.cursor,rt=G.style,st=G.clear,nt=G.lines,ot=G.figures;var ht=class extends tt{constructor(t={}){super(t),this.transform=rt.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=st("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=X.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return K((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return K((function*(){if(t.value=t.value||t.initial,t.cursorOffset=0,t.cursor=t.rendered.length,yield t.validate(),t.error)return t.red=!0,t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let i=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor);this.value=`${i}${t}${r}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(it.down(nt(this.outputError,this.out.columns)-1)+st(this.outputError,this.out.columns)),this.out.write(st(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[rt.symbol(this.done,this.aborted),X.bold(this.msg),rt.delimiter(this.done),this.red?X.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":ot.pointerSmall} ${X.red().italic(e)}`),"")),this.out.write(et.line+it.to(0)+this.outputText+it.save+this.outputError+it.restore+it.move(this.cursorOffset,0)))}};const at=E,lt=W,ut=G.style,ct=G.clear,dt=G.figures,pt=G.wrap,ft=G.entriesToDisplay,gt=T.cursor;var mt=class extends lt{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=ct("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(gt.hide):this.out.write(ct(this.outputText,this.out.columns)),super.render();let t=ft(this.cursor,this.choices.length,this.optionsPerPage),e=t.startIndex,i=t.endIndex;if(this.outputText=[ut.symbol(this.done,this.aborted),at.bold(this.msg),ut.delimiter(!1),this.done?this.selection.title:this.selection.disabled?at.yellow(this.warn):at.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let t=e;t<i;t++){let r,s,n="",o=this.choices[t];s=t===e&&e>0?dt.arrowUp:t===i-1&&i<this.choices.length?dt.arrowDown:" ",o.disabled?(r=this.cursor===t?at.gray().underline(o.title):at.strikethrough().gray(o.title),s=(this.cursor===t?at.bold().gray(dt.pointer)+" ":"  ")+s):(r=this.cursor===t?at.cyan().underline(o.title):o.title,s=(this.cursor===t?at.cyan(dt.pointer)+" ":"  ")+s,o.description&&this.cursor===t&&(n=` - ${o.description}`,(s.length+r.length+n.length>=this.out.columns||o.description.split(/\r?\n/).length>1)&&(n="\n"+pt(o.description,{margin:3,width:this.out.columns})))),this.outputText+=`${s} ${r}${at.gray(n)}\n`}}this.out.write(this.outputText)}};const vt=E,bt=W,yt=G.style,wt=G.clear,xt=T.cursor,St=T.erase;var Ot=class extends bt{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(xt.hide):this.out.write(wt(this.outputText,this.out.columns)),super.render(),this.outputText=[yt.symbol(this.done,this.aborted),vt.bold(this.msg),yt.delimiter(this.done),this.value?this.inactive:vt.cyan().underline(this.inactive),vt.gray("/"),this.value?vt.cyan().underline(this.active):this.active].join(" "),this.out.write(St.line+xt.to(0)+this.outputText))}};class kt{constructor({token:t,date:e,parts:i,locales:r}){this.token=t,this.date=e||new Date,this.parts=i||[this],this.locales=r||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find(((e,i)=>i>t&&e instanceof kt))}setTo(t){}prev(){let t=[].concat(this.parts).reverse();const e=t.indexOf(this);return t.find(((t,i)=>i>e&&t instanceof kt))}toString(){return String(this.date)}}var Et=kt;const _t=Et;var Mt=class extends _t{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}};const jt=Et;var Tt=class extends jt{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(i=t,1==(i%=10)?"st":2===i?"nd":3===i?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var i}};const At=Et;var Ct=class extends At{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}};const Pt=Et;var It=class extends Pt{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};const $t=Et;var Dt=class extends $t{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}};const Rt=Et;var Lt=class extends Rt{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}};const Ft=Et;var Nt=class extends Ft{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}};const Vt=Et;var Yt={DatePart:Et,Meridiem:Mt,Day:Tt,Hours:Ct,Milliseconds:It,Minutes:Dt,Month:Lt,Seconds:Nt,Year:class extends Vt{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}}};function Ht(t,e,i,r,s,n,o){try{var h=t[n](o),a=h.value}catch(t){return void i(t)}h.done?e(a):Promise.resolve(a).then(r,s)}function Gt(t){return function(){var e=this,i=arguments;return new Promise((function(r,s){var n=t.apply(e,i);function o(t){Ht(n,r,s,o,h,"next",t)}function h(t){Ht(n,r,s,o,h,"throw",t)}o(void 0)}))}}const Ut=E,Bt=W,qt=G.style,Jt=G.clear,zt=G.figures,Qt=T.erase,Wt=T.cursor,Zt=Yt.DatePart,Kt=Yt.Meridiem,Xt=Yt.Day,te=Yt.Hours,ee=Yt.Milliseconds,ie=Yt.Minutes,re=Yt.Month,se=Yt.Seconds,ne=Yt.Year,oe=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,he={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new Xt(t),3:t=>new re(t),4:t=>new ne(t),5:t=>new Kt(t),6:t=>new te(t),7:t=>new ie(t),8:t=>new se(t),9:t=>new ee(t)},ae={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};var le=class extends Bt{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(ae,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=Jt("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=oe.exec(t);){let t=e.shift(),i=e.findIndex((t=>null!=t));this.parts.push(i in he?he[i]({token:e[i]||t,date:this.date,parts:this.parts,locales:this.locales}):e[i]||t)}let i=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof Zt))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return Gt((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return Gt((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof Zt))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(Wt.hide):this.out.write(Jt(this.outputText,this.out.columns)),super.render(),this.outputText=[qt.symbol(this.done,this.aborted),Ut.bold(this.msg),qt.delimiter(!1),this.parts.reduce(((t,e,i)=>t.concat(i!==this.cursor||this.done?e:Ut.cyan().underline(e.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":zt.pointerSmall} ${Ut.red().italic(e)}`),"")),this.out.write(Qt.line+Wt.to(0)+this.outputText))}};function ue(t,e,i,r,s,n,o){try{var h=t[n](o),a=h.value}catch(t){return void i(t)}h.done?e(a):Promise.resolve(a).then(r,s)}function ce(t){return function(){var e=this,i=arguments;return new Promise((function(r,s){var n=t.apply(e,i);function o(t){ue(n,r,s,o,h,"next",t)}function h(t){ue(n,r,s,o,h,"throw",t)}o(void 0)}))}}const de=E,pe=W,fe=T.cursor,ge=T.erase,me=G.style,ve=G.figures,be=G.clear,ye=G.lines,we=/[0-9]/,xe=t=>void 0!==t,Se=(t,e)=>{let i=Math.pow(10,e);return Math.round(t*i)/i};var Oe=class extends pe{constructor(t={}){super(t),this.transform=me.render(t.style),this.msg=t.message,this.initial=xe(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=xe(t.min)?t.min:-1/0,this.max=xe(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){t||0===t?(this.placeholder=!1,this.rendered=this.transform.render(`${Se(t,this.round)}`),this._value=Se(t,this.round)):(this.placeholder=!0,this.rendered=de.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||we.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return ce((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return ce((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();let e=t.value;t.value=""!==e?e:t.initial,t.done=!0,t.aborted=!1,t.error=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=i,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(fe.down(ye(this.outputError,this.out.columns)-1)+be(this.outputError,this.out.columns)),this.out.write(be(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[me.symbol(this.done,this.aborted),de.bold(this.msg),me.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:de[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":ve.pointerSmall} ${de.red().italic(e)}`),"")),this.out.write(ge.line+fe.to(0)+this.outputText+fe.save+this.outputError+fe.restore))}};const ke=E,Ee=T.cursor,_e=W,Me=G.clear,je=G.figures,Te=G.style,Ae=G.wrap,Ce=G.entriesToDisplay;var Pe=class extends _e{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=Me("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${je.arrowUp}/${je.arrowDown}: Highlight option\n    ${je.arrowLeft}/${je.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(t,e,i,r){const s=(e.selected?ke.green(je.radioOn):je.radioOff)+" "+r+" ";let n,o;return e.disabled?n=t===i?ke.gray().underline(e.title):ke.strikethrough().gray(e.title):(n=t===i?ke.cyan().underline(e.title):e.title,t===i&&e.description&&(o=` - ${e.description}`,(s.length+n.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o="\n"+Ae(e.description,{margin:s.length,width:this.out.columns})))),s+n+ke.gray(o||"")}paginateOptions(t){if(0===t.length)return ke.red("No matches for this query.");let e,i=Ce(this.cursor,t.length,this.optionsPerPage),r=i.startIndex,s=i.endIndex,n=[];for(let i=r;i<s;i++)e=i===r&&r>0?je.arrowUp:i===s-1&&s<t.length?je.arrowDown:" ",n.push(this.renderOption(this.cursor,t[i],i,e));return"\n"+n.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const t=[ke.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&t.push(ke.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Ee.hide),super.render();let t=[Te.symbol(this.done,this.aborted),ke.bold(this.msg),Te.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=ke.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.value),this.out.write(this.clear+t),this.clear=Me(t,this.out.columns)}};function Ie(t,e,i,r,s,n,o){try{var h=t[n](o),a=h.value}catch(t){return void i(t)}h.done?e(a):Promise.resolve(a).then(r,s)}const $e=E,De=W,Re=T.erase,Le=T.cursor,Fe=G.style,Ne=G.clear,Ve=G.figures,Ye=G.wrap,He=G.entriesToDisplay,Ge=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),Ue=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);var Be=class extends De{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const i=t.findIndex((t=>t.value===e||t.title===e));return i>-1?i:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=Fe.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=Ne("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=Ge(this.suggestions,t):this.value=this.fallback.value,this.fire()}complete(t){var e,i=this;return(e=function*(){const e=i.completing=i.suggest(i.input,i.choices),r=yield e;if(i.completing!==e)return;i.suggestions=r.map(((t,e,i)=>({title:Ue(i,e),value:Ge(i,e),description:t.description}))),i.completing=!1;const s=Math.max(r.length-1,0);i.moveSelect(Math.min(s,i.select)),t&&t()},function(){var t=this,i=arguments;return new Promise((function(r,s){var n=e.apply(t,i);function o(t){Ie(n,r,s,o,h,"next",t)}function h(t){Ie(n,r,s,o,h,"throw",t)}o(void 0)}))})()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let i=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor);this.input=`${i}${t}${r}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,e,i,r){let s,n=i?Ve.arrowUp:r?Ve.arrowDown:" ",o=e?$e.cyan().underline(t.title):t.title;return n=(e?$e.cyan(Ve.pointer)+" ":"  ")+n,t.description&&(s=` - ${t.description}`,(n.length+o.length+s.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(s="\n"+Ye(t.description,{margin:3,width:this.out.columns}))),n+" "+o+$e.gray(s||"")}render(){if(this.closed)return;this.firstRender?this.out.write(Le.hide):this.out.write(Ne(this.outputText,this.out.columns)),super.render();let t=He(this.select,this.choices.length,this.limit),e=t.startIndex,i=t.endIndex;if(this.outputText=[Fe.symbol(this.done,this.aborted,this.exited),$e.bold(this.msg),Fe.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const t=this.suggestions.slice(e,i).map(((t,r)=>this.renderOption(t,this.select===r+e,0===r&&e>0,r+e===i-1&&i<this.choices.length))).join("\n");this.outputText+="\n"+(t||$e.gray(this.fallback.title))}this.out.write(Re.line+Le.to(0)+this.outputText)}};const qe=E,Je=T.cursor,ze=Pe,Qe=G.clear,We=G.style,Ze=G.figures;var Ke=class extends ze{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=Qe("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||(!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase())))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${Ze.arrowUp}/${Ze.arrowDown}: Highlight option\n    ${Ze.arrowLeft}/${Ze.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:qe.gray("Enter something to filter")}\n`}renderOption(t,e,i){let r;return r=e.disabled?t===i?qe.gray().underline(e.title):qe.strikethrough().gray(e.title):t===i?qe.cyan().underline(e.title):e.title,(e.selected?qe.green(Ze.radioOn):Ze.radioOff)+"  "+r}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const t=[qe.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&t.push(qe.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Je.hide),super.render();let t=[We.symbol(this.done,this.aborted),qe.bold(this.msg),We.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=qe.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+t),this.clear=Qe(t,this.out.columns)}};const Xe=E,ti=W,ei=G.style,ii=G.clear,ri=T.erase,si=T.cursor;var ni={TextPrompt:ht,SelectPrompt:mt,TogglePrompt:Ot,DatePrompt:le,NumberPrompt:Oe,MultiselectPrompt:Pe,AutocompletePrompt:Be,AutocompleteMultiselectPrompt:Ke,ConfirmPrompt:class extends ti{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(si.hide):this.out.write(ii(this.outputText,this.out.columns)),super.render(),this.outputText=[ei.symbol(this.done,this.aborted),Xe.bold(this.msg),ei.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:Xe.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(ri.line+si.to(0)+this.outputText))}}};function oi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function hi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?oi(Object(i),!0).forEach((function(e){ai(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):oi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function ai(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function li(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return ui(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ui(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,s=function(){};return{s:s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,h=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){h=!0,n=t},f:function(){try{o||null==i.return||i.return()}finally{if(h)throw n}}}}function ui(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function ci(t,e,i,r,s,n,o){try{var h=t[n](o),a=h.value}catch(t){return void i(t)}h.done?e(a):Promise.resolve(a).then(r,s)}function di(t){return function(){var e=this,i=arguments;return new Promise((function(r,s){var n=t.apply(e,i);function o(t){ci(n,r,s,o,h,"next",t)}function h(t){ci(n,r,s,o,h,"throw",t)}o(void 0)}))}}!function(t){const e=b,i=ni,r=t=>t;function s(t,e,s={}){return new Promise(((n,o)=>{const h=new i[t](e),a=s.onAbort||r,l=s.onSubmit||r,u=s.onExit||r;h.on("state",e.onState||r),h.on("submit",(t=>n(l(t)))),h.on("exit",(t=>n(u(t)))),h.on("abort",(t=>o(a(t))))}))}e.text=t=>s("TextPrompt",t),e.password=t=>(t.style="password",e.text(t)),e.invisible=t=>(t.style="invisible",e.text(t)),e.number=t=>s("NumberPrompt",t),e.date=t=>s("DatePrompt",t),e.confirm=t=>s("ConfirmPrompt",t),e.list=t=>{const e=t.separator||",";return s("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},e.toggle=t=>s("TogglePrompt",t),e.select=t=>s("SelectPrompt",t),e.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return s("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},e.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return s("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const n=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));e.autocomplete=t=>(t.suggest=t.suggest||n,t.choices=[].concat(t.choices||[]),s("AutocompletePrompt",t))}();const pi=b,fi=["suggest","format","onState","validate","onRender","type"],gi=()=>{};function mi(){return vi.apply(this,arguments)}function vi(){return(vi=di((function*(t=[],{onSubmit:e=gi,onCancel:i=gi}={}){const r={},s=mi._override||{};let n,o,h,a,l,u;t=[].concat(t);const c=function(){var t=di((function*(t,e,i=!1){if(i||!t.validate||!0===t.validate(e))return t.format?yield t.format(e,r):e}));return function(e,i){return t.apply(this,arguments)}}();var d,p=li(t);try{for(p.s();!(d=p.n()).done;){o=d.value;var f=o;if(a=f.name,l=f.type,"function"==typeof l&&(l=yield l(n,hi({},r),o),o.type=l),l){for(let t in o){if(fi.includes(t))continue;let e=o[t];o[t]="function"==typeof e?yield e(n,hi({},r),u):e}if(u=o,"string"!=typeof o.message)throw new Error("prompt message is required");var g=o;if(a=g.name,l=g.type,void 0===pi[l])throw new Error(`prompt type (${l}) is not defined`);if(void 0===s[o.name]||(n=yield c(o,s[o.name]),void 0===n)){try{n=mi._injected?bi(mi._injected,o.initial):yield pi[l](o),r[a]=n=yield c(o,n,!0),h=yield e(o,n,r)}catch(t){h=!(yield i(o,r))}if(h)return r}else r[a]=n}}}catch(t){p.e(t)}finally{p.f()}return r}))).apply(this,arguments)}function bi(t,e){const i=t.shift();if(i instanceof Error)throw i;return void 0===i?e:i}var yi=Object.assign(mi,{prompt:mi,prompts:pi,inject:function(t){mi._injected=(mi._injected||[]).concat(t)},override:function(t){mi._override=Object.assign({},t)}}),wi={},xi=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),i=new RegExp(e,"g");return"string"==typeof t?t.replace(i,""):t};const Si=xi,{erase:Oi,cursor:ki}=T;const Ei={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},_i={arrowUp:Ei.arrowUp,arrowDown:Ei.arrowDown,arrowLeft:Ei.arrowLeft,arrowRight:Ei.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"};var Mi="win32"===process.platform?_i:Ei;const ji=E,Ti=Mi,Ai=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),Ci=Object.freeze({aborted:ji.red(Ti.cross),done:ji.green(Ti.tick),exited:ji.yellow(Ti.cross),default:ji.cyan("?")});const Pi=xi;var Ii={action:(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}},clear:function(t,e){if(!e)return Oi.line+ki.to(0);let i=0;const r=t.split(/\r?\n/);for(let t of r)i+=1+Math.floor(Math.max([...Si(t)].length-1,0)/e);return Oi.lines(i)},style:{styles:Ai,render:t=>Ai[t]||Ai.default,symbols:Ci,symbol:(t,e,i)=>e?Ci.aborted:i?Ci.exited:t?Ci.done:Ci.default,delimiter:t=>ji.gray(t?Ti.ellipsis:Ti.pointerSmall),item:(t,e)=>ji.gray(t?e?Ti.pointerSmall:"+":Ti.line)},strip:xi,figures:Mi,lines:function(t,e){let i=String(Pi(t)||"").split(/\r?\n/);return e?i.map((t=>Math.ceil(t.length/e))).reduce(((t,e)=>t+e)):i.length},wrap:(t,e={})=>{const i=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",r=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+i.length>=r||t[t.length-1].length+e.length+1<r?t[t.length-1]+=` ${e}`:t.push(`${i}${e}`),t)),[i]).join("\n"))).join("\n")},entriesToDisplay:(t,e,i)=>{i=i||e;let r=Math.min(e-i,t-Math.floor(i/2));return r<0&&(r=0),{startIndex:r,endIndex:Math.min(r+i,e)}}};const $i=a.default,{action:Di}=Ii,Ri=l.default,{beep:Li,cursor:Fi}=T,Ni=E;var Vi=class extends Ri{constructor(t={}){super(),this.firstRender=!0,this.in=t.stdin||process.stdin,this.out=t.stdout||process.stdout,this.onRender=(t.onRender||(()=>{})).bind(this);const e=$i.createInterface({input:this.in,escapeCodeTimeout:50});$i.emitKeypressEvents(this.in,e),this.in.isTTY&&this.in.setRawMode(!0);const i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,r=(t,e)=>{let r=Di(e,i);!1===r?this._&&this._(t,e):"function"==typeof this[r]?this[r](e):this.bell()};this.close=()=>{this.out.write(Fi.show),this.in.removeListener("keypress",r),this.in.isTTY&&this.in.setRawMode(!1),e.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",r)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(Li)}render(){this.onRender(Ni),this.firstRender&&(this.firstRender=!1)}};const Yi=E,Hi=Vi,{erase:Gi,cursor:Ui}=T,{style:Bi,clear:qi,lines:Ji,figures:zi}=Ii;var Qi=class extends Hi{constructor(t={}){super(t),this.transform=Bi.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=qi("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=Yi.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error)return this.red=!0,this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let i=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor);this.value=`${i}${t}${r}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Ui.down(Ji(this.outputError,this.out.columns)-1)+qi(this.outputError,this.out.columns)),this.out.write(qi(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Bi.symbol(this.done,this.aborted),Yi.bold(this.msg),Bi.delimiter(this.done),this.red?Yi.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":zi.pointerSmall} ${Yi.red().italic(e)}`),"")),this.out.write(Gi.line+Ui.to(0)+this.outputText+Ui.save+this.outputError+Ui.restore+Ui.move(this.cursorOffset,0)))}};const Wi=E,Zi=Vi,{style:Ki,clear:Xi,figures:tr,wrap:er,entriesToDisplay:ir}=Ii,{cursor:rr}=T;var sr=class extends Zi{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=Xi("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(rr.hide):this.out.write(Xi(this.outputText,this.out.columns)),super.render();let{startIndex:t,endIndex:e}=ir(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[Ki.symbol(this.done,this.aborted),Wi.bold(this.msg),Ki.delimiter(!1),this.done?this.selection.title:this.selection.disabled?Wi.yellow(this.warn):Wi.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let i=t;i<e;i++){let r,s,n="",o=this.choices[i];s=i===t&&t>0?tr.arrowUp:i===e-1&&e<this.choices.length?tr.arrowDown:" ",o.disabled?(r=this.cursor===i?Wi.gray().underline(o.title):Wi.strikethrough().gray(o.title),s=(this.cursor===i?Wi.bold().gray(tr.pointer)+" ":"  ")+s):(r=this.cursor===i?Wi.cyan().underline(o.title):o.title,s=(this.cursor===i?Wi.cyan(tr.pointer)+" ":"  ")+s,o.description&&this.cursor===i&&(n=` - ${o.description}`,(s.length+r.length+n.length>=this.out.columns||o.description.split(/\r?\n/).length>1)&&(n="\n"+er(o.description,{margin:3,width:this.out.columns})))),this.outputText+=`${s} ${r}${Wi.gray(n)}\n`}}this.out.write(this.outputText)}};const nr=E,or=Vi,{style:hr,clear:ar}=Ii,{cursor:lr,erase:ur}=T;var cr=class extends or{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(lr.hide):this.out.write(ar(this.outputText,this.out.columns)),super.render(),this.outputText=[hr.symbol(this.done,this.aborted),nr.bold(this.msg),hr.delimiter(this.done),this.value?this.inactive:nr.cyan().underline(this.inactive),nr.gray("/"),this.value?nr.cyan().underline(this.active):this.active].join(" "),this.out.write(ur.line+lr.to(0)+this.outputText))}};class dr{constructor({token:t,date:e,parts:i,locales:r}){this.token=t,this.date=e||new Date,this.parts=i||[this],this.locales=r||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find(((e,i)=>i>t&&e instanceof dr))}setTo(t){}prev(){let t=[].concat(this.parts).reverse();const e=t.indexOf(this);return t.find(((t,i)=>i>e&&t instanceof dr))}toString(){return String(this.date)}}var pr=dr;const fr=pr;var gr=class extends fr{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}};const mr=pr;var vr=class extends mr{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(i=t,1==(i%=10)?"st":2===i?"nd":3===i?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var i}};const br=pr;var yr=class extends br{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}};const wr=pr;var xr=class extends wr{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};const Sr=pr;var Or=class extends Sr{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}};const kr=pr;var Er=class extends kr{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}};const _r=pr;var Mr=class extends _r{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}};const jr=pr;var Tr={DatePart:pr,Meridiem:gr,Day:vr,Hours:yr,Milliseconds:xr,Minutes:Or,Month:Er,Seconds:Mr,Year:class extends jr{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}}};const Ar=E,Cr=Vi,{style:Pr,clear:Ir,figures:$r}=Ii,{erase:Dr,cursor:Rr}=T,{DatePart:Lr,Meridiem:Fr,Day:Nr,Hours:Vr,Milliseconds:Yr,Minutes:Hr,Month:Gr,Seconds:Ur,Year:Br}=Tr,qr=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Jr={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new Nr(t),3:t=>new Gr(t),4:t=>new Br(t),5:t=>new Fr(t),6:t=>new Vr(t),7:t=>new Hr(t),8:t=>new Ur(t),9:t=>new Yr(t)},zr={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};var Qr=class extends Cr{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(zr,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=Ir("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=qr.exec(t);){let t=e.shift(),i=e.findIndex((t=>null!=t));this.parts.push(i in Jr?Jr[i]({token:e[i]||t,date:this.date,parts:this.parts,locales:this.locales}):e[i]||t)}let i=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof Lr))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof Lr))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(Rr.hide):this.out.write(Ir(this.outputText,this.out.columns)),super.render(),this.outputText=[Pr.symbol(this.done,this.aborted),Ar.bold(this.msg),Pr.delimiter(!1),this.parts.reduce(((t,e,i)=>t.concat(i!==this.cursor||this.done?e:Ar.cyan().underline(e.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":$r.pointerSmall} ${Ar.red().italic(e)}`),"")),this.out.write(Dr.line+Rr.to(0)+this.outputText))}};const Wr=E,Zr=Vi,{cursor:Kr,erase:Xr}=T,{style:ts,figures:es,clear:is,lines:rs}=Ii,ss=/[0-9]/,ns=t=>void 0!==t,os=(t,e)=>{let i=Math.pow(10,e);return Math.round(t*i)/i};var hs=class extends Zr{constructor(t={}){super(t),this.transform=ts.render(t.style),this.msg=t.message,this.initial=ns(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=ns(t.min)?t.min:-1/0,this.max=ns(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){t||0===t?(this.placeholder=!1,this.rendered=this.transform.render(`${os(t,this.round)}`),this._value=os(t,this.round)):(this.placeholder=!0,this.rendered=Wr.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||ss.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();let t=this.value;this.value=""!==t?t:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=i,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Kr.down(rs(this.outputError,this.out.columns)-1)+is(this.outputError,this.out.columns)),this.out.write(is(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[ts.symbol(this.done,this.aborted),Wr.bold(this.msg),ts.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:Wr[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":es.pointerSmall} ${Wr.red().italic(e)}`),"")),this.out.write(Xr.line+Kr.to(0)+this.outputText+Kr.save+this.outputError+Kr.restore))}};const as=E,{cursor:ls}=T,us=Vi,{clear:cs,figures:ds,style:ps,wrap:fs,entriesToDisplay:gs}=Ii;var ms=class extends us{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=cs("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${ds.arrowUp}/${ds.arrowDown}: Highlight option\n    ${ds.arrowLeft}/${ds.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(t,e,i,r){const s=(e.selected?as.green(ds.radioOn):ds.radioOff)+" "+r+" ";let n,o;return e.disabled?n=t===i?as.gray().underline(e.title):as.strikethrough().gray(e.title):(n=t===i?as.cyan().underline(e.title):e.title,t===i&&e.description&&(o=` - ${e.description}`,(s.length+n.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o="\n"+fs(e.description,{margin:s.length,width:this.out.columns})))),s+n+as.gray(o||"")}paginateOptions(t){if(0===t.length)return as.red("No matches for this query.");let e,{startIndex:i,endIndex:r}=gs(this.cursor,t.length,this.optionsPerPage),s=[];for(let n=i;n<r;n++)e=n===i&&i>0?ds.arrowUp:n===r-1&&r<t.length?ds.arrowDown:" ",s.push(this.renderOption(this.cursor,t[n],n,e));return"\n"+s.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const t=[as.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&t.push(as.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(ls.hide),super.render();let t=[ps.symbol(this.done,this.aborted),as.bold(this.msg),ps.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=as.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.value),this.out.write(this.clear+t),this.clear=cs(t,this.out.columns)}};const vs=E,bs=Vi,{erase:ys,cursor:ws}=T,{style:xs,clear:Ss,figures:Os,wrap:ks,entriesToDisplay:Es}=Ii,_s=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),Ms=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);var js=class extends bs{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const i=t.findIndex((t=>t.value===e||t.title===e));return i>-1?i:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=xs.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=Ss("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=_s(this.suggestions,t):this.value=this.fallback.value,this.fire()}async complete(t){const e=this.completing=this.suggest(this.input,this.choices),i=await e;if(this.completing!==e)return;this.suggestions=i.map(((t,e,i)=>({title:Ms(i,e),value:_s(i,e),description:t.description}))),this.completing=!1;const r=Math.max(i.length-1,0);this.moveSelect(Math.min(r,this.select)),t&&t()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let i=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor);this.input=`${i}${t}${r}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,e,i,r){let s,n=i?Os.arrowUp:r?Os.arrowDown:" ",o=e?vs.cyan().underline(t.title):t.title;return n=(e?vs.cyan(Os.pointer)+" ":"  ")+n,t.description&&(s=` - ${t.description}`,(n.length+o.length+s.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(s="\n"+ks(t.description,{margin:3,width:this.out.columns}))),n+" "+o+vs.gray(s||"")}render(){if(this.closed)return;this.firstRender?this.out.write(ws.hide):this.out.write(Ss(this.outputText,this.out.columns)),super.render();let{startIndex:t,endIndex:e}=Es(this.select,this.choices.length,this.limit);if(this.outputText=[xs.symbol(this.done,this.aborted,this.exited),vs.bold(this.msg),xs.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const i=this.suggestions.slice(t,e).map(((i,r)=>this.renderOption(i,this.select===r+t,0===r&&t>0,r+t===e-1&&e<this.choices.length))).join("\n");this.outputText+="\n"+(i||vs.gray(this.fallback.title))}this.out.write(ys.line+ws.to(0)+this.outputText)}};const Ts=E,{cursor:As}=T,Cs=ms,{clear:Ps,style:Is,figures:$s}=Ii;var Ds=class extends Cs{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=Ps("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||(!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase())))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${$s.arrowUp}/${$s.arrowDown}: Highlight option\n    ${$s.arrowLeft}/${$s.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:Ts.gray("Enter something to filter")}\n`}renderOption(t,e,i){let r;return r=e.disabled?t===i?Ts.gray().underline(e.title):Ts.strikethrough().gray(e.title):t===i?Ts.cyan().underline(e.title):e.title,(e.selected?Ts.green($s.radioOn):$s.radioOff)+"  "+r}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const t=[Ts.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&t.push(Ts.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(As.hide),super.render();let t=[Is.symbol(this.done,this.aborted),Ts.bold(this.msg),Is.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=Ts.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+t),this.clear=Ps(t,this.out.columns)}};const Rs=E,Ls=Vi,{style:Fs,clear:Ns}=Ii,{erase:Vs,cursor:Ys}=T;var Hs={TextPrompt:Qi,SelectPrompt:sr,TogglePrompt:cr,DatePrompt:Qr,NumberPrompt:hs,MultiselectPrompt:ms,AutocompletePrompt:js,AutocompleteMultiselectPrompt:Ds,ConfirmPrompt:class extends Ls{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(Ys.hide):this.out.write(Ns(this.outputText,this.out.columns)),super.render(),this.outputText=[Fs.symbol(this.done,this.aborted),Rs.bold(this.msg),Fs.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:Rs.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(Vs.line+Ys.to(0)+this.outputText))}}};!function(t){const e=wi,i=Hs,r=t=>t;function s(t,e,s={}){return new Promise(((n,o)=>{const h=new i[t](e),a=s.onAbort||r,l=s.onSubmit||r,u=s.onExit||r;h.on("state",e.onState||r),h.on("submit",(t=>n(l(t)))),h.on("exit",(t=>n(u(t)))),h.on("abort",(t=>o(a(t))))}))}e.text=t=>s("TextPrompt",t),e.password=t=>(t.style="password",e.text(t)),e.invisible=t=>(t.style="invisible",e.text(t)),e.number=t=>s("NumberPrompt",t),e.date=t=>s("DatePrompt",t),e.confirm=t=>s("ConfirmPrompt",t),e.list=t=>{const e=t.separator||",";return s("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},e.toggle=t=>s("TogglePrompt",t),e.select=t=>s("SelectPrompt",t),e.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return s("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},e.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return s("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const n=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));e.autocomplete=t=>(t.suggest=t.suggest||n,t.choices=[].concat(t.choices||[]),s("AutocompletePrompt",t))}();const Gs=wi,Us=["suggest","format","onState","validate","onRender","type"],Bs=()=>{};async function qs(t=[],{onSubmit:e=Bs,onCancel:i=Bs}={}){const r={},s=qs._override||{};let n,o,h,a,l,u;t=[].concat(t);const c=async(t,e,i=!1)=>{if(i||!t.validate||!0===t.validate(e))return t.format?await t.format(e,r):e};for(o of t)if(({name:a,type:l}=o),"function"==typeof l&&(l=await l(n,{...r},o),o.type=l),l){for(let t in o){if(Us.includes(t))continue;let e=o[t];o[t]="function"==typeof e?await e(n,{...r},u):e}if(u=o,"string"!=typeof o.message)throw new Error("prompt message is required");if(({name:a,type:l}=o),void 0===Gs[l])throw new Error(`prompt type (${l}) is not defined`);if(void 0===s[o.name]||(n=await c(o,s[o.name]),void 0===n)){try{n=qs._injected?Js(qs._injected,o.initial):await Gs[l](o),r[a]=n=await c(o,n,!0),h=await e(o,n,r)}catch(t){h=!await i(o,r)}if(h)return r}else r[a]=n}return r}function Js(t,e){const i=t.shift();if(i instanceof Error)throw i;return void 0===i?e:i}var zs=Object.assign(qs,{prompt:qs,prompts:Gs,inject:function(t){qs._injected=(qs._injected||[]).concat(t)},override:function(t){qs._override=Object.assign({},t)}});var Qs=function(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,i=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(i[e]>t[e])return!1;if(t[e]>i[e])return!0}return!1}("8.6.0")?yi:zs,Ws={},Zs={},Ks={},Xs=d.default,tn="win32"===process.platform,en=c.default,rn=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function sn(t){return"function"==typeof t?t:function(){var t;if(rn){var e=new Error;t=function(t){t&&(e.message=t.message,i(t=e))}}else t=i;return t;function i(t){if(t){if(process.throwDeprecation)throw t;if(!process.noDeprecation){var e="fs: missing callback "+(t.stack||t.message);process.traceDeprecation?console.trace(e):console.error(e)}}}}()}if(Xs.normalize,tn)var nn=/(.*?)(?:[\/\\]+|$)/g;else nn=/(.*?)(?:[\/]+|$)/g;if(tn)var on=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else on=/^[\/]*/;Ks.realpathSync=function(t,e){if(t=Xs.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return e[t];var i,r,s,n,o=t,h={},a={};function l(){var e=on.exec(t);i=e[0].length,r=e[0],s=e[0],n="",tn&&!a[s]&&(en.lstatSync(s),a[s]=!0)}for(l();i<t.length;){nn.lastIndex=i;var u=nn.exec(t);if(n=r,r+=u[0],s=n+u[1],i=nn.lastIndex,!(a[s]||e&&e[s]===s)){var c;if(e&&Object.prototype.hasOwnProperty.call(e,s))c=e[s];else{var d=en.lstatSync(s);if(!d.isSymbolicLink()){a[s]=!0,e&&(e[s]=s);continue}var p=null;if(!tn){var f=d.dev.toString(32)+":"+d.ino.toString(32);h.hasOwnProperty(f)&&(p=h[f])}null===p&&(en.statSync(s),p=en.readlinkSync(s)),c=Xs.resolve(n,p),e&&(e[s]=c),tn||(h[f]=p)}t=Xs.resolve(c,t.slice(i)),l()}}return e&&(e[o]=t),t},Ks.realpath=function(t,e,i){if("function"!=typeof i&&(i=sn(e),e=null),t=Xs.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return process.nextTick(i.bind(null,null,e[t]));var r,s,n,o,h=t,a={},l={};function u(){var e=on.exec(t);r=e[0].length,s=e[0],n=e[0],o="",tn&&!l[n]?en.lstat(n,(function(t){if(t)return i(t);l[n]=!0,c()})):process.nextTick(c)}function c(){if(r>=t.length)return e&&(e[h]=t),i(null,t);nn.lastIndex=r;var a=nn.exec(t);return o=s,s+=a[0],n=o+a[1],r=nn.lastIndex,l[n]||e&&e[n]===n?process.nextTick(c):e&&Object.prototype.hasOwnProperty.call(e,n)?f(e[n]):en.lstat(n,d)}function d(t,r){if(t)return i(t);if(!r.isSymbolicLink())return l[n]=!0,e&&(e[n]=n),process.nextTick(c);if(!tn){var s=r.dev.toString(32)+":"+r.ino.toString(32);if(a.hasOwnProperty(s))return p(null,a[s],n)}en.stat(n,(function(t){if(t)return i(t);en.readlink(n,(function(t,e){tn||(a[s]=e),p(t,e)}))}))}function p(t,r,s){if(t)return i(t);var n=Xs.resolve(o,r);e&&(e[s]=n),f(n)}function f(e){t=Xs.resolve(e,t.slice(r)),u()}u()};var hn=gn;gn.realpath=gn,gn.sync=mn,gn.realpathSync=mn,gn.monkeypatch=function(){an.realpath=gn,an.realpathSync=mn},gn.unmonkeypatch=function(){an.realpath=ln,an.realpathSync=un};var an=c.default,ln=an.realpath,un=an.realpathSync,cn=process.version,dn=/^v[0-5]\./.test(cn),pn=Ks;function fn(t){return t&&"realpath"===t.syscall&&("ELOOP"===t.code||"ENOMEM"===t.code||"ENAMETOOLONG"===t.code)}function gn(t,e,i){if(dn)return ln(t,e,i);"function"==typeof e&&(i=e,e=null),ln(t,e,(function(r,s){fn(r)?pn.realpath(t,e,i):i(r,s)}))}function mn(t,e){if(dn)return un(t,e);try{return un(t,e)}catch(i){if(fn(i))return pn.realpathSync(t,e);throw i}}var vn=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},bn=yn;function yn(t,e,i){t instanceof RegExp&&(t=wn(t,i)),e instanceof RegExp&&(e=wn(e,i));var r=xn(t,e,i);return r&&{start:r[0],end:r[1],pre:i.slice(0,r[0]),body:i.slice(r[0]+t.length,r[1]),post:i.slice(r[1]+e.length)}}function wn(t,e){var i=e.match(t);return i?i[0]:null}function xn(t,e,i){var r,s,n,o,h,a=i.indexOf(t),l=i.indexOf(e,a+1),u=a;if(a>=0&&l>0){for(r=[],n=i.length;u>=0&&!h;)u==a?(r.push(u),a=i.indexOf(t,u+1)):1==r.length?h=[r.pop(),l]:((s=r.pop())<n&&(n=s,o=l),l=i.indexOf(e,u+1)),u=a<l&&a>=0?a:l;r.length&&(h=[n,o])}return h}yn.range=xn;var Sn=function(t,e){for(var i=[],r=0;r<t.length;r++){var s=e(t[r],r);vn(s)?i.push.apply(i,s):i.push(s)}return i},On=bn,kn=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return Ln(function(t){return t.split("\\\\").join(En).split("\\{").join(_n).split("\\}").join(Mn).split("\\,").join(jn).split("\\.").join(Tn)}(t),!0).map(Cn)},En="\0SLASH"+Math.random()+"\0",_n="\0OPEN"+Math.random()+"\0",Mn="\0CLOSE"+Math.random()+"\0",jn="\0COMMA"+Math.random()+"\0",Tn="\0PERIOD"+Math.random()+"\0";function An(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Cn(t){return t.split(En).join("\\").split(_n).join("{").split(Mn).join("}").split(jn).join(",").split(Tn).join(".")}function Pn(t){if(!t)return[""];var e=[],i=On("{","}",t);if(!i)return t.split(",");var r=i.pre,s=i.body,n=i.post,o=r.split(",");o[o.length-1]+="{"+s+"}";var h=Pn(n);return n.length&&(o[o.length-1]+=h.shift(),o.push.apply(o,h)),e.push.apply(e,o),e}function In(t){return"{"+t+"}"}function $n(t){return/^-?0\d/.test(t)}function Dn(t,e){return t<=e}function Rn(t,e){return t>=e}function Ln(t,e){var i=[],r=On("{","}",t);if(!r||/\$$/.test(r.pre))return[t];var s,n=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),h=n||o,a=r.body.indexOf(",")>=0;if(!h&&!a)return r.post.match(/,.*\}/)?Ln(t=r.pre+"{"+r.body+Mn+r.post):[t];if(h)s=r.body.split(/\.\./);else if(1===(s=Pn(r.body)).length&&1===(s=Ln(s[0],!1).map(In)).length)return(c=r.post.length?Ln(r.post,!1):[""]).map((function(t){return r.pre+s[0]+t}));var l,u=r.pre,c=r.post.length?Ln(r.post,!1):[""];if(h){var d=An(s[0]),p=An(s[1]),f=Math.max(s[0].length,s[1].length),g=3==s.length?Math.abs(An(s[2])):1,m=Dn;p<d&&(g*=-1,m=Rn);var v=s.some($n);l=[];for(var b=d;m(b,p);b+=g){var y;if(o)"\\"===(y=String.fromCharCode(b))&&(y="");else if(y=String(b),v){var w=f-y.length;if(w>0){var x=new Array(w+1).join("0");y=b<0?"-"+x+y.slice(1):x+y}}l.push(y)}}else l=Sn(s,(function(t){return Ln(t,!1)}));for(var S=0;S<l.length;S++)for(var O=0;O<c.length;O++){var k=u+l[S]+c[O];(!e||h||k)&&i.push(k)}return i}var Fn=qn;qn.Minimatch=Jn;var Nn={sep:"/"};try{Nn=d.default}catch(t){}var Vn=qn.GLOBSTAR=Jn.GLOBSTAR={},Yn=kn,Hn={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Gn="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{});var Un=/\/+/;function Bn(t,e){t=t||{},e=e||{};var i={};return Object.keys(e).forEach((function(t){i[t]=e[t]})),Object.keys(t).forEach((function(e){i[e]=t[e]})),i}function qn(t,e,i){if("string"!=typeof e)throw new TypeError("glob pattern string required");return i||(i={}),!(!i.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new Jn(e,i).match(t))}function Jn(t,e){if(!(this instanceof Jn))return new Jn(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==Nn.sep&&(t=t.split(Nn.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function zn(t,e){if(e||(e=this instanceof Jn?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:Yn(t)}qn.filter=function(t,e){return e=e||{},function(i,r,s){return qn(i,t,e)}},qn.defaults=function(t){if(!t||!Object.keys(t).length)return qn;var e=qn,i=function(i,r,s){return e.minimatch(i,r,Bn(t,s))};return i.Minimatch=function(i,r){return new e.Minimatch(i,Bn(t,r))},i},Jn.defaults=function(t){return t&&Object.keys(t).length?qn.defaults(t).Minimatch:Jn},Jn.prototype.debug=function(){},Jn.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var i=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,i),i=this.globParts=i.map((function(t){return t.split(Un)})),this.debug(this.pattern,i),i=i.map((function(t,e,i){return t.map(this.parse,this)}),this),this.debug(this.pattern,i),i=i.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,i),this.set=i},Jn.prototype.parseNegate=function(){var t=this.pattern,e=!1,i=this.options,r=0;if(i.nonegate)return;for(var s=0,n=t.length;s<n&&"!"===t.charAt(s);s++)e=!e,r++;r&&(this.pattern=t.substr(r));this.negate=e},qn.braceExpand=function(t,e){return zn(t,e)},Jn.prototype.braceExpand=zn,Jn.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var i=this.options;if(!i.noglobstar&&"**"===t)return Vn;if(""===t)return"";var r,s="",n=!!i.nocase,o=!1,h=[],a=[],l=!1,u=-1,c=-1,d="."===t.charAt(0)?"":i.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=this;function f(){if(r){switch(r){case"*":s+="[^/]*?",n=!0;break;case"?":s+="[^/]",n=!0;break;default:s+="\\"+r}p.debug("clearStateChar %j %j",r,s),r=!1}}for(var g,m=0,v=t.length;m<v&&(g=t.charAt(m));m++)if(this.debug("%s\t%s %s %j",t,m,s,g),o&&Gn[g])s+="\\"+g,o=!1;else switch(g){case"/":return!1;case"\\":f(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,m,s,g),l){this.debug("  in class"),"!"===g&&m===c+1&&(g="^"),s+=g;continue}p.debug("call clearStateChar %j",r),f(),r=g,i.noext&&f();continue;case"(":if(l){s+="(";continue}if(!r){s+="\\(";continue}h.push({type:r,start:m-1,reStart:s.length,open:Hn[r].open,close:Hn[r].close}),s+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,s),r=!1;continue;case")":if(l||!h.length){s+="\\)";continue}f(),n=!0;var b=h.pop();s+=b.close,"!"===b.type&&a.push(b),b.reEnd=s.length;continue;case"|":if(l||!h.length||o){s+="\\|",o=!1;continue}f(),s+="|";continue;case"[":if(f(),l){s+="\\"+g;continue}l=!0,c=m,u=s.length,s+=g;continue;case"]":if(m===c+1||!l){s+="\\"+g,o=!1;continue}if(l){var y=t.substring(c+1,m);try{RegExp("["+y+"]")}catch(t){var w=this.parse(y,Qn);s=s.substr(0,u)+"\\["+w[0]+"\\]",n=n||w[1],l=!1;continue}}n=!0,l=!1,s+=g;continue;default:f(),o?o=!1:!Gn[g]||"^"===g&&l||(s+="\\"),s+=g}l&&(y=t.substr(c+1),w=this.parse(y,Qn),s=s.substr(0,u)+"\\["+w[0],n=n||w[1]);for(b=h.pop();b;b=h.pop()){var x=s.slice(b.reStart+b.open.length);this.debug("setting tail",s,b),x=x.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,i){return i||(i="\\"),e+e+i+"|"})),this.debug("tail=%j\n   %s",x,x,b,s);var S="*"===b.type?"[^/]*?":"?"===b.type?"[^/]":"\\"+b.type;n=!0,s=s.slice(0,b.reStart)+S+"\\("+x}f(),o&&(s+="\\\\");var O=!1;switch(s.charAt(0)){case".":case"[":case"(":O=!0}for(var k=a.length-1;k>-1;k--){var E=a[k],_=s.slice(0,E.reStart),M=s.slice(E.reStart,E.reEnd-8),j=s.slice(E.reEnd-8,E.reEnd),T=s.slice(E.reEnd);j+=T;var A=_.split("(").length-1,C=T;for(m=0;m<A;m++)C=C.replace(/\)[+*?]?/,"");var P="";""===(T=C)&&e!==Qn&&(P="$"),s=_+M+T+P+j}""!==s&&n&&(s="(?=.)"+s);O&&(s=d+s);if(e===Qn)return[s,n];if(!n)return function(t){return t.replace(/\\(.)/g,"$1")}(t);var I=i.nocase?"i":"";try{var $=new RegExp("^"+s+"$",I)}catch(t){return new RegExp("$.")}return $._glob=t,$._src=s,$};var Qn={};qn.makeRe=function(t,e){return new Jn(t,e||{}).makeRe()},Jn.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,i=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=e.nocase?"i":"",s=t.map((function(t){return t.map((function(t){return t===Vn?i:"string"==typeof t?function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t):t._src})).join("\\/")})).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,r)}catch(t){this.regexp=!1}return this.regexp},qn.match=function(t,e,i){var r=new Jn(e,i=i||{});return t=t.filter((function(t){return r.match(t)})),r.options.nonull&&!t.length&&t.push(e),t},Jn.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var i=this.options;"/"!==Nn.sep&&(t=t.split(Nn.sep).join("/"));t=t.split(Un),this.debug(this.pattern,"split",t);var r,s,n=this.set;for(this.debug(this.pattern,"set",n),s=t.length-1;s>=0&&!(r=t[s]);s--);for(s=0;s<n.length;s++){var o=n[s],h=t;if(i.matchBase&&1===o.length&&(h=[r]),this.matchOne(h,o,e))return!!i.flipNegate||!this.negate}return!i.flipNegate&&this.negate},Jn.prototype.matchOne=function(t,e,i){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var s=0,n=0,o=t.length,h=e.length;s<o&&n<h;s++,n++){this.debug("matchOne loop");var a,l=e[n],u=t[s];if(this.debug(e,l,u),!1===l)return!1;if(l===Vn){this.debug("GLOBSTAR",[e,l,u]);var c=s,d=n+1;if(d===h){for(this.debug("** at the end");s<o;s++)if("."===t[s]||".."===t[s]||!r.dot&&"."===t[s].charAt(0))return!1;return!0}for(;c<o;){var p=t[c];if(this.debug("\nglobstar while",t,c,e,d,p),this.matchOne(t.slice(c),e.slice(d),i))return this.debug("globstar found match!",c,o,p),!0;if("."===p||".."===p||!r.dot&&"."===p.charAt(0)){this.debug("dot detected!",t,c,e,d);break}this.debug("globstar swallow a segment, and continue"),c++}return!(!i||(this.debug("\n>>> no match, partial?",t,c,e,d),c!==o))}if("string"==typeof l?(a=r.nocase?u.toLowerCase()===l.toLowerCase():u===l,this.debug("string match",l,u,a)):(a=u.match(l),this.debug("pattern match",l,u,a)),!a)return!1}if(s===o&&n===h)return!0;if(s===o)return i;if(n===h)return s===o-1&&""===t[s];throw new Error("wtf?")};var Wn={exports:{}},Zn={exports:{}};"function"==typeof Object.create?Zn.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Zn.exports=function(t,e){if(e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}};try{var Kn=p.default;if("function"!=typeof Kn.inherits)throw"";Wn.exports=Kn.inherits}catch(t){Wn.exports=Zn.exports}var Xn={exports:{}};function to(t){return"/"===t.charAt(0)}function eo(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(t),i=e[1]||"",r=Boolean(i&&":"!==i.charAt(1));return Boolean(e[2]||r)}Xn.exports="win32"===process.platform?eo:to,Xn.exports.posix=to,Xn.exports.win32=eo;var io={};function ro(t,e){return Object.prototype.hasOwnProperty.call(t,e)}io.alphasort=lo,io.alphasorti=ao,io.setopts=function(t,e,i){i||(i={});if(i.matchBase&&-1===e.indexOf("/")){if(i.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!i.silent,t.pattern=e,t.strict=!1!==i.strict,t.realpath=!!i.realpath,t.realpathCache=i.realpathCache||Object.create(null),t.follow=!!i.follow,t.dot=!!i.dot,t.mark=!!i.mark,t.nodir=!!i.nodir,t.nodir&&(t.mark=!0);t.sync=!!i.sync,t.nounique=!!i.nounique,t.nonull=!!i.nonull,t.nosort=!!i.nosort,t.nocase=!!i.nocase,t.stat=!!i.stat,t.noprocess=!!i.noprocess,t.absolute=!!i.absolute,t.maxLength=i.maxLength||1/0,t.cache=i.cache||Object.create(null),t.statCache=i.statCache||Object.create(null),t.symlinks=i.symlinks||Object.create(null),function(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]);t.ignore.length&&(t.ignore=t.ignore.map(uo))}(t,i),t.changedCwd=!1;var r=process.cwd();ro(i,"cwd")?(t.cwd=so.resolve(i.cwd),t.changedCwd=t.cwd!==r):t.cwd=r;t.root=i.root||so.resolve(t.cwd,"/"),t.root=so.resolve(t.root),"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/"));t.cwdAbs=oo(t.cwd)?t.cwd:co(t,t.cwd),"win32"===process.platform&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/"));t.nomount=!!i.nomount,i.nonegate=!0,i.nocomment=!0,t.minimatch=new ho(e,i),t.options=t.minimatch.options},io.ownProp=ro,io.makeAbs=co,io.finish=function(t){for(var e=t.nounique,i=e?[]:Object.create(null),r=0,s=t.matches.length;r<s;r++){var n=t.matches[r];if(n&&0!==Object.keys(n).length){var o=Object.keys(n);e?i.push.apply(i,o):o.forEach((function(t){i[t]=!0}))}else if(t.nonull){var h=t.minimatch.globSet[r];e?i.push(h):i[h]=!0}}e||(i=Object.keys(i));t.nosort||(i=i.sort(t.nocase?ao:lo));if(t.mark){for(r=0;r<i.length;r++)i[r]=t._mark(i[r]);t.nodir&&(i=i.filter((function(e){var i=!/\/$/.test(e),r=t.cache[e]||t.cache[co(t,e)];return i&&r&&(i="DIR"!==r&&!Array.isArray(r)),i})))}t.ignore.length&&(i=i.filter((function(e){return!po(t,e)})));t.found=i},io.mark=function(t,e){var i=co(t,e),r=t.cache[i],s=e;if(r){var n="DIR"===r||Array.isArray(r),o="/"===e.slice(-1);if(n&&!o?s+="/":!n&&o&&(s=s.slice(0,-1)),s!==e){var h=co(t,s);t.statCache[h]=t.statCache[i],t.cache[h]=t.cache[i]}}return s},io.isIgnored=po,io.childrenIgnored=function(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return!(!t.gmatcher||!t.gmatcher.match(e))}))};var so=d.default,no=Fn,oo=Xn.exports,ho=no.Minimatch;function ao(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function lo(t,e){return t.localeCompare(e)}function uo(t){var e=null;if("/**"===t.slice(-3)){var i=t.replace(/(\/\*\*)+$/,"");e=new ho(i,{dot:!0})}return{matcher:new ho(t,{dot:!0}),gmatcher:e}}function co(t,e){var i=e;return i="/"===e.charAt(0)?so.join(t.root,e):oo(e)||""===e?e:t.changedCwd?so.resolve(t.cwd,e):so.resolve(e),"win32"===process.platform&&(i=i.replace(/\\/g,"/")),i}function po(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))}))}var fo=_o;_o.GlobSync=Mo;var go=c.default,mo=hn,vo=Fn,bo=d.default,yo=f.default,wo=Xn.exports,xo=io,So=xo.setopts,Oo=xo.ownProp,ko=xo.childrenIgnored,Eo=xo.isIgnored;function _o(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new Mo(t,e).found}function Mo(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof Mo))return new Mo(t,e);if(So(this,t,e),this.noprocess)return this;var i=this.minimatch.set.length;this.matches=new Array(i);for(var r=0;r<i;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}Mo.prototype._finish=function(){if(yo(this instanceof Mo),this.realpath){var t=this;this.matches.forEach((function(e,i){var r=t.matches[i]=Object.create(null);for(var s in e)try{s=t._makeAbs(s),r[mo.realpathSync(s,t.realpathCache)]=!0}catch(e){if("stat"!==e.syscall)throw e;r[t._makeAbs(s)]=!0}}))}xo.finish(this)},Mo.prototype._process=function(t,e,i){yo(this instanceof Mo);for(var r,s=0;"string"==typeof t[s];)s++;switch(s){case t.length:return void this._processSimple(t.join("/"),e);case 0:r=null;break;default:r=t.slice(0,s).join("/")}var n,o=t.slice(s);null===r?n=".":wo(r)||wo(t.join("/"))?(r&&wo(r)||(r="/"+r),n=r):n=r;var h=this._makeAbs(n);ko(this,n)||(o[0]===vo.GLOBSTAR?this._processGlobStar(r,n,h,o,e,i):this._processReaddir(r,n,h,o,e,i))},Mo.prototype._processReaddir=function(t,e,i,r,s,n){var o=this._readdir(i,n);if(o){for(var h=r[0],a=!!this.minimatch.negate,l=h._glob,u=this.dot||"."===l.charAt(0),c=[],d=0;d<o.length;d++){if("."!==(g=o[d]).charAt(0)||u)(a&&!t?!g.match(h):g.match(h))&&c.push(g)}var p=c.length;if(0!==p)if(1!==r.length||this.mark||this.stat){r.shift();for(d=0;d<p;d++){var f;g=c[d];f=t?[t,g]:[g],this._process(f.concat(r),s,n)}}else{this.matches[s]||(this.matches[s]=Object.create(null));for(var d=0;d<p;d++){var g=c[d];t&&(g="/"!==t.slice(-1)?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=bo.join(this.root,g)),this._emitMatch(s,g)}}}},Mo.prototype._emitMatch=function(t,e){if(!Eo(this,e)){var i=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=i),!this.matches[t][e]){if(this.nodir){var r=this.cache[i];if("DIR"===r||Array.isArray(r))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}},Mo.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,i;try{i=go.lstatSync(t)}catch(t){if("ENOENT"===t.code)return null}var r=i&&i.isSymbolicLink();return this.symlinks[t]=r,r||!i||i.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},Mo.prototype._readdir=function(t,e){if(e&&!Oo(this.symlinks,t))return this._readdirInGlobStar(t);if(Oo(this.cache,t)){var i=this.cache[t];if(!i||"FILE"===i)return null;if(Array.isArray(i))return i}try{return this._readdirEntries(t,go.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},Mo.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var i=0;i<e.length;i++){var r=e[i];r="/"===t?t+r:t+"/"+r,this.cache[r]=!0}return this.cache[t]=e,e},Mo.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(t);if(this.cache[i]="FILE",i===this.cwdAbs){var r=new Error(e.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=e.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},Mo.prototype._processGlobStar=function(t,e,i,r,s,n){var o=this._readdir(i,n);if(o){var h=r.slice(1),a=t?[t]:[],l=a.concat(h);this._process(l,s,!1);var u=o.length;if(!this.symlinks[i]||!n)for(var c=0;c<u;c++){if("."!==o[c].charAt(0)||this.dot){var d=a.concat(o[c],h);this._process(d,s,!0);var p=a.concat(o[c],r);this._process(p,s,!0)}}}},Mo.prototype._processSimple=function(t,e){var i=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),i){if(t&&wo(t)&&!this.nomount){var r=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=bo.join(this.root,t):(t=bo.resolve(this.root,t),r&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}},Mo.prototype._stat=function(t){var e=this._makeAbs(t),i="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&Oo(this.cache,e)){var r=this.cache[e];if(Array.isArray(r)&&(r="DIR"),!i||"DIR"===r)return r;if(i&&"FILE"===r)return!1}var s=this.statCache[e];if(!s){var n;try{n=go.lstatSync(e)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return this.statCache[e]=!1,!1}if(n&&n.isSymbolicLink())try{s=go.statSync(e)}catch(t){s=n}else s=n}this.statCache[e]=s;r=!0;return s&&(r=s.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||r,(!i||"FILE"!==r)&&r},Mo.prototype._mark=function(t){return xo.mark(this,t)},Mo.prototype._makeAbs=function(t){return xo.makeAbs(this,t)};var jo=function t(e,i){if(e&&i)return t(e)(i);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){r[t]=e[t]})),r;function r(){for(var t=new Array(arguments.length),i=0;i<t.length;i++)t[i]=arguments[i];var r=e.apply(this,t),s=t[t.length-1];return"function"==typeof r&&r!==s&&Object.keys(s).forEach((function(t){r[t]=s[t]})),r}};var To={exports:{}},Ao=jo;function Co(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function Po(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},i=t.name||"Function wrapped with `once`";return e.onceError=i+" shouldn't be called more than once",e.called=!1,e}To.exports=Ao(Co),To.exports.strict=Ao(Po),Co.proto=Co((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Co(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Po(this)},configurable:!0})}));var Io=jo,$o=Object.create(null),Do=To.exports,Ro=Io((function(t,e){return $o[t]?($o[t].push(e),null):($o[t]=[e],function(t){return Do((function e(){var i=$o[t],r=i.length,s=Lo(arguments);try{for(var n=0;n<r;n++)i[n].apply(null,s)}finally{i.length>r?(i.splice(0,r),process.nextTick((function(){e.apply(null,s)}))):delete $o[t]}}))}(t))}));function Lo(t){for(var e=t.length,i=[],r=0;r<e;r++)i[r]=t[r];return i}var Fo=eh,No=c.default,Vo=hn,Yo=Fn,Ho=Wn.exports,Go=l.default.EventEmitter,Uo=d.default,Bo=f.default,qo=Xn.exports,Jo=fo,zo=io,Qo=zo.setopts,Wo=zo.ownProp,Zo=Ro,Ko=zo.childrenIgnored,Xo=zo.isIgnored,th=To.exports;function eh(t,e,i){if("function"==typeof e&&(i=e,e={}),e||(e={}),e.sync){if(i)throw new TypeError("callback provided to sync glob");return Jo(t,e)}return new rh(t,e,i)}eh.sync=Jo;var ih=eh.GlobSync=Jo.GlobSync;function rh(t,e,i){if("function"==typeof e&&(i=e,e=null),e&&e.sync){if(i)throw new TypeError("callback provided to sync glob");return new ih(t,e)}if(!(this instanceof rh))return new rh(t,e,i);Qo(this,t,e),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof i&&(i=th(i),this.on("error",i),this.on("end",(function(t){i(null,t)})));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return o();for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1,o);function o(){--s._processing,s._processing<=0&&s._finish()}}eh.glob=eh,eh.hasMagic=function(t,e){var i=function(t,e){if(null===e||"object"!=typeof e)return t;for(var i=Object.keys(e),r=i.length;r--;)t[i[r]]=e[i[r]];return t}({},e);i.noprocess=!0;var r=new rh(t,i).minimatch.set;if(!t)return!1;if(r.length>1)return!0;for(var s=0;s<r[0].length;s++)if("string"!=typeof r[0][s])return!0;return!1},eh.Glob=rh,Ho(rh,Go),rh.prototype._finish=function(){if(Bo(this instanceof rh),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();zo.finish(this),this.emit("end",this.found)}},rh.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var e=this,i=0;i<this.matches.length;i++)this._realpathSet(i,r)}function r(){0==--t&&e._finish()}},rh.prototype._realpathSet=function(t,e){var i=this.matches[t];if(!i)return e();var r=Object.keys(i),s=this,n=r.length;if(0===n)return e();var o=this.matches[t]=Object.create(null);r.forEach((function(i,r){i=s._makeAbs(i),Vo.realpath(i,s.realpathCache,(function(r,h){r?"stat"===r.syscall?o[i]=!0:s.emit("error",r):o[h]=!0,0==--n&&(s.matches[t]=o,e())}))}))},rh.prototype._mark=function(t){return zo.mark(this,t)},rh.prototype._makeAbs=function(t){return zo.makeAbs(this,t)},rh.prototype.abort=function(){this.aborted=!0,this.emit("abort")},rh.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},rh.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var i=t[e];this._emitMatch(i[0],i[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(e=0;e<r.length;e++){var s=r[e];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}},rh.prototype._process=function(t,e,i,r){if(Bo(this instanceof rh),Bo("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([t,e,i,r]);else{for(var s,n=0;"string"==typeof t[n];)n++;switch(n){case t.length:return void this._processSimple(t.join("/"),e,r);case 0:s=null;break;default:s=t.slice(0,n).join("/")}var o,h=t.slice(n);null===s?o=".":qo(s)||qo(t.join("/"))?(s&&qo(s)||(s="/"+s),o=s):o=s;var a=this._makeAbs(o);if(Ko(this,o))return r();h[0]===Yo.GLOBSTAR?this._processGlobStar(s,o,a,h,e,i,r):this._processReaddir(s,o,a,h,e,i,r)}},rh.prototype._processReaddir=function(t,e,i,r,s,n,o){var h=this;this._readdir(i,n,(function(a,l){return h._processReaddir2(t,e,i,r,s,n,l,o)}))},rh.prototype._processReaddir2=function(t,e,i,r,s,n,o,h){if(!o)return h();for(var a=r[0],l=!!this.minimatch.negate,u=a._glob,c=this.dot||"."===u.charAt(0),d=[],p=0;p<o.length;p++){if("."!==(g=o[p]).charAt(0)||c)(l&&!t?!g.match(a):g.match(a))&&d.push(g)}var f=d.length;if(0===f)return h();if(1===r.length&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(p=0;p<f;p++){var g=d[p];t&&(g="/"!==t?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=Uo.join(this.root,g)),this._emitMatch(s,g)}return h()}r.shift();for(p=0;p<f;p++){g=d[p];t&&(g="/"!==t?t+"/"+g:t+g),this._process([g].concat(r),s,n,h)}h()},rh.prototype._emitMatch=function(t,e){if(!this.aborted&&!Xo(this,e))if(this.paused)this._emitQueue.push([t,e]);else{var i=qo(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=i),!this.matches[t][e]){if(this.nodir){var r=this.cache[i];if("DIR"===r||Array.isArray(r))return}this.matches[t][e]=!0;var s=this.statCache[i];s&&this.emit("stat",e,s),this.emit("match",e)}}},rh.prototype._readdirInGlobStar=function(t,e){if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var i=this,r=Zo("lstat\0"+t,(function(r,s){if(r&&"ENOENT"===r.code)return e();var n=s&&s.isSymbolicLink();i.symlinks[t]=n,n||!s||s.isDirectory()?i._readdir(t,!1,e):(i.cache[t]="FILE",e())}));r&&No.lstat(t,r)}},rh.prototype._readdir=function(t,e,i){if(!this.aborted&&(i=Zo("readdir\0"+t+"\0"+e,i))){if(e&&!Wo(this.symlinks,t))return this._readdirInGlobStar(t,i);if(Wo(this.cache,t)){var r=this.cache[t];if(!r||"FILE"===r)return i();if(Array.isArray(r))return i(null,r)}No.readdir(t,function(t,e,i){return function(r,s){r?t._readdirError(e,r,i):t._readdirEntries(e,s,i)}}(this,t,i))}},rh.prototype._readdirEntries=function(t,e,i){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var s=e[r];s="/"===t?t+s:t+"/"+s,this.cache[s]=!0}return this.cache[t]=e,i(null,e)}},rh.prototype._readdirError=function(t,e,i){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var s=new Error(e.code+" invalid cwd "+this.cwd);s.path=this.cwd,s.code=e.code,this.emit("error",s),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return i()}},rh.prototype._processGlobStar=function(t,e,i,r,s,n,o){var h=this;this._readdir(i,n,(function(a,l){h._processGlobStar2(t,e,i,r,s,n,l,o)}))},rh.prototype._processGlobStar2=function(t,e,i,r,s,n,o,h){if(!o)return h();var a=r.slice(1),l=t?[t]:[],u=l.concat(a);this._process(u,s,!1,h);var c=this.symlinks[i],d=o.length;if(c&&n)return h();for(var p=0;p<d;p++){if("."!==o[p].charAt(0)||this.dot){var f=l.concat(o[p],a);this._process(f,s,!0,h);var g=l.concat(o[p],r);this._process(g,s,!0,h)}}h()},rh.prototype._processSimple=function(t,e,i){var r=this;this._stat(t,(function(s,n){r._processSimple2(t,e,s,n,i)}))},rh.prototype._processSimple2=function(t,e,i,r,s){if(this.matches[e]||(this.matches[e]=Object.create(null)),!r)return s();if(t&&qo(t)&&!this.nomount){var n=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=Uo.join(this.root,t):(t=Uo.resolve(this.root,t),n&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),s()},rh.prototype._stat=function(t,e){var i=this._makeAbs(t),r="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&Wo(this.cache,i)){var s=this.cache[i];if(Array.isArray(s)&&(s="DIR"),!r||"DIR"===s)return e(null,s);if(r&&"FILE"===s)return e()}var n=this.statCache[i];if(void 0!==n){if(!1===n)return e(null,n);var o=n.isDirectory()?"DIR":"FILE";return r&&"FILE"===o?e():e(null,o,n)}var h=this,a=Zo("stat\0"+i,(function(r,s){if(s&&s.isSymbolicLink())return No.stat(i,(function(r,n){r?h._stat2(t,i,null,s,e):h._stat2(t,i,r,n,e)}));h._stat2(t,i,r,s,e)}));a&&No.lstat(i,a)},rh.prototype._stat2=function(t,e,i,r,s){if(i&&("ENOENT"===i.code||"ENOTDIR"===i.code))return this.statCache[e]=!1,s();var n="/"===t.slice(-1);if(this.statCache[e]=r,"/"===e.slice(-1)&&r&&!r.isDirectory())return s(null,!1,r);var o=!0;return r&&(o=r.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,n&&"FILE"===o?s():s(null,o,r)};var sh=u.default,nh=c.default,oh=Fo,hh=Ws,ah=Object.create(hh);Zs.extend=Object.assign;var lh=Boolean(process.versions.electron),uh={fatal:!1,globOptions:{},maxdepth:255,noglob:!1,silent:!1,verbose:!1,execPath:null,bufLength:65536},ch={reset:function(){Object.assign(this,uh),lh||(this.execPath=process.execPath)},resetForTesting:function(){this.reset(),this.silent=!0}};ch.reset(),Zs.config=ch;var dh={error:null,errorCode:0,currentCmd:"shell.js"};function ph(t){return"object"==typeof t&&null!==t}function fh(){ch.silent||console.error.apply(console,arguments)}function gh(t){if("string"!=typeof t)throw new TypeError("input must be a string");return t.replace(/\\/g,"/")}function mh(t,e,i){if("string"!=typeof t)throw new Error("msg must be a string");var r={continue:!1,code:1,prefix:dh.currentCmd+": ",silent:!1};"number"==typeof e&&ph(i)?i.code=e:ph(e)?i=e:"number"==typeof e?i={code:e}:"number"!=typeof e&&(i={}),i=Object.assign({},r,i),dh.errorCode||(dh.errorCode=i.code);var s=gh(i.prefix+t);if(dh.error=dh.error?dh.error+"\n":"",dh.error+=s,ch.fatal)throw new Error(s);if(t.length>0&&!i.silent&&fh(s),!i.continue)throw{msg:"earlyExit",retValue:new vh("",dh.error,dh.errorCode)}}function vh(t,e,i){var r;return t instanceof Array?((r=t).stdout=t.join("\n"),t.length>0&&(r.stdout+="\n")):(r=new String(t)).stdout=t,r.stderr=e,r.code=i,Oh.forEach((function(t){r[t]=ah[t].bind(r)})),r}function bh(t,e,i){if("string"!=typeof t&&!ph(t))throw new Error("options must be strings or key-value pairs");if(!ph(e))throw new Error("parseOptions() internal error: map must be an object");if(i&&!ph(i))throw new Error("parseOptions() internal error: errorOptions must be object");if("--"===t)return{};var r={};if(Object.keys(e).forEach((function(t){var i=e[t];"!"!==i[0]&&(r[i]=!1)})),""===t)return r;if("string"==typeof t){if("-"!==t[0])throw new Error("Options string must start with a '-'");t.slice(1).split("").forEach((function(t){if(t in e){var s=e[t];"!"===s[0]?r[s.slice(1)]=!1:r[s]=!0}else mh("option not recognized: "+t,i||{})}))}else Object.keys(t).forEach((function(s){var n=s[1];if(n in e){var o=e[n];r[o]=t[s]}else mh("option not recognized: "+n,i||{})}));return r}function yh(t){if(!Array.isArray(t))throw new TypeError("must be an array");var e=[];return t.forEach((function(t){if("string"!=typeof t)e.push(t);else{var i;try{i=(i=oh.sync(t,ch.globOptions)).length>0?i:[t]}catch(e){i=[t]}e=e.concat(i)}})),e}Zs.state=dh,delete process.env.OLDPWD,Zs.isObject=ph,Zs.log=fh,Zs.convertErrorOutput=gh,Zs.error=mh,Zs.ShellString=vh,Zs.parseOptions=bh,Zs.expand=yh;var wh="function"==typeof Buffer.alloc?function(t){return Buffer.alloc(t||ch.bufLength)}:function(t){return new Buffer(t||ch.bufLength)};function xh(t,e,i){return i=i||{},function(){var r=null;dh.currentCmd=t,dh.error=null,dh.errorCode=0;try{var s=[].slice.call(arguments,0);if(ch.verbose&&console.error.apply(console,[t].concat(s)),dh.pipedValue=this&&"string"==typeof this.stdout?this.stdout:"",!1===i.unix)r=e.apply(this,s);else{ph(s[0])&&"Object"===s[0].constructor.name||(0===s.length||"string"!=typeof s[0]||s[0].length<=1||"-"!==s[0][0])&&s.unshift(""),s=(s=s.reduce((function(t,e){return Array.isArray(e)?t.concat(e):(t.push(e),t)}),[])).map((function(t){return ph(t)&&"String"===t.constructor.name?t.toString():t}));var n=sh.homedir();s=s.map((function(t){return"string"==typeof t&&"~/"===t.slice(0,2)||"~"===t?t.replace(/^~/,n):t})),ch.noglob||!0!==i.allowGlobbing||(s=s.slice(0,i.globStart).concat(yh(s.slice(i.globStart))));try{ph(i.cmdOptions)&&(s[0]=bh(s[0],i.cmdOptions)),r=e.apply(this,s)}catch(t){if("earlyExit"!==t.msg)throw t;r=t.retValue}}}catch(t){if(!dh.error)throw t.name="ShellJSInternalError",t;if(ch.fatal)throw t}return i.wrapOutput&&("string"==typeof r||Array.isArray(r))&&(r=new vh(r,dh.error,dh.errorCode)),dh.currentCmd="shell.js",r}}Zs.buffer=wh,Zs.unlinkSync=function(t){try{nh.unlinkSync(t)}catch(e){if("EPERM"!==e.code)throw e;nh.chmodSync(t,"0666"),nh.unlinkSync(t)}},Zs.statFollowLinks=function(){return nh.statSync.apply(nh,arguments)},Zs.statNoFollowLinks=function(){return nh.lstatSync.apply(nh,arguments)},Zs.randomFileName=function(){return"shelljs_"+function t(e){if(1===e)return parseInt(16*Math.random(),10).toString(16);for(var i="",r=0;r<e;r++)i+=t(1);return i}(20)},Zs.wrap=xh,Zs.readFromPipe=function(){return dh.pipedValue};var Sh={allowGlobbing:!0,canReceivePipe:!1,cmdOptions:null,globStart:1,pipeOnly:!1,wrapOutput:!0,unix:!0},Oh=[];Zs.register=function(t,e,i){if(i=i||{},Object.keys(i).forEach((function(t){if(!Sh.hasOwnProperty(t))throw new Error("Unknown option '"+t+"'");if(typeof i[t]!=typeof Sh[t])throw new TypeError("Unsupported type '"+typeof i[t]+"' for option '"+t+"'")})),i=Object.assign({},Sh,i),hh.hasOwnProperty(t))throw new Error("Command `"+t+"` already exists");i.pipeOnly?(i.canReceivePipe=!0,ah[t]=xh(t,e,i)):hh[t]=xh(t,e,i),i.canReceivePipe&&Oh.push(t)};var kh=Zs;var Eh=function(){return kh.state.error},_h=Zs;["cat","cd","chmod","cp","dirs","echo","exec","find","grep","head","ln","ls","mkdir","mv","pwd","rm","sed","set","sort","tail","tempdir","test","to","toEnd","touch","uniq","which"].forEach((function(t){require("./src/"+t)})),Ws.exit=process.exit,Ws.error=Eh,Ws.ShellString=_h.ShellString,Ws.env=process.env,Ws.config=_h.config;var Mh=require("fs");!function(){m(this,void 0,void 0,(function(){var t,e,i,r,s,n,o,h;return v(this,(function(a){switch(a.label){case 0:return t=require("../../package.json"),(e=t.version.split("."))[e.length-1]=Number(e[e.length-1])+1,e=e.join("."),i=[{type:"text",name:"version",message:"当前版本"+t.version,initial:e}],[4,Qs(i)];case 1:return r=a.sent().version,[4,Qs([{type:"text",name:"commit",message:"Input Your git commit log",initial:"Update: "+r},{name:"push",type:"confirm",message:"Can you push code?"}])];case 2:return s=a.sent(),n=s.commit,o=s.push,Ws.echo("rollup building......"),Ws.exec("rollup -c"),Ws.echo("write package.json start"),Mh.writeFileSync("./package.json",JSON.stringify(g(g({},t),{version:r}),null,4)),Ws.echo("write package.json success"),Ws.echo("write README.md start"),h=(h=Mh.readFileSync("./README.md").toString()).replace(/#\d+\.\d+\.\d+/,"#"+r),Mh.writeFileSync("./README.md",h),Ws.echo("write README.md success"),Ws.exec('git commit -a -m "'+n+'"'),Ws.exec("git tag -a "+r+' -m "'+r+'"'),o&&(Ws.exec("git push origin --follow-tags"),Ws.exec("git push gitlab --follow-tags")),[2]}}))}))}();
